import{u as A,d as H,a as m,i as s,c as o,e as M,s as K,F as N,b as S,t as d,f as Q,g as R,h as O,j as F,k as j,l as q,m as U,n as X}from"./index-pgW-Dub7.js";import{u as Y}from"./useCharacters-8VJotSpL.js";const Z="_mainBody_1x0kc_1",ee={mainBody:Z},te="_statBlocks_1g289_1",ae={statBlocks:te},re="_statStyle_1qcla_1",se="_stat_1qcla_1",ie="_secondBox_1qcla_51",P={statStyle:re,stat:se,secondBox:ie};var ne=d("<div><div><span><span></span><ul><li></li><li></li></ul></span></div><div><ul><li> Saving Throw: "),le=d("<li><span></span><label> <!> </label><span><u>_<!>_"),ce=d("<u>✓✓ "),oe=d("<u>✓_ "),ue=d("<u>__");const G=[{name:"Acrobatics",proficient:!0,expertise:!1},{name:"Animal Handling",proficient:!1,expertise:!1},{name:"Arcana",proficient:!1,expertise:!1},{name:"Athletics",proficient:!1,expertise:!1},{name:"Deception",proficient:!1,expertise:!1},{name:"History",proficient:!1,expertise:!1},{name:"Insight",proficient:!1,expertise:!1},{name:"Intimidation",proficient:!1,expertise:!1},{name:"Investigation",proficient:!1,expertise:!1},{name:"Medicine",proficient:!1,expertise:!1},{name:"Nature",proficient:!1,expertise:!1},{name:"Perception",proficient:!1,expertise:!1},{name:"Performance",proficient:!1,expertise:!1},{name:"Persuasion",proficient:!1,expertise:!1},{name:"Religion",proficient:!1,expertise:!1},{name:"Sleight of Hand",proficient:!1,expertise:!1},{name:"Stealth",proficient:!1,expertise:!1},{name:"Survival",proficient:!1,expertise:!1}],_=e=>{const i=t=>Math.floor((t-10)/2),a=A(),[l,u]=H(G);m(()=>{u(G.map(t=>(e.skills.includes(t.name)&&(t={...t,proficient:!0}),e.expertise?.includes(t.name)&&(t={...t,proficient:!0,expertise:!0}),t)))});const f=t=>{switch(t){case"Strength":return["Athletics"];case"Dexterity":return["Acrobatics","Sleight of Hand","Stealth"];case"Constitution":return[];case"Intelligence":return["Arcana","History","Investigation","Nature","Religion"];case"Wisdom":return["Animal Handling","Insight","Medicine","Perception","Survival"];case"Charisma":return["Deception","Intimidation","Performance","Persuasion"];default:return[]}},n=t=>{let c=i(e.stat);return t.proficient&&(c+=e.proficientMod),t.expertise&&(c+=e.proficientMod),c};return(()=>{var t=ne(),c=t.firstChild,h=c.firstChild,v=h.firstChild,I=v.nextSibling,C=I.firstChild,$=C.nextSibling,B=c.nextSibling,p=B.firstChild,g=p.firstChild,y=g.firstChild;return s(v,()=>i(e.stat)),s(C,()=>e.stat),s($,()=>e.name),s(g,()=>e.name,y),s(p,o(N,{get each(){return l().filter(r=>f(e.name).includes(r.name))},children:r=>(()=>{var b=le(),k=b.firstChild,x=k.nextSibling,w=x.firstChild,L=w.nextSibling;L.nextSibling;var V=x.nextSibling,E=V.firstChild,W=E.firstChild,D=W.nextSibling;return D.nextSibling,s(k,(()=>{var T=M(()=>!!r.proficient);return()=>T()?(()=>{var z=M(()=>!!r.expertise);return()=>z()?ce():oe()})():ue()})()),s(x,()=>r.name,L),s(E,()=>n(r),D),m(()=>K(x,"for",r.name)),b})()}),null),m(r=>{var b=`${P.statStyle}`,k=`${P.stat}`,x=`${a.accent}`,w=`${P.secondBox}`;return b!==r.e&&S(t,r.e=b),k!==r.t&&S(c,r.t=k),x!==r.a&&S(v,r.a=x),w!==r.o&&S(B,r.o=w),r},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()};var fe=d("<div>");const me=e=>{A();const i=a=>Math.ceil(a/4)+1;return(()=>{var a=fe();return s(a,o(_,{get stat(){return e.fullStats().str},name:"Strength",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),s(a,o(_,{get stat(){return e.fullStats().dex},name:"Dexterity",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),s(a,o(_,{get stat(){return e.fullStats().con},name:"Constitution",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),s(a,o(_,{get stat(){return e.fullStats().int},name:"Intelligence",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),s(a,o(_,{get stat(){return e.fullStats().wis},name:"Wisdom",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),s(a,o(_,{get stat(){return e.fullStats().cha},name:"Charisma",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),m(()=>S(a,`${ae.statBlocks}`)),a})()},J=()=>{const e=Q();return M(()=>[...e()])},de=e=>M(()=>{R(),O(),F();const a=j();J(),q();const l=a().filter(f=>f.name.toLowerCase()===e()?.race.toLowerCase())[0];let u={str:e()?.stats.str,dex:e()?.stats.dex,con:e()?.stats.con,int:e()?.stats.int,wis:e()?.stats.wis,cha:e()?.stats.cha};if(l&&l.abilityBonuses.length>0){l.abilityBonuses.forEach(n=>{Object.keys(u).forEach(t=>{n.name.toLowerCase()===t&&(u[t]+=n.value)})});const f=l.subRaces?.filter(n=>n.name.toLowerCase()===e()?.subrace?.toLowerCase())[0];f&&f.abilityBonuses.forEach(n=>{Object.keys(u).forEach(t=>{n.name.toLowerCase()===t&&(u[t]+=n.value)})})}return u});var he=d("<div><h1>Characters View</h1><div><div><select></select></div><div><div><h2>Stats"),ge=d("<option>");const Se=()=>{const e=A();U();const[i,a]=X(),[l,u]=Y();i.name||a({name:l()[0].name});const f=l().filter(h=>h.name.toLowerCase()===(i.name||l()[0].name).toLowerCase())[0],[n,t]=H(f),c=de(n);return R(),O(),F(),j(),J(),q(),m(()=>{a({name:n().name})}),(()=>{var h=he(),v=h.firstChild,I=v.nextSibling,C=I.firstChild,$=C.firstChild,B=C.nextSibling,p=B.firstChild;return p.firstChild,$.addEventListener("change",g=>t(()=>JSON.parse(g.target.value))),s($,o(N,{get each(){return l()},children:g=>(()=>{var y=ge();return s(y,()=>g.name),m(()=>y.value=JSON.stringify(g)),y})()})),s(p,o(me,{fullStats:c,currentCharacter:n}),null),m(()=>S(h,`${e.accent} ${ee.mainBody}`)),m(()=>$.value=JSON.stringify(n())),h})()};export{Se as default};
