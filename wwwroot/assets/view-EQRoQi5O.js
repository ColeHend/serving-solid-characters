import{u as I,d as E,a as S,i as n,c as o,e as f,s as K,F as G,b as v,t as d,f as Q,g as U,h as X,j as Y,k as Z,l as H,m as ee}from"./index-R0MOjSnr.js";import{u as te}from"./useCharacters-vBwPXLuo.js";const se="_mainBody_1x0kc_1",re={mainBody:se},ae="_statBlocks_1g289_1",ne={statBlocks:ae},ie="_statStyle_1qcla_1",le="_stat_1qcla_1",ce="_secondBox_1qcla_51",D={statStyle:ie,stat:le,secondBox:ce};var oe=d("<div><div><span><span></span><ul><li></li><li></li></ul></span></div><div><ul><li> Saving Throw: "),ue=d("<li><span></span><label> <!> </label><span><u>_<!>_"),fe=d("<u>✓✓ "),de=d("<u>✓_ "),me=d("<u>__");const P=[{name:"Acrobatics",proficient:!0,expertise:!1},{name:"Animal Handling",proficient:!1,expertise:!1},{name:"Arcana",proficient:!1,expertise:!1},{name:"Athletics",proficient:!1,expertise:!1},{name:"Deception",proficient:!1,expertise:!1},{name:"History",proficient:!1,expertise:!1},{name:"Insight",proficient:!1,expertise:!1},{name:"Intimidation",proficient:!1,expertise:!1},{name:"Investigation",proficient:!1,expertise:!1},{name:"Medicine",proficient:!1,expertise:!1},{name:"Nature",proficient:!1,expertise:!1},{name:"Perception",proficient:!1,expertise:!1},{name:"Performance",proficient:!1,expertise:!1},{name:"Persuasion",proficient:!1,expertise:!1},{name:"Religion",proficient:!1,expertise:!1},{name:"Sleight of Hand",proficient:!1,expertise:!1},{name:"Stealth",proficient:!1,expertise:!1},{name:"Survival",proficient:!1,expertise:!1}],C=e=>{const r=t=>Math.floor((t-10)/2),s=I(),[m,c]=E(P);S(()=>{c(P.map(t=>(e.skills.includes(t.name)&&(t={...t,proficient:!0}),e.expertise?.includes(t.name)&&(t={...t,proficient:!0,expertise:!0}),t)))});const u=t=>{switch(t){case"Strength":return["Athletics"];case"Dexterity":return["Acrobatics","Sleight of Hand","Stealth"];case"Constitution":return[];case"Intelligence":return["Arcana","History","Investigation","Nature","Religion"];case"Wisdom":return["Animal Handling","Insight","Medicine","Perception","Survival"];case"Charisma":return["Deception","Intimidation","Performance","Persuasion"];default:return[]}},i=t=>{let l=r(e.stat);return t.proficient&&(l+=e.proficientMod),t.expertise&&(l+=e.proficientMod),l};return(()=>{var t=oe(),l=t.firstChild,w=l.firstChild,$=w.firstChild,b=$.nextSibling,x=b.firstChild,M=x.nextSibling,p=l.nextSibling,g=p.firstChild,_=g.firstChild,J=_.firstChild;return n($,()=>r(e.stat)),n(x,()=>e.stat),n(M,()=>e.name),n(_,()=>e.name,J),n(g,o(G,{get each(){return m().filter(a=>u(e.name).includes(a.name))},children:a=>(()=>{var k=ue(),y=k.firstChild,h=y.nextSibling,B=h.firstChild,A=B.nextSibling;A.nextSibling;var V=h.nextSibling,L=V.firstChild,W=L.firstChild,F=W.nextSibling;return F.nextSibling,n(y,(()=>{var T=f(()=>!!a.proficient);return()=>T()?(()=>{var z=f(()=>!!a.expertise);return()=>z()?fe():de()})():me()})()),n(h,()=>a.name,A),n(L,()=>i(a),F),S(()=>K(h,"for",a.name)),k})()}),null),S(a=>{var k=`${D.statStyle}`,y=`${D.stat}`,h=`${s.accent}`,B=`${D.secondBox}`;return k!==a.e&&v(t,a.e=k),y!==a.t&&v(l,a.t=y),h!==a.a&&v($,a.a=h),B!==a.o&&v(p,a.o=B),a},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()};var ge=d("<div>");const he=e=>{I();const r=s=>Math.ceil(s/4)+1;return(()=>{var s=ge();return n(s,o(C,{get stat(){return e.fullStats().str},name:"Strength",get proficientMod(){return r(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),n(s,o(C,{get stat(){return e.fullStats().dex},name:"Dexterity",get proficientMod(){return r(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),n(s,o(C,{get stat(){return e.fullStats().con},name:"Constitution",get proficientMod(){return r(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),n(s,o(C,{get stat(){return e.fullStats().int},name:"Intelligence",get proficientMod(){return r(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),n(s,o(C,{get stat(){return e.fullStats().wis},name:"Wisdom",get proficientMod(){return r(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),n(s,o(C,{get stat(){return e.fullStats().cha},name:"Charisma",get proficientMod(){return r(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),S(()=>v(s,`${ne.statBlocks}`)),s})()},N=()=>{const e=Q();return f(()=>[...e()])},R=()=>{const e=U();return f(()=>[...e()])},O=()=>{const e=X();return f(()=>[...e()])},j=()=>{const e=Y();return f(()=>[...e()])},q=()=>{const e=Z();return f(()=>[...e()])},Se=e=>f(()=>{N(),R(),O();const s=H();j(),q();const m=s().filter(i=>i.name.toLowerCase()===e().race.toLowerCase())[0];let c={str:e().stats.str,dex:e().stats.dex,con:e().stats.con,int:e().stats.int,wis:e().stats.wis,cha:e().stats.cha};m&&m.abilityBonuses.length>0&&m.abilityBonuses.forEach(i=>{Object.keys(c).forEach(t=>{i.name.toLowerCase()===t&&(c[t]+=i.value)})});const u=m.subRaces?.filter(i=>i.name.toLowerCase()===e().subrace?.toLowerCase())[0];return u&&u.abilityBonuses.forEach(i=>{Object.keys(c).forEach(t=>{i.name.toLowerCase()===t&&(c[t]+=i.value)})}),c});var xe=d("<div><h1>Characters View</h1><div><div><select></select></div><div><div><h2>Stats"),_e=d("<option>");const $e=()=>{const e=I(),r=ee(),[s,m]=te(),c=s().filter(l=>l.name?.toLowerCase()===r.name?.toLowerCase())[0]??s()[0],[u,i]=E(c),t=Se(u);return N(),R(),O(),H(),j(),q(),(()=>{var l=xe(),w=l.firstChild,$=w.nextSibling,b=$.firstChild,x=b.firstChild,M=b.nextSibling,p=M.firstChild;return p.firstChild,x.addEventListener("change",g=>i(()=>JSON.parse(g.target.value))),n(x,o(G,{get each(){return s()},children:g=>(()=>{var _=_e();return n(_,()=>g.name),S(()=>_.value=JSON.stringify(g)),_})()})),n(p,o(he,{fullStats:t,currentCharacter:u}),null),S(()=>v(l,`${e.accent} ${re.mainBody}`)),S(()=>x.value=JSON.stringify(u())),l})()};export{$e as default};
