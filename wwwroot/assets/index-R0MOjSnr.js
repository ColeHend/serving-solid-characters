(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const mo="modulepreload",yo=function(e){return"/"+e},oi={},Cn=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=yo(o),o in oi)return;oi[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":mo,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},F={context:void 0,registry:void 0};function Ct(e){F.context=e}const go=(e,t)=>e===t,hn=Symbol("solid-proxy"),vo=Symbol("solid-track"),fn={equals:go};let zi=Ji;const je=1,dn=2,Hi={owned:null,cleanups:null,context:null,owner:null},Ln={};var q=null;let jn=null,bo=null,z=null,ae=null,Oe=null,En=0;function ct(e,t){const n=z,r=q,i=e.length===0,s=t===void 0?r:t,o=i?Hi:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=i?e:()=>e(()=>re(()=>Rn(o)));q=o,z=null;try{return Be(a,!0)}finally{z=n,q=r}}function K(e,t){t=t?Object.assign({},fn,t):fn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Qi(n,i));return[Xi.bind(n),r]}function ai(e,t,n){const r=An(e,t,!0,je);vt(r)}function O(e,t,n){const r=An(e,t,!1,je);vt(r)}function wo(e,t,n){zi=Eo;const r=An(e,t,!1,je);(!n||!n.render)&&(r.user=!0),Oe?Oe.push(r):vt(r)}function U(e,t,n){n=n?Object.assign({},fn,n):fn;const r=An(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,vt(r),Xi.bind(r)}function _o(e){return e&&typeof e=="object"&&"then"in e}function xo(e,t,n){let r,i,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,i=e,s=t||{}):(r=e,i=t,s=n||{});let o=null,a=Ln,l=null,u=!1,c="initialValue"in s,h=typeof r=="function"&&U(r);const f=new Set,[p,v]=(s.storage||K)(s.initialValue),[d,g]=K(void 0),[y,m]=K(void 0,{equals:!1}),[b,_]=K(c?"ready":"unresolved");if(F.context){l=`${F.context.id}${F.context.count++}`;let x;s.ssrLoadFrom==="initial"?a=s.initialValue:F.load&&(x=F.load(l))&&(a=x)}function $(x,T,A,R){return o===x&&(o=null,R!==void 0&&(c=!0),(x===a||T===a)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(R,{value:T})),a=Ln,C(T,A)),T}function C(x,T){Be(()=>{T===void 0&&v(()=>x),_(T!==void 0?"errored":c?"ready":"unresolved"),g(T);for(const A of f.keys())A.decrement();f.clear()},!1)}function k(){const x=So,T=p(),A=d();if(A!==void 0&&!o)throw A;return z&&!z.user&&x&&ai(()=>{y(),o&&(x.resolved||f.has(x)||(x.increment(),f.add(x)))}),T}function B(x=!0){if(x!==!1&&u)return;u=!1;const T=h?h():r;if(T==null||T===!1){$(o,re(p));return}const A=a!==Ln?a:re(()=>i(T,{value:p(),refetching:x}));return _o(A)?(o=A,"value"in A?(A.status==="success"?$(o,A.value,void 0,T):$(o,void 0,void 0,T),A):(u=!0,queueMicrotask(()=>u=!1),Be(()=>{_(c?"refreshing":"pending"),m()},!1),A.then(R=>$(A,R,void 0,T),R=>$(A,void 0,es(R),T)))):($(o,A,void 0,T),A)}return Object.defineProperties(k,{state:{get:()=>b()},error:{get:()=>d()},loading:{get(){const x=b();return x==="pending"||x==="refreshing"}},latest:{get(){if(!c)return k();const x=d();if(x&&!o)throw x;return p()}}}),h?ai(()=>B(!1)):B(!1),[k,{refetch:B,mutate:v}]}function re(e){if(z===null)return e();const t=z;z=null;try{return e()}finally{z=t}}function Yi(e,t,n){const r=Array.isArray(e);let i,s=n&&n.defer;return o=>{let a;if(r){a=Array(e.length);for(let u=0;u<e.length;u++)a[u]=e[u]()}else a=e();if(s){s=!1;return}const l=re(()=>t(a,i,o));return i=a,l}}function pt(e){return q===null||(q.cleanups===null?q.cleanups=[e]:q.cleanups.push(e)),e}function pn(){return q}function Kr(e,t){const n=q,r=z;q=e,z=null;try{return Be(t,!0)}catch(i){Mr(i)}finally{q=n,z=r}}function $o(e){const t=z,n=q;return Promise.resolve().then(()=>{z=t,q=n;let r;return Be(e,!1),z=q=null,r?r.done:void 0})}function Gi(e,t){const n=Symbol("context");return{id:n,Provider:Po(n),defaultValue:e}}function Nr(e){return q&&q.context&&q.context[e.id]!==void 0?q.context[e.id]:e.defaultValue}function Pn(e){const t=U(e),n=U(()=>tr(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let So;function Xi(){if(this.sources&&this.state)if(this.state===je)vt(this);else{const e=ae;ae=null,Be(()=>yn(this),!1),ae=e}if(z){const e=this.observers?this.observers.length:0;z.sources?(z.sources.push(this),z.sourceSlots.push(e)):(z.sources=[this],z.sourceSlots=[e]),this.observers?(this.observers.push(z),this.observerSlots.push(z.sources.length-1)):(this.observers=[z],this.observerSlots=[z.sources.length-1])}return this.value}function Qi(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Be(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],o=jn&&jn.running;o&&jn.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?ae.push(s):Oe.push(s),s.observers&&Zi(s)),o||(s.state=je)}if(ae.length>1e6)throw ae=[],new Error},!1)),t}function vt(e){if(!e.fn)return;Rn(e);const t=En;ko(e,e.value,t)}function ko(e,t,n){let r;const i=q,s=z;z=q=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=je,e.owned&&e.owned.forEach(Rn),e.owned=null),e.updatedAt=n+1,Mr(o)}finally{z=s,q=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Qi(e,r):e.value=r,e.updatedAt=n)}function An(e,t,n,r=je,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:q,context:q?q.context:null,pure:n};return q===null||q!==Hi&&(q.owned?q.owned.push(s):q.owned=[s]),s}function mn(e){if(e.state===0)return;if(e.state===dn)return yn(e);if(e.suspense&&re(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<En);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===je)vt(e);else if(e.state===dn){const r=ae;ae=null,Be(()=>yn(e,t[0]),!1),ae=r}}function Be(e,t){if(ae)return e();let n=!1;t||(ae=[]),Oe?n=!0:Oe=[],En++;try{const r=e();return Co(n),r}catch(r){n||(Oe=null),ae=null,Mr(r)}}function Co(e){if(ae&&(Ji(ae),ae=null),e)return;const t=Oe;Oe=null,t.length&&Be(()=>zi(t),!1)}function Ji(e){for(let t=0;t<e.length;t++)mn(e[t])}function Eo(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:mn(r)}if(F.context){if(F.count){F.effects||(F.effects=[]),F.effects.push(...e.slice(0,n));return}else F.effects&&(e=[...F.effects,...e],n+=F.effects.length,delete F.effects);Ct()}for(t=0;t<n;t++)mn(e[t])}function yn(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===je?r!==t&&(!r.updatedAt||r.updatedAt<En)&&mn(r):i===dn&&yn(r,t)}}}function Zi(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=dn,n.pure?ae.push(n):Oe.push(n),n.observers&&Zi(n))}}function Rn(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Rn(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function es(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Mr(e,t=q){throw es(e)}function tr(e){if(typeof e=="function"&&!e.length)return tr(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=tr(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Po(e,t){return function(r){let i;return O(()=>i=re(()=>(q.context={...q.context,[e]:r.value},Pn(()=>r.children))),void 0),i}}const Ao=Symbol("fallback");function li(e){for(let t=0;t<e.length;t++)e[t]()}function Ro(e,t,n={}){let r=[],i=[],s=[],o=0,a=t.length>1?[]:null;return pt(()=>li(s)),()=>{let l=e()||[],u,c;return l[vo],re(()=>{let f=l.length,p,v,d,g,y,m,b,_,$;if(f===0)o!==0&&(li(s),s=[],r=[],i=[],o=0,a&&(a=[])),n.fallback&&(r=[Ao],i[0]=ct(C=>(s[0]=C,n.fallback())),o=1);else if(o===0){for(i=new Array(f),c=0;c<f;c++)r[c]=l[c],i[c]=ct(h);o=f}else{for(d=new Array(f),g=new Array(f),a&&(y=new Array(f)),m=0,b=Math.min(o,f);m<b&&r[m]===l[m];m++);for(b=o-1,_=f-1;b>=m&&_>=m&&r[b]===l[_];b--,_--)d[_]=i[b],g[_]=s[b],a&&(y[_]=a[b]);for(p=new Map,v=new Array(_+1),c=_;c>=m;c--)$=l[c],u=p.get($),v[c]=u===void 0?-1:u,p.set($,c);for(u=m;u<=b;u++)$=r[u],c=p.get($),c!==void 0&&c!==-1?(d[c]=i[u],g[c]=s[u],a&&(y[c]=a[u]),c=v[c],p.set($,c)):s[u]();for(c=m;c<f;c++)c in d?(i[c]=d[c],s[c]=g[c],a&&(a[c]=y[c],a[c](c))):i[c]=ct(h);i=i.slice(0,o=f),r=l.slice(0)}return i});function h(f){if(s[c]=f,a){const[p,v]=K(c);return a[c]=v,t(l[c],p)}return t(l[c])}}}function S(e,t){return re(()=>e(t||{}))}function zt(){return!0}const nr={get(e,t,n){return t===hn?n:e.get(t)},has(e,t){return t===hn?!0:e.has(t)},set:zt,deleteProperty:zt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:zt,deleteProperty:zt}},ownKeys(e){return e.keys()}};function Dn(e){return(e=typeof e=="function"?e():e)?e:{}}function Oo(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function gn(...e){let t=!1;for(let o=0;o<e.length;o++){const a=e[o];t=t||!!a&&hn in a,e[o]=typeof a=="function"?(t=!0,U(a)):a}if(t)return new Proxy({get(o){for(let a=e.length-1;a>=0;a--){const l=Dn(e[a])[o];if(l!==void 0)return l}},has(o){for(let a=e.length-1;a>=0;a--)if(o in Dn(e[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<e.length;a++)o.push(...Object.keys(Dn(e[a])));return[...new Set(o)]}},nr);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const a=e[o];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let u=l.length-1;u>=0;u--){const c=l[u];if(c==="__proto__"||c==="constructor")continue;const h=Object.getOwnPropertyDescriptor(a,c);if(!r[c])r[c]=h.get?{enumerable:!0,configurable:!0,get:Oo.bind(n[c]=[h.get.bind(a)])}:h.value!==void 0?h:void 0;else{const f=n[c];f&&(h.get?f.push(h.get.bind(a)):h.value!==void 0&&f.push(()=>h.value))}}}const i={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const a=s[o],l=r[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function To(e,...t){if(hn in e){const i=new Set(t.length>1?t.flat():t[0]),s=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},nr));return s.push(new Proxy({get(o){return i.has(o)?void 0:e[o]},has(o){return i.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!i.has(o))}},nr)),s}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let a=!1,l=0;for(const u of t)u.includes(i)&&(a=!0,o?r[l][i]=s.value:Object.defineProperty(r[l],i,s)),++l;a||(o?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}function Fr(e){let t,n;const r=i=>{const s=F.context;if(s){const[a,l]=K();F.count||(F.count=0),F.count++,(n||(n=e())).then(u=>{Ct(s),F.count--,l(()=>u.default),Ct()}),t=a}else if(!t){const[a]=xo(()=>(n||(n=e())).then(l=>l.default));t=a}let o;return U(()=>(o=t())&&re(()=>{if(!s)return o(i);const a=F.context;Ct(s);const l=o(i);return Ct(a),l}))};return r.preload=()=>n||((n=e()).then(i=>t=()=>i.default),n),r}const ts=e=>`Stale read from <${e}>.`;function J(e){const t="fallback"in e&&{fallback:()=>e.fallback};return U(Ro(()=>e.each,e.children,t||void 0))}function V(e){const t=e.keyed,n=U(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return U(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?re(()=>i(t?r:()=>{if(!re(n))throw ts("Show");return e.when})):i}return e.fallback},void 0,void 0)}function rr(e){let t=!1;const n=(s,o)=>(t?s[1]===o[1]:!s[1]==!o[1])&&s[2]===o[2],r=Pn(()=>e.children),i=U(()=>{let s=r();Array.isArray(s)||(s=[s]);for(let o=0;o<s.length;o++){const a=s[o].when;if(a)return t=!!s[o].keyed,[o,a,s[o]]}return[-1]},void 0,{equals:n});return U(()=>{const[s,o,a]=i();if(s<0)return e.fallback;const l=a.children;return typeof l=="function"&&l.length>0?re(()=>l(t?o:()=>{if(re(i)[0]!==s)throw ts("Match");return a.when})):l},void 0,void 0)}function at(e){return e}const Io=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Bo=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Io]),Lo=new Set(["innerHTML","textContent","innerText","children"]),jo=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Do=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Ko(e,t){const n=Do[e];return typeof n=="object"?n[t]?n.$:void 0:n}const No=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Mo={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Fo(e,t,n){let r=n.length,i=t.length,s=r,o=0,a=0,l=t[i-1].nextSibling,u=null;for(;o<i||a<s;){if(t[o]===n[a]){o++,a++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===o){const c=s<r?a?n[a-1].nextSibling:n[s-a]:l;for(;a<s;)e.insertBefore(n[a++],c)}else if(s===a)for(;o<i;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[s-1]&&n[a]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--s],c),t[i]=n[s]}else{if(!u){u=new Map;let h=a;for(;h<s;)u.set(n[h],h++)}const c=u.get(t[o]);if(c!=null)if(a<c&&c<s){let h=o,f=1,p;for(;++h<i&&h<s&&!((p=u.get(t[h]))==null||p!==c+f);)f++;if(f>c-a){const v=t[o];for(;a<c;)e.insertBefore(n[a++],v)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const ci="_$DX_DELEGATE";function qo(e,t,n,r={}){let i;return ct(s=>{i=s,t===document?e():w(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function E(e,t,n){let r;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:o.content.firstChild},s=t?()=>re(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return s.cloneNode=s,s}function _e(e,t=window.document){const n=t[ci]||(t[ci]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,Yo))}}function mt(e,t,n){F.context||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function Vo(e,t,n,r){F.context||(r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r))}function D(e,t){F.context||(t==null?e.removeAttribute("class"):e.className=t)}function On(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=s=>i.call(e,n[1],s))}else e.addEventListener(t,n)}function Uo(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const a=i[s];!a||a==="undefined"||t[a]||(ui(e,a,!1),delete n[a])}for(s=0,o=r.length;s<o;s++){const a=r[s],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(ui(e,a,!0),n[a]=l)}return n}function ir(e,t,n){if(!t)return n?mt(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function ns(e,t={},n,r){const i={};return r||O(()=>i.children=yt(e,t.children,i.children)),O(()=>t.ref&&t.ref(e)),O(()=>zo(e,t,n,!0,i,!0)),i}function Wo(e,t,n){return re(()=>e(t,n))}function w(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return yt(e,t,r,n);O(i=>yt(e,t(),i,n),r)}function zo(e,t,n,r,i={},s=!1){t||(t={});for(const o in i)if(!(o in t)){if(o==="children")continue;i[o]=hi(e,o,null,i[o],n,s)}for(const o in t){if(o==="children"){r||yt(e,t.children);continue}const a=t[o];i[o]=hi(e,o,a,i[o],n,s)}}function Ho(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function ui(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function hi(e,t,n,r,i,s){let o,a,l,u,c;if(t==="style")return ir(e,n,r);if(t==="classList")return Uo(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);r&&e.removeEventListener(h,r),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);r&&e.removeEventListener(h,r,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),f=No.has(h);if(!f&&r){const p=Array.isArray(r)?r[0]:r;e.removeEventListener(h,p)}(f||n)&&(On(e,h,n,f),f&&_e([h]))}else if(t.slice(0,5)==="attr:")mt(e,t.slice(5),n);else if((c=t.slice(0,5)==="prop:")||(l=Lo.has(t))||!i&&((u=Ko(t,e.tagName))||(a=Bo.has(t)))||(o=e.nodeName.includes("-"))){if(c)t=t.slice(5),a=!0;else if(F.context)return n;t==="class"||t==="className"?D(e,n):o&&!a&&!l?e[Ho(t)]=n:e[u||t]=n}else{const h=i&&t.indexOf(":")>-1&&Mo[t.split(":")[0]];h?Vo(e,h,t,n):mt(e,jo[t]||t,n)}return n}function Yo(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),F.registry&&!F.done&&(F.done=_$HY.done=!0);n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function yt(e,t,n,r,i){if(F.context){!n&&(n=[...e.childNodes]);let a=[];for(let l=0;l<n.length;l++){const u=n[l];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():a.push(u)}n=a}for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(F.context)return n;if(s==="number"&&(t=t.toString()),o){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=it(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean"){if(F.context)return n;n=it(e,n,r)}else{if(s==="function")return O(()=>{let a=t();for(;typeof a=="function";)a=a();n=yt(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(sr(a,t,n,i))return O(()=>n=yt(e,a,n,r,!0)),()=>n;if(F.context){if(!a.length)return n;if(r===void 0)return[...e.childNodes];let u=a[0],c=[u];for(;(u=u.nextSibling)!==r;)c.push(u);return n=c}if(a.length===0){if(n=it(e,n,r),o)return n}else l?n.length===0?fi(e,a,r):Fo(e,n,a):(n&&it(e),fi(e,a));n=a}else if(t.nodeType){if(F.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=it(e,n,r,t);it(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function sr(e,t,n,r){let i=!1;for(let s=0,o=t.length;s<o;s++){let a=t[s],l=n&&n[s],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=sr(e,a,l)||i;else if(u==="function")if(r){for(;typeof a=="function";)a=a();i=sr(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else e.push(a),i=!0;else{const c=String(a);l&&l.nodeType===3&&l.data===c?e.push(l):e.push(document.createTextNode(c))}}return i}function fi(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function it(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(i!==a){const l=a.parentNode===e;!s&&!o?l?e.replaceChild(i,a):e.insertBefore(i,n):l&&a.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}const Go=!1,Xo="http://www.w3.org/2000/svg";function Qo(e,t=!1){return t?document.createElementNS(Xo,e):document.createElement(e)}function Jo(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,i=pn();let s,o=!!F.context;return wo(()=>{o&&(pn().user=o=!1),s||(s=Kr(i,()=>U(()=>e.children)));const a=r();if(a instanceof HTMLHeadElement){const[l,u]=K(!1),c=()=>u(!0);ct(h=>w(a,()=>l()?h():s(),null)),pt(c)}else{const l=Qo(e.isSVG?"g":"div",e.isSVG),u=t&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return n.parentNode},configurable:!0}),w(u,s),a.appendChild(l),e.ref&&e.ref(l),pt(()=>a.removeChild(l))}},void 0,{render:!o}),n}function rs(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,s){if(n)return!(n=!1);const o={to:i,options:s,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of e)a.listener({...o,from:a.location,retry:l=>{l&&(n=!0),a.navigate(i,{...s,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}let or;function qr(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),or=window.history.state._depth}qr();function Zo(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function ea(e,t){let n=!1;return()=>{const r=or;qr();const i=r==null?null:or-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const ta=/^(?:[a-z0-9]+:)?\/\//i,na=/^\/+|(\/)\/+$/g,is="http://sr";function Ye(e,t=!1){const n=e.replace(na,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function tn(e,t,n){if(ta.test(t))return;const r=Ye(e),i=n&&Ye(n);let s="";return!i||t.startsWith("/")?s=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?s=r+i:s=i,(s||"/")+Ye(t,!s)}function ra(e,t){if(e==null)throw new Error(t);return e}function ia(e,t){return Ye(e).replace(/\/*(\*.*)?$/g,"")+Ye(t)}function ss(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function sa(e,t,n){const[r,i]=e.split("/*",2),s=r.split("/").filter(Boolean),o=s.length;return a=>{const l=a.split("/").filter(Boolean),u=l.length-o;if(u<0||u>0&&i===void 0&&!t)return null;const c={path:o?"":"/",params:{}},h=f=>n===void 0?void 0:n[f];for(let f=0;f<o;f++){const p=s[f],v=l[f],d=p[0]===":",g=d?p.slice(1):p;if(d&&Kn(v,h(g)))c.params[g]=v;else if(d||!Kn(v,p))return null;c.path+=`/${v}`}if(i){const f=u?l.slice(-u).join("/"):"";if(Kn(f,h(i)))c.params[i]=f;else return null}return c}}function Kn(e,t){const n=r=>r.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function oa(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,s)=>i+(s.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function os(e){const t=new Map,n=pn();return new Proxy({},{get(r,i){return t.has(i)||Kr(n,()=>t.set(i,U(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function as(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return as(r).reduce((s,o)=>[...s,...i.map(a=>a+o)],[])}const aa=100,ls=Gi(),Vr=Gi(),Tn=()=>ra(Nr(ls),"<A> and 'use' router primitives can be only used inside a Route."),la=()=>Nr(Vr)||Tn().base,ca=e=>{const t=la();return U(()=>t.resolvePath(e()))},ua=e=>{const t=Tn();return U(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},ha=()=>Tn().location,Wh=()=>Tn().params;function fa(e,t=""){const{component:n,load:r,children:i,info:s}=e,o=!i||Array.isArray(i)&&!i.length,a={key:e,component:n,load:r,info:s};return cs(e.path).reduce((l,u)=>{for(const c of as(u)){const h=ia(t,c);let f=o?h:h.split("/*",1)[0];f=f.split("/").map(p=>p.startsWith(":")||p.startsWith("*")?p:encodeURIComponent(p)).join("/"),l.push({...a,originalPath:u,pattern:f,matcher:sa(f,!o,e.matchFilters)})}return l},[])}function da(e,t=0){return{routes:e,score:oa(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],o=s.matcher(n);if(!o)return null;r.unshift({...o,route:s})}return r}}}function cs(e){return Array.isArray(e)?e:[e]}function us(e,t="",n=[],r=[]){const i=cs(e);for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=fa(a,t);for(const u of l){n.push(u);const c=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!c)us(a.children,u.pattern,n,r);else{const h=da([...n],r.length);r.push(h)}n.pop()}}}return n.length?r:r.sort((s,o)=>o.score-s.score)}function Nn(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function pa(e,t){const n=new URL(is),r=U(l=>{const u=e();try{return new URL(u,n)}catch{return console.error(`Invalid path ${u}`),l}},n,{equals:(l,u)=>l.href===u.href}),i=U(()=>r().pathname),s=U(()=>r().search,!0),o=U(()=>r().hash),a=()=>"";return{get pathname(){return i()},get search(){return s()},get hash(){return o()},get state(){return t()},get key(){return a()},query:os(Yi(s,()=>ss(r())))}}let Ee;function ma(){return Ee}function ya(e,t,n,r={}){const{signal:[i,s],utils:o={}}=e,a=o.parsePath||(R=>R),l=o.renderPath||(R=>R),u=o.beforeLeave||rs(),c=tn("",r.base||"");if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!i().value&&s({value:c,replace:!0,scroll:!1});const[h,f]=K(!1),p=async R=>{f(!0);try{await $o(R)}finally{f(!1)}},[v,d]=K(i().value),[g,y]=K(i().state),m=pa(v,g),b=[],_=K([]),$=U(()=>typeof r.transformUrl=="function"?Nn(t(),r.transformUrl(m.pathname)):Nn(t(),m.pathname)),C=os(()=>{const R=$(),L={};for(let N=0;N<R.length;N++)Object.assign(L,R[N].params);return L}),k={pattern:c,path:()=>c,outlet:()=>null,resolvePath(R){return tn(c,R)}};return O(()=>{const{value:R,state:L}=i();re(()=>{p(()=>{Ee="native",R!==v()&&d(R),y(L),_[1]([])}).then(()=>{Ee=void 0})})}),{base:k,location:m,params:C,isRouting:h,renderPath:l,parsePath:a,navigatorFactory:x,matches:$,beforeLeave:u,preloadRoute:A,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:_};function B(R,L,N){re(()=>{if(typeof L=="number"){L&&(o.go?o.go(L):console.warn("Router integration does not support relative routing"));return}const{replace:me,resolve:W,scroll:M,state:ne}={replace:!1,resolve:!0,scroll:!0,...N},ee=W?R.resolvePath(L):tn("",L);if(ee===void 0)throw new Error(`Path '${L}' is not a routable path`);if(b.length>=aa)throw new Error("Too many redirects");const he=v();if((ee!==he||ne!==g())&&!Go){if(u.confirm(ee,N)){const Wt=b.push({value:he,replace:me,scroll:M,state:g()});p(()=>{Ee="navigate",d(ee),y(ne),_[1]([])}).then(()=>{b.length===Wt&&(Ee=void 0,T({value:ee,state:ne}))})}}})}function x(R){return R=R||Nr(Vr)||k,(L,N)=>B(R,L,N)}function T(R){const L=b[0];L&&((R.value!==L.value||R.state!==L.state)&&s({...R,replace:L.replace,scroll:L.scroll}),b.length=0)}function A(R,L){const N=Nn(t(),R.pathname),me=Ee;Ee="preload";for(let W in N){const{route:M,params:ne}=N[W];M.component&&M.component.preload&&M.component.preload();const{load:ee}=M;L&&ee&&Kr(n(),()=>ee({params:ne,location:{pathname:R.pathname,search:R.search,hash:R.hash,query:ss(R),state:null,key:""},intent:"preload"}))}Ee=me}}function ga(e,t,n,r){const{base:i,location:s,params:o}=e,{pattern:a,component:l,load:u}=r().route,c=U(()=>r().path);l&&l.preload&&l.preload();const h=u?u({params:o,location:s,intent:Ee||"initial"}):void 0;return{parent:t,pattern:a,path:c,outlet:()=>l?S(l,{params:o,location:s,data:h,get children(){return n()}}):n(),resolvePath(p){return tn(i.path(),p,c())}}}const va=e=>t=>{const{base:n}=t,r=Pn(()=>t.children),i=U(()=>us(r(),t.base||""));let s;const o=ya(e,i,()=>s,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(o),S(ls.Provider,{value:o,get children(){return S(ba,{routerState:o,get root(){return t.root},get load(){return t.rootLoad},get children(){return[U(()=>(s=pn())&&null),S(wa,{routerState:o,get branches(){return i()}})]}})}})};function ba(e){const t=e.routerState.location,n=e.routerState.params,r=U(()=>e.load&&re(()=>{e.load({params:n,location:t,intent:ma()||"initial"})}));return S(V,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>S(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function wa(e){const t=[];let n;const r=U(Yi(e.routerState.matches,(i,s,o)=>{let a=s&&i.length===s.length;const l=[];for(let u=0,c=i.length;u<c;u++){const h=s&&s[u],f=i[u];o&&h&&f.route.key===h.route.key?l[u]=o[u]:(a=!1,t[u]&&t[u](),ct(p=>{t[u]=p,l[u]=ga(e.routerState,l[u-1]||e.routerState.base,di(()=>r()[u+1]),()=>e.routerState.matches()[u])}))}return t.splice(i.length).forEach(u=>u()),o&&a?o:(n=l[0],l)}));return di(()=>r()&&n)()}const di=e=>()=>S(V,{get when(){return e()},keyed:!0,children:t=>S(Vr.Provider,{value:t,get children(){return t.outlet()}})}),le=e=>{const t=Pn(()=>e.children);return gn(e,{get children(){return t()}})};function _a([e,t],n,r){return[n?()=>n(e()):e,r?i=>t(r(i)):t]}function xa(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function $a(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=_a(K(n(e.get()),{equals:(i,s)=>i.value===s.value&&i.state===s.state}),void 0,i=>(!t&&e.set(i),i));return e.init&&pt(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),va({signal:r,create:e.create,utils:e.utils})}function Sa(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function ka(e,t){const n=xa(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Ca=new Map;function Ea(e=!0,t=!1,n="/_server",r){return i=>{const s=i.base.path(),o=i.navigatorFactory(i.base);let a={};function l(d){return d.namespaceURI==="http://www.w3.org/2000/svg"}function u(d){if(d.defaultPrevented||d.button!==0||d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)return;const g=d.composedPath().find(C=>C instanceof Node&&C.nodeName.toUpperCase()==="A");if(!g||t&&!g.hasAttribute("link"))return;const y=l(g),m=y?g.href.baseVal:g.href;if((y?g.target.baseVal:g.target)||!m&&!g.hasAttribute("state"))return;const _=(g.getAttribute("rel")||"").split(/\s+/);if(g.hasAttribute("download")||_&&_.includes("external"))return;const $=y?new URL(m,document.baseURI):new URL(m);if(!($.origin!==window.location.origin||s&&$.pathname&&!$.pathname.toLowerCase().startsWith(s.toLowerCase())))return[g,$]}function c(d){const g=u(d);if(!g)return;const[y,m]=g,b=i.parsePath(m.pathname+m.search+m.hash),_=y.getAttribute("state");d.preventDefault(),o(b,{resolve:!1,replace:y.hasAttribute("replace"),scroll:!y.hasAttribute("noscroll"),state:_&&JSON.parse(_)})}function h(d){const g=u(d);if(!g)return;const[y,m]=g;typeof r=="function"&&(m.pathname=r(m.pathname)),a[m.pathname]||i.preloadRoute(m,y.getAttribute("preload")!=="false")}function f(d){const g=u(d);if(!g)return;const[y,m]=g;typeof r=="function"&&(m.pathname=r(m.pathname)),!a[m.pathname]&&(a[m.pathname]=setTimeout(()=>{i.preloadRoute(m,y.getAttribute("preload")!=="false"),delete a[m.pathname]},200))}function p(d){const g=u(d);if(!g)return;const[,y]=g;typeof r=="function"&&(y.pathname=r(y.pathname)),a[y.pathname]&&(clearTimeout(a[y.pathname]),delete a[y.pathname])}function v(d){if(d.defaultPrevented)return;let g=d.submitter&&d.submitter.hasAttribute("formaction")?d.submitter.getAttribute("formaction"):d.target.getAttribute("action");if(!g)return;if(!g.startsWith("https://action/")){const m=new URL(g,is);if(g=i.parsePath(m.pathname+m.search),!g.startsWith(n))return}if(d.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const y=Ca.get(g);if(y){d.preventDefault();const m=new FormData(d.target);d.submitter&&d.submitter.name&&m.append(d.submitter.name,d.submitter.value),y.call({r:i,f:d.target},m)}}_e(["click","submit"]),document.addEventListener("click",c),e&&(document.addEventListener("mouseover",f),document.addEventListener("mouseout",p),document.addEventListener("focusin",h),document.addEventListener("touchstart",h)),document.addEventListener("submit",v),pt(()=>{document.removeEventListener("click",c),e&&(document.removeEventListener("mouseover",f),document.removeEventListener("mouseout",p),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",v)})}}function Pa(e){const t=()=>{const r=window.location.pathname+window.location.search;return{value:e.transformUrl?e.transformUrl(r)+window.location.hash:r+window.location.hash,state:window.history.state}},n=rs();return $a({get:t,set({value:r,replace:i,scroll:s,state:o}){i?window.history.replaceState(Zo(o),"",r):window.history.pushState(o,"",r),ka(window.location.hash.slice(1),s),qr()},init:r=>Sa(window,"popstate",ea(r,i=>{if(i&&i<0)return!n.confirm(i);{const s=t();return!n.confirm(s.value,{state:s.state})}})),create:Ea(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}var Aa=E("<a>");function pi(e){e=gn({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=To(e,["href","state","class","activeClass","inactiveClass","end"]),n=ca(()=>e.href),r=ua(n),i=ha(),s=U(()=>{const o=n();if(o===void 0)return[!1,!1];const a=Ye(o.split(/[?#]/,1)[0]).toLowerCase(),l=Ye(i.pathname).toLowerCase();return[e.end?a===l:l.startsWith(a),a===l]});return(()=>{var o=Aa();return ns(o,gn(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!s()[0],[e.activeClass]:s()[0],...t.classList}},link:"",get"aria-current"(){return s()[1]?"page":void 0}}),!1,!1),o})()}var ar=function(e,t){return ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ar(e,t)};function Ur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ar(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Ra(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function hs(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Bt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function cr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function ut(e){return this instanceof ut?(this.v=e,this):new ut(e)}function Oa(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(v,d){s.push([f,p,v,d])>1||a(f,p)})})}function a(f,p){try{l(r[f](p))}catch(v){h(s[0][3],v)}}function l(f){f.value instanceof ut?Promise.resolve(f.value.v).then(u,c):h(s[0][2],f)}function u(f){a("next",f)}function c(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ta(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Bt=="function"?Bt(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function Q(e){return typeof e=="function"}function Ia(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Mn=Ia(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function mi(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Wr=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Bt(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else o.remove(this);var c=this.initialTeardown;if(Q(c))try{c()}catch(d){s=d instanceof Mn?d.errors:[d]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=Bt(h),p=f.next();!p.done;p=f.next()){var v=p.value;try{yi(v)}catch(d){s=s??[],d instanceof Mn?s=cr(cr([],lr(s)),lr(d.errors)):s.push(d)}}}catch(d){r={error:d}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(s)throw new Mn(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)yi(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&mi(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&mi(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();Wr.EMPTY;function fs(e){return e instanceof Wr||e&&"closed"in e&&Q(e.remove)&&Q(e.add)&&Q(e.unsubscribe)}function yi(e){Q(e)?e():e.unsubscribe()}var ds={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ps={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,cr([e,t],lr(n)))},clearTimeout:function(e){var t=ps.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ms(e){ps.setTimeout(function(){throw e})}function gi(){}function Ba(e){e()}var zr=function(e){Ur(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,fs(n)&&n.add(r)):r.destination=Ka,r}return t.create=function(n,r,i){return new ur(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Wr),La=Function.prototype.bind;function Fn(e,t){return La.call(e,t)}var ja=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Ht(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Ht(r)}else Ht(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Ht(n)}},e}(),ur=function(e){Ur(t,e);function t(n,r,i){var s=e.call(this)||this,o;if(Q(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&ds.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Fn(n.next,a),error:n.error&&Fn(n.error,a),complete:n.complete&&Fn(n.complete,a)}):o=n}return s.destination=new ja(o),s}return t}(zr);function Ht(e){ms(e)}function Da(e){throw e}var Ka={closed:!0,next:gi,error:Da,complete:gi},Hr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ys(e){return e}function Na(e){return e.length===0?ys:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var de=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,s=Fa(t)?t:new ur(t,n,r);return Ba(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=vi(n),new n(function(i,s){var o=new ur({next:function(a){try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Hr]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Na(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=vi(t),new t(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function vi(e){var t;return(t=e??ds.Promise)!==null&&t!==void 0?t:Promise}function Ma(e){return e&&Q(e.next)&&Q(e.error)&&Q(e.complete)}function Fa(e){return e&&e instanceof zr||Ma(e)&&fs(e)}function qa(e){return Q(e?.lift)}function tt(e){return function(t){if(qa(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(e,t,n,r,i){return new Va(e,t,n,r,i)}var Va=function(e){Ur(t,e);function t(n,r,i,s,o,a){var l=e.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:e.prototype._next,l._error=s?function(u){try{s(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(zr),Ua=new de(function(e){return e.complete()});function Wa(e){return e&&Q(e.schedule)}function za(e){return e[e.length-1]}function Ha(e){return Wa(za(e))?e.pop():void 0}var gs=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function vs(e){return Q(e?.then)}function bs(e){return Q(e[Hr])}function ws(e){return Symbol.asyncIterator&&Q(e?.[Symbol.asyncIterator])}function _s(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ya(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xs=Ya();function $s(e){return Q(e?.[xs])}function Ss(e){return Oa(this,arguments,function(){var n,r,i,s;return hs(this,function(o){switch(o.label){case 0:n=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,ut(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,ut(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,ut(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function ks(e){return Q(e?.getReader)}function bt(e){if(e instanceof de)return e;if(e!=null){if(bs(e))return Ga(e);if(gs(e))return Xa(e);if(vs(e))return Qa(e);if(ws(e))return Cs(e);if($s(e))return Ja(e);if(ks(e))return Za(e)}throw _s(e)}function Ga(e){return new de(function(t){var n=e[Hr]();if(Q(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Xa(e){return new de(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Qa(e){return new de(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,ms)})}function Ja(e){return new de(function(t){var n,r;try{for(var i=Bt(e),s=i.next();!s.done;s=i.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Cs(e){return new de(function(t){el(e,t).catch(function(n){return t.error(n)})})}function Za(e){return Cs(Ss(e))}function el(e,t){var n,r,i,s;return Ra(this,void 0,void 0,function(){var o,a;return hs(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Ta(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Me(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Es(e,t){return t===void 0&&(t=0),tt(function(n,r){n.subscribe(Je(r,function(i){return Me(r,e,function(){return r.next(i)},t)},function(){return Me(r,e,function(){return r.complete()},t)},function(i){return Me(r,e,function(){return r.error(i)},t)}))})}function Ps(e,t){return t===void 0&&(t=0),tt(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function tl(e,t){return bt(e).pipe(Ps(t),Es(t))}function nl(e,t){return bt(e).pipe(Ps(t),Es(t))}function rl(e,t){return new de(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function il(e,t){return new de(function(n){var r;return Me(n,t,function(){r=e[xs](),Me(n,t,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return Q(r?.return)&&r.return()}})}function As(e,t){if(!e)throw new Error("Iterable cannot be null");return new de(function(n){Me(n,t,function(){var r=e[Symbol.asyncIterator]();Me(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function sl(e,t){return As(Ss(e),t)}function ol(e,t){if(e!=null){if(bs(e))return tl(e,t);if(gs(e))return rl(e,t);if(vs(e))return nl(e,t);if(ws(e))return As(e,t);if($s(e))return il(e,t);if(ks(e))return sl(e,t)}throw _s(e)}function al(e,t){return t?ol(e,t):bt(e)}function X(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ha(e);return al(e,n)}function ll(e,t){return tt(function(n,r){var i=0;n.subscribe(Je(r,function(s){r.next(e.call(t,s,i++))}))})}function cl(e,t,n,r,i,s,o,a){var l=[],u=0,c=0,h=!1,f=function(){h&&!l.length&&!u&&t.complete()},p=function(d){return u<r?v(d):l.push(d)},v=function(d){s&&t.next(d),u++;var g=!1;bt(n(d,c++)).subscribe(Je(t,function(y){i?.(y),s?p(y):t.next(y)},function(){g=!0},void 0,function(){if(g)try{u--;for(var y=function(){var m=l.shift();o?Me(t,o,function(){return v(m)}):v(m)};l.length&&u<r;)y();f()}catch(m){t.error(m)}}))};return e.subscribe(Je(t,p,function(){h=!0,f()})),function(){a?.()}}function hr(e,t,n){return n===void 0&&(n=1/0),Q(t)?hr(function(r,i){return ll(function(s,o){return t(r,s,i,o)})(bt(e(r,i)))},n):(typeof t=="number"&&(n=t),tt(function(r,i){return cl(r,i,e,n)}))}function nt(e){return tt(function(t,n){var r=null,i=!1,s;r=t.subscribe(Je(n,void 0,void 0,function(o){s=bt(e(o,nt(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function ye(e,t){return Q(t)?hr(e,t,1):hr(e,1)}function ge(e){return e<=0?function(){return Ua}:tt(function(t,n){var r=0;t.subscribe(Je(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ve(e,t,n){var r=Q(e)||t||n?{next:e,error:t,complete:n}:e;return r?tt(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(Je(s,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ys}class ul{loggedIn=K({});tokenValue=K("");set token(t){this.tokenValue[1](t),this.loggedIn[1]({Authorization:`Bearer ${t}`})}get token(){return this.tokenValue[0]}clearToken(){this.loggedIn[1]({Authorization:""})}toObservable(t){return new de(n=>{t.then(r=>{n.next(r)}).catch(r=>n.error(r)).finally(()=>n.complete())})}post(t,n,r){return new de(i=>{fetch(t,{method:"POST",headers:{"Content-Type":"application/json",...r?.headers,...this.loggedIn[0]()},body:JSON.stringify(n)}).then(s=>{if(!s.ok)throw new Error(s.statusText);return s.json()}).then(s=>{i.next(s)}).catch(s=>i.error(s)).finally(()=>i.complete())})}get(t,n){return new de(r=>{fetch(t,{method:"GET",headers:{"Content-Type":"application/json",...n?.headers,...this.loggedIn[0]()}}).then(i=>{if(!i.ok)throw new Error(i.statusText);return i.json()}).then(i=>{r.next(i)}).catch(i=>r.error(i)).finally(()=>r.complete())})}}const be=new ul,Y=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Z=Object.keys,oe=Array.isArray;function ue(e,t){return typeof t!="object"||Z(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||Y.Promise||(Y.Promise=Promise);const Lt=Object.getPrototypeOf,hl={}.hasOwnProperty;function pe(e,t){return hl.call(e,t)}function gt(e,t){typeof t=="function"&&(t=t(Lt(e))),(typeof Reflect>"u"?Z:Reflect.ownKeys)(t).forEach(n=>{Te(e,n,t[n])})}const Rs=Object.defineProperty;function Te(e,t,n,r){Rs(e,t,ue(n&&pe(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function ht(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Te(e.prototype,"constructor",e),{extend:gt.bind(null,e.prototype)}}}}const fl=Object.getOwnPropertyDescriptor;function Yr(e,t){let n;return fl(e,t)||(n=Lt(e))&&Yr(n,t)}const dl=[].slice;function vn(e,t,n){return dl.call(e,t,n)}function Os(e,t){return t(e)}function Et(e){if(!e)throw new Error("Assertion Failed")}function Ts(e){Y.setImmediate?setImmediate(e):setTimeout(e,0)}function Is(e,t){return e.reduce((n,r,i)=>{var s=t(r,i);return s&&(n[s[0]]=s[1]),n},{})}function Ie(e,t){if(pe(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var s=Ie(e,t[r]);n.push(s)}return n}var o=t.indexOf(".");if(o!==-1){var a=e[t.substr(0,o)];return a===void 0?void 0:Ie(a,t.substr(o+1))}}function xe(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Et(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)xe(e,t[r],n[r])}else{var s=t.indexOf(".");if(s!==-1){var o=t.substr(0,s),a=t.substr(s+1);if(a==="")n===void 0?oe(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var l=e[o];l&&pe(e,o)||(l=e[o]={}),xe(l,a,n)}}else n===void 0?oe(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Bs(e){var t={};for(var n in e)pe(e,n)&&(t[n]=e[n]);return t}const pl=[].concat;function Ls(e){return pl.apply([],e)}const js="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ls([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>Y[e]),ml=js.map(e=>Y[e]);Is(js,e=>[e,!0]);let Ke=null;function qt(e){Ke=typeof WeakMap<"u"&&new WeakMap;const t=fr(e);return Ke=null,t}function fr(e){if(!e||typeof e!="object")return e;let t=Ke&&Ke.get(e);if(t)return t;if(oe(e)){t=[],Ke&&Ke.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(fr(e[n]))}else if(ml.indexOf(e.constructor)>=0)t=e;else{const s=Lt(e);for(var i in t=s===Object.prototype?{}:Object.create(s),Ke&&Ke.set(e,t),e)pe(e,i)&&(t[i]=fr(e[i]))}return t}const{toString:yl}={};function dr(e){return yl.call(e).slice(8,-1)}const pr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",gl=typeof pr=="symbol"?function(e){var t;return e!=null&&(t=e[pr])&&t.apply(e)}:function(){return null},lt={};function Ae(e){var t,n,r,i;if(arguments.length===1){if(oe(e))return e.slice();if(this===lt&&typeof e=="string")return[e];if(i=gl(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Gr=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ds(e,t){ke=e,Ks=t}var Ks=()=>!0;const vl=!new Error("").stack;function rt(){if(vl)try{throw rt.arguments,new Error}catch(e){return e}return new Error}function mr(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(Ks).map(r=>`
`+r).join("")):""}var Ns=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Xr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ns),bl={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ft(e,t){this._e=rt(),this.name=e,this.message=t}function Ms(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function bn(e,t,n,r){this._e=rt(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Ms(e,t)}function At(e,t){this._e=rt(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=Ms(e,t)}ht(ft).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+mr(this._e,2))}},toString:function(){return this.name+": "+this.message}}),ht(bn).from(ft),ht(At).from(ft);var Qr=Xr.reduce((e,t)=>(e[t]=t+"Error",e),{});const wl=ft;var j=Xr.reduce((e,t)=>{var n=t+"Error";function r(i,s){this._e=rt(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=bl[t]||n,this.inner=null)}return ht(r).from(wl),e[t]=r,e},{});j.Syntax=SyntaxError,j.Type=TypeError,j.Range=RangeError;var bi=Ns.reduce((e,t)=>(e[t+"Error"]=j[t],e),{}),nn=Xr.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=j[t]),e),{});function H(){}function jt(e){return e}function _l(e,t){return e==null||e===jt?t:function(n){return t(e(n))}}function Ze(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function xl(e,t){return e===H?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ze(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Ze(i,this.onerror):i),s!==void 0?s:n}}function $l(e,t){return e===H?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ze(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ze(r,this.onerror):r)}}function Sl(e,t){return e===H?t:function(n){var r=e.apply(this,arguments);ue(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ze(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Ze(s,this.onerror):s),r===void 0?o===void 0?void 0:o:ue(r,o)}}function kl(e,t){return e===H?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Jr(e,t){return e===H?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}nn.ModifyError=bn,nn.DexieError=ft,nn.BulkError=At;var Dt={};const Fs=100,[yr,wn,gr]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Lt(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Lt(t),e]})(),qs=wn&&wn.then,rn=yr&&yr.constructor,Zr=!!gr;var vr=!1,Cl=gr?()=>{gr.then(Yt)}:Y.setImmediate?setImmediate.bind(null,Yt):Y.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Yt(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Yt,0)},Rt=function(e,t){Pt.push([e,t]),_n&&(Cl(),_n=!1)},br=!0,_n=!0,Ge=[],sn=[],wr=null,_r=jt,dt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xi,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{xi(e[0],e[1])}catch{}})}},I=dt,Pt=[],Xe=0,on=[];function P(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=H,this._lib=!1;var t=this._PSD=I;if(ke&&(this._stackHolder=rt(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Dt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&$r(this,this._value))}this._state=null,this._value=null,++t.ref,Us(this,e)}const xr={get:function(){var e=I,t=xn;function n(r,i){var s=!e.global&&(e!==I||t!==xn);const o=s&&!Le();var a=new P((l,u)=>{ei(this,new Vs($n(r,e,s,o),$n(i,e,s,o),l,u,e))});return ke&&Hs(a,this),a}return n.prototype=Dt,n},set:function(e){Te(this,"then",e&&e.prototype===Dt?xr:{get:function(){return e},set:xr.set})}};function Vs(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function Us(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Vt();n&&typeof n.then=="function"?Us(e,(i,s)=>{n instanceof P?n._then(i,s):n.then(i,s)}):(e._state=!0,e._value=n,Ws(e)),r&&Ut()}},$r.bind(null,e))}catch(n){$r(e,n)}}function $r(e,t){if(sn.push(t),e._state===null){var n=e._lib&&Vt();t=_r(t),e._state=!1,e._value=t,ke&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,s){try{r.apply(null,s)}catch(o){i&&i(o)}}(()=>{var r=Yr(t,"stack");t._promise=e,Te(t,"stack",{get:()=>vr?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){Ge.some(i=>i._value===r._value)||Ge.push(r)}(e),Ws(e),n&&Ut()}}function Ws(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ei(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),Xe===0&&(++Xe,Rt(()=>{--Xe==0&&ti()},[]))}function ei(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Xe,Rt(El,[n,e,t])}else e._listeners.push(t)}function El(e,t,n){try{wr=t;var r,i=t._value;t._state?r=e(i):(sn.length&&(sn=[]),r=e(i),sn.indexOf(i)===-1&&function(s){for(var o=Ge.length;o;)if(Ge[--o]._value===s._value)return void Ge.splice(o,1)}(t)),n.resolve(r)}catch(s){n.reject(s)}finally{wr=null,--Xe==0&&ti(),--n.psd.ref||n.psd.finalize()}}function zs(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,s,o=e._value;o!=null?(i=o.name||"Error",s=o.message||o,r=mr(o,0)):(i=o,s=""),t.push(i+(s?": "+s:"")+r)}return ke&&((r=mr(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&zs(e._prev,t,n)),t}function Hs(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Yt(){Vt()&&Ut()}function Vt(){var e=br;return br=!1,_n=!1,e}function Ut(){var e,t,n;do for(;Pt.length>0;)for(e=Pt,Pt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Pt.length>0);br=!0,_n=!0}function ti(){var e=Ge;Ge=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=on.slice(0),n=t.length;n;)t[--n]()}function Gt(e){return new P(Dt,!1,e)}function G(e,t){var n=I;return function(){var r=Vt(),i=I;try{return qe(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{qe(i,!1),r&&Ut()}}}gt(P.prototype,{then:xr,_then:function(e,t){ei(this,new Vs(null,null,e,t,I))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Gt(r)):this.then(null,r=>r&&r.name===t?n(r):Gt(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Gt(t)))},stack:{get:function(){if(this._stack)return this._stack;try{vr=!0;var e=zs(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{vr=!1}}},timeout:function(e,t){return e<1/0?new P((n,r)=>{var i=setTimeout(()=>r(new j.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Te(P.prototype,Symbol.toStringTag,"Dexie.Promise"),dt.env=Ys(),gt(P,{all:function(){var e=Ae.apply(null,arguments).map(Xt);return new P(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,s)=>P.resolve(i).then(o=>{e[s]=o,--r||t(e)},n))})},resolve:e=>{if(e instanceof P)return e;if(e&&typeof e.then=="function")return new P((n,r)=>{e.then(n,r)});var t=new P(Dt,!0,e);return Hs(t,wr),t},reject:Gt,race:function(){var e=Ae.apply(null,arguments).map(Xt);return new P((t,n)=>{e.map(r=>P.resolve(r).then(t,n))})},PSD:{get:()=>I,set:e=>I=e},totalEchoes:{get:()=>xn},newPSD:Fe,usePSD:_t,scheduler:{get:()=>Rt,set:e=>{Rt=e}},rejectionMapper:{get:()=>_r,set:e=>{_r=e}},follow:(e,t)=>new P((n,r)=>Fe((i,s)=>{var o=I;o.unhandleds=[],o.onunhandled=s,o.finalize=Ze(function(){(function(a){function l(){a(),on.splice(on.indexOf(l),1)}on.push(l),++Xe,Rt(()=>{--Xe==0&&ti()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),e()},t,n,r))}),rn&&(rn.allSettled&&Te(P,"allSettled",function(){const e=Ae.apply(null,arguments).map(Xt);return new P(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,s)=>P.resolve(i).then(o=>r[s]={status:"fulfilled",value:o},o=>r[s]={status:"rejected",reason:o}).then(()=>--n||t(r)))})}),rn.any&&typeof AggregateError<"u"&&Te(P,"any",function(){const e=Ae.apply(null,arguments).map(Xt);return new P((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((s,o)=>P.resolve(s).then(a=>t(a),a=>{i[o]=a,--r||n(new AggregateError(i))}))})}));const se={awaits:0,echoes:0,id:0};var Pl=0,an=[],qn=0,xn=0,Al=0;function Fe(e,t,n,r){var i=I,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++Al;var o=dt.env;s.env=Zr?{Promise:P,PromiseProp:{value:P,configurable:!0,writable:!0},all:P.all,race:P.race,allSettled:P.allSettled,any:P.any,resolve:P.resolve,reject:P.reject,nthen:wi(o.nthen,s),gthen:wi(o.gthen,s)}:{},t&&ue(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=_t(s,e,n,r);return s.ref===0&&s.finalize(),a}function wt(){return se.id||(se.id=++Pl),++se.awaits,se.echoes+=Fs,se.id}function Le(){return!!se.awaits&&(--se.awaits==0&&(se.id=0),se.echoes=se.awaits*Fs,!0)}function Xt(e){return se.echoes&&e&&e.constructor===rn?(wt(),e.then(t=>(Le(),t),t=>(Le(),te(t)))):e}function Rl(e){++xn,se.echoes&&--se.echoes!=0||(se.echoes=se.id=0),an.push(I),qe(e,!0)}function Ol(){var e=an[an.length-1];an.pop(),qe(e,!1)}function qe(e,t){var n=I;if((t?!se.echoes||qn++&&e===I:!qn||--qn&&e===I)||Gs(t?Rl.bind(null,e):Ol),e!==I&&(I=e,n===dt&&(dt.env=Ys()),Zr)){var r=dt.env.Promise,i=e.env;wn.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(Y,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Ys(){var e=Y.Promise;return Zr?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Y,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:wn.then,gthen:e.prototype.then}:{}}function _t(e,t,n,r,i){var s=I;try{return qe(e,!0),t(n,r,i)}finally{qe(s,!1)}}function Gs(e){qs.call(yr,e)}function $n(e,t,n,r){return typeof e!="function"?e:function(){var i=I;n&&wt(),qe(t,!0);try{return e.apply(this,arguments)}finally{qe(i,!1),r&&Gs(Le)}}}function wi(e,t){return function(n,r){return e.call(this,$n(n,t),$n(r,t))}}(""+qs).indexOf("[native code]")===-1&&(wt=Le=H);const _i="unhandledrejection";function xi(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(Y.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(_i,!0,!0),ue(r,i)):Y.CustomEvent&&ue(r=new CustomEvent(_i,{detail:i}),i),r&&Y.dispatchEvent&&(dispatchEvent(r),!Y.PromiseRejectionEvent&&Y.onunhandledrejection))try{Y.onunhandledrejection(r)}catch{}ke&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var te=P.reject;function Sr(e,t,n,r){if(e.idbdb&&(e._state.openComplete||I.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===Qr.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Sr(e,t,n,r))):te(s)}return i._promise(t,(s,o)=>Fe(()=>(I.trans=i,r(s,o,i)))).then(s=>i._completion.then(()=>s))}if(e._state.openComplete)return te(new j.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return te(new j.DatabaseClosed);e.open().catch(H)}return e._state.dbReadyPromise.then(()=>Sr(e,t,n,r))}const $i="3.2.4",He="",kr=-1/0,Ce="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Xs="String expected.",Ot=[],In=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Tl=In,Il=In,Qs=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Bn="__dbnames",Vn="readonly",Un="readwrite";function et(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Js={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Qt(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=qt(t))[e],t)}class Bl{_trans(t,n,r){const i=this._tx||I.trans,s=this.name;function o(l,u,c){if(!c.schema[s])throw new j.NotFound("Table "+s+" not part of transaction");return n(c.idbtrans,c)}const a=Vt();try{return i&&i.db===this.db?i===I.trans?i._promise(t,o,r):Fe(()=>i._promise(t,o,r),{trans:i,transless:I.transless||I}):Sr(this.db,t,[this.name],o)}finally{a&&Ut()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(oe(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=Z(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>u.compound&&n.every(c=>u.keyPath.indexOf(c)>=0)&&u.keyPath.every(c=>n.indexOf(c)>=0))[0];if(r&&this.db._maxKey!==He)return this.where(r.name).equals(r.keyPath.map(u=>t[u]));!r&&ke&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(u,c){try{return s.cmp(u,c)===0}catch{return!1}}const[a,l]=n.reduce(([u,c],h)=>{const f=i[h],p=t[h];return[u||f,u||!f?et(c,f&&f.multi?v=>{const d=Ie(v,h);return oe(d)&&d.some(g=>o(p,g))}:v=>o(p,Ie(v,h))):c]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,oe(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var s in r)if(pe(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){ue(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Qt(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[s]})).then(o=>o.numFailures?P.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{xe(t,i,o)}catch{}return o})}update(t,n){if(typeof t!="object"||oe(t))return this.where(":id").equals(t).modify(n);{const r=Ie(t,this.schema.primKey.keyPath);if(r===void 0)return te(new j.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Z(n).forEach(i=>{xe(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Qt(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:n!=null?[n]:null})).then(o=>o.numFailures?P.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{xe(t,i,o)}catch{}return o})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?P.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Js})).then(t=>t.numFailures?P.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new j.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new j.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let c=l&&a?t.map(Qt(l)):t;return this.core.mutate({trans:o,type:"add",keys:i,values:c,wantResults:s}).then(({numFailures:h,results:f,lastResult:p,failures:v})=>{if(h===0)return s?f:p;throw new At(`${this.name}.bulkAdd(): ${h} of ${u} operations failed`,v)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new j.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new j.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let c=l&&a?t.map(Qt(l)):t;return this.core.mutate({trans:o,type:"put",keys:i,values:c,wantResults:s}).then(({numFailures:h,results:f,lastResult:p,failures:v})=>{if(h===0)return s?f:p;throw new At(`${this.name}.bulkPut(): ${h} of ${u} operations failed`,v)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new At(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function Tt(e){var t={},n=function(o,a){if(a){for(var l=arguments.length,u=new Array(l-1);--l;)u[l-1]=arguments[l];return t[o].subscribe.apply(null,u),e}if(typeof o=="string")return t[o]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(o,a,l){if(typeof o!="object"){var u;a||(a=kl),l||(l=H);var c={subscribers:[],fire:l,subscribe:function(h){c.subscribers.indexOf(h)===-1&&(c.subscribers.push(h),c.fire=a(c.fire,h))},unsubscribe:function(h){c.subscribers=c.subscribers.filter(function(f){return f!==h}),c.fire=c.subscribers.reduce(a,l)}};return t[o]=n[o]=c,c}Z(u=o).forEach(function(h){var f=u[h];if(oe(f))s(h,u[h][0],u[h][1]);else{if(f!=="asap")throw new j.InvalidArgument("Invalid event config");var p=s(h,jt,function(){for(var v=arguments.length,d=new Array(v);v--;)d[v]=arguments[v];p.subscribers.forEach(function(g){Ts(function(){g.apply(null,d)})})})}})}}function xt(e,t){return ht(t).from({prototype:e}),t}function st(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Wn(e,t){e.filter=et(e.filter,t)}function zn(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>et(r(),t()):t,e.justLimit=n&&!r}function ln(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new j.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Si(e,t,n){const r=ln(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Jt(e,t,n,r){const i=e.replayFilter?et(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},o=(a,l,u)=>{if(!i||i(l,u,f=>l.stop(f),f=>l.fail(f))){var c=l.primaryKey,h=""+c;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(c)),pe(s,h)||(s[h]=!0,t(a,l,u))}};return Promise.all([e.or._iterate(o,n),ki(Si(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return ki(Si(e,r,n),et(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function ki(e,t,n,r){var i=G(r?(s,o,a)=>n(r(s),o,a):n);return e.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();t&&!t(s,a=>o=a,a=>{s.stop(a),o=H},a=>{s.fail(a),o=H})||i(s.value,s,a=>o=a),o()})})}function ce(e,t){try{const n=Ci(e),r=Ci(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let u=0;u<l;++u)if(i[u]!==s[u])return i[u]<s[u]?-1:1;return o===a?0:o<a?-1:1}(Ei(e),Ei(t));case"Array":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let u=0;u<l;++u){const c=ce(i[u],s[u]);if(c!==0)return c}return o===a?0:o<a?-1:1}(e,t)}}catch{}return NaN}function Ci(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=dr(e);return n==="ArrayBuffer"?"binary":n}function Ei(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Ll{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,te.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,te.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=et(n.algorithm,t)}_iterate(t,n){return Jt(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&ue(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Jt(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(st(r,!0))return i.count({trans:n,query:{index:ln(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var s=0;return Jt(r,()=>(++s,!1),n,i).then(()=>s)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],s=r.length-1;function o(u,c){return c?o(u[r[c]],c-1):u[i]}var a=this._ctx.dir==="next"?1:-1;function l(u,c){var h=o(u,s),f=o(c,s);return h<f?-a:h>f?a:0}return this.toArray(function(u){return u.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&st(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=ln(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return Jt(r,s=>i.push(s),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,st(n)?zn(n,()=>{var r=t;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):zn(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),zn(this._ctx,()=>{var n=t;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(t,n){return Wn(this._ctx,function(r,i,s){return!t(r.value)||(i(s),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Wn(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=et(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&st(n,!0)&&n.limit>0)return this._read(i=>{var s=ln(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Wn(this._ctx,function(i){var s=i.primaryKey.toString(),o=pe(r,s);return r[s]=!0,!o}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var s=Z(t),o=s.length;i=function(d){for(var g=!1,y=0;y<o;++y){var m=s[y],b=t[m];Ie(d,m)!==b&&(xe(d,m,b),g=!0)}return g}}const a=n.table.core,{outbound:l,extractKey:u}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,h=[];let f=0;const p=[],v=(d,g)=>{const{failures:y,numFailures:m}=g;f+=d-m;for(let b of Z(y))h.push(y[b])};return this.clone().primaryKeys().then(d=>{const g=y=>{const m=Math.min(c,d.length-y);return a.getMany({trans:r,keys:d.slice(y,y+m),cache:"immutable"}).then(b=>{const _=[],$=[],C=l?[]:null,k=[];for(let x=0;x<m;++x){const T=b[x],A={value:qt(T),primKey:d[y+x]};i.call(A,A.value,A)!==!1&&(A.value==null?k.push(d[y+x]):l||ce(u(T),u(A.value))===0?($.push(A.value),l&&C.push(d[y+x])):(k.push(d[y+x]),_.push(A.value)))}const B=st(n)&&n.limit===1/0&&(typeof t!="function"||t===Hn)&&{index:n.index,range:n.range};return Promise.resolve(_.length>0&&a.mutate({trans:r,type:"add",values:_}).then(x=>{for(let T in x.failures)k.splice(parseInt(T),1);v(_.length,x)})).then(()=>($.length>0||B&&typeof t=="object")&&a.mutate({trans:r,type:"put",keys:C,values:$,criteria:B,changeSpec:typeof t!="function"&&t}).then(x=>v($.length,x))).then(()=>(k.length>0||B&&t===Hn)&&a.mutate({trans:r,type:"delete",keys:k,criteria:B}).then(x=>v(k.length,x))).then(()=>d.length>y+m&&g(y+c))})};return g(0).then(()=>{if(h.length>0)throw new bn("Error modifying one or more objects",h,f,p);return d.length})})})}delete(){var t=this._ctx,n=t.range;return st(t)&&(t.isPrimKey&&!Il||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,s=n;return t.table.core.count({trans:r,query:{index:i,range:s}}).then(o=>t.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:a,lastResult:l,results:u,numFailures:c})=>{if(c)throw new bn("Could not delete some values",Object.keys(a).map(h=>a[h]),o-c);return o-c}))}):this.modify(Hn)}}const Hn=(e,t)=>t.value=null;function jl(e,t){return e<t?-1:e===t?0:1}function Dl(e,t){return e>t?-1:e===t?0:1}function fe(e,t,n){var r=e instanceof eo?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function ot(e){return new e.Collection(e,()=>Zs("")).limit(0)}function Kl(e,t,n,r,i,s){for(var o=Math.min(e.length,r.length),a=-1,l=0;l<o;++l){var u=t[l];if(u!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[l],u)<0&&(a=l)}return o<r.length&&s==="next"?e+n.substr(e.length):o<e.length&&s==="prev"?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Zt(e,t,n,r){var i,s,o,a,l,u,c,h=n.length;if(!n.every(d=>typeof d=="string"))return fe(e,Xs);function f(d){i=function(y){return y==="next"?m=>m.toUpperCase():m=>m.toLowerCase()}(d),s=function(y){return y==="next"?m=>m.toLowerCase():m=>m.toUpperCase()}(d),o=d==="next"?jl:Dl;var g=n.map(function(y){return{lower:s(y),upper:i(y)}}).sort(function(y,m){return o(y.lower,m.lower)});a=g.map(function(y){return y.upper}),l=g.map(function(y){return y.lower}),u=d,c=d==="next"?"":r}f("next");var p=new e.Collection(e,()=>De(a[0],l[h-1]+r));p._ondirectionchange=function(d){f(d)};var v=0;return p._addAlgorithm(function(d,g,y){var m=d.key;if(typeof m!="string")return!1;var b=s(m);if(t(b,l,v))return!0;for(var _=null,$=v;$<h;++$){var C=Kl(m,b,a[$],l[$],o,u);C===null&&_===null?v=$+1:(_===null||o(_,C)>0)&&(_=C)}return g(_!==null?function(){d.continue(_+c)}:y),!1}),p}function De(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Zs(e){return{type:1,lower:e,upper:e}}class eo{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?ot(this):new this.Collection(this,()=>De(t,n,!r,!i))}catch{return fe(this,Ce)}}equals(t){return t==null?fe(this,Ce):new this.Collection(this,()=>Zs(t))}above(t){return t==null?fe(this,Ce):new this.Collection(this,()=>De(t,void 0,!0))}aboveOrEqual(t){return t==null?fe(this,Ce):new this.Collection(this,()=>De(t,void 0,!1))}below(t){return t==null?fe(this,Ce):new this.Collection(this,()=>De(void 0,t,!1,!0))}belowOrEqual(t){return t==null?fe(this,Ce):new this.Collection(this,()=>De(void 0,t))}startsWith(t){return typeof t!="string"?fe(this,Xs):this.between(t,t+He,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Zt(this,(n,r)=>n.indexOf(r[0])===0,[t],He)}equalsIgnoreCase(t){return Zt(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Ae.apply(lt,arguments);return t.length===0?ot(this):Zt(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Ae.apply(lt,arguments);return t.length===0?ot(this):Zt(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,He)}anyOf(){const t=Ae.apply(lt,arguments);let n=this._cmp;try{t.sort(n)}catch{return fe(this,Ce)}if(t.length===0)return ot(this);const r=new this.Collection(this,()=>De(t[0],t[t.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((s,o,a)=>{const l=s.key;for(;n(l,t[i])>0;)if(++i,i===t.length)return o(a),!1;return n(l,t[i])===0||(o(()=>{s.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[kr,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Ae.apply(lt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return fe(this,Ce)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[kr,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(t.length===0)return ot(this);if(!t.every(m=>m[0]!==void 0&&m[1]!==void 0&&i(m[0],m[1])<=0))return fe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",j.InvalidArgument);const l=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let c,h=i;function f(m,b){return h(m[0],b[0])}try{c=t.reduce(function(m,b){let _=0,$=m.length;for(;_<$;++_){const C=m[_];if(r(b[0],C[1])<0&&r(b[1],C[0])>0){C[0]=o(C[0],b[0]),C[1]=a(C[1],b[1]);break}}return _===$&&m.push(b),m},[]),c.sort(f)}catch{return fe(this,Ce)}let p=0;const v=u?m=>i(m,c[p][1])>0:m=>i(m,c[p][1])>=0,d=l?m=>s(m,c[p][0])>0:m=>s(m,c[p][0])>=0;let g=v;const y=new this.Collection(this,()=>De(c[0][0],c[c.length-1][1],!l,!u));return y._ondirectionchange=m=>{m==="next"?(g=v,h=i):(g=d,h=s),c.sort(f)},y._addAlgorithm((m,b,_)=>{for(var $=m.key;g($);)if(++p,p===c.length)return b(_),!1;return!!function(C){return!v(C)&&!d(C)}($)||(this._cmp($,c[p][1])===0||this._cmp($,c[p][0])===0||b(()=>{h===i?m.continue(c[p][0]):m.continue(c[p][1])}),!1)}),y}startsWithAnyOf(){const t=Ae.apply(lt,arguments);return t.every(n=>typeof n=="string")?t.length===0?ot(this):this.inAnyRange(t.map(n=>[n,n+He])):fe(this,"startsWithAnyOf() only works with strings")}}function Se(e){return G(function(t){return Kt(t),e(t.target.error),!1})}function Kt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Nt="storagemutated",Ne="x-storagemutated-1",Ve=Tt(null,Nt);class Nl{_lock(){return Et(!I.global),++this._reculock,this._reculock!==1||I.global||(I.lockOwnerFor=this),this}_unlock(){if(Et(!I.global),--this._reculock==0)for(I.global||(I.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{_t(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&I.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Et(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new j.DatabaseClosed(r);case"MissingAPIError":throw new j.MissingAPI(r.message,r);default:throw new j.OpenFailed(r)}if(!this.active)throw new j.TransactionInactive;return Et(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=G(i=>{Kt(i),this._reject(t.error)}),t.onabort=G(i=>{Kt(i),this.active&&this._reject(new j.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=G(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Ve.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return te(new j.ReadOnly("Transaction is readonly"));if(!this.active)return te(new j.TransactionInactive);if(this._locked())return new P((s,o)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(s,o)},I])});if(r)return Fe(()=>{var s=new P((o,a)=>{this._lock();const l=n(o,a,this);l&&l.then&&l.then(o,a)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new P((s,o)=>{var a=n(s,o,this);a&&a.then&&a.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=P.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new P((o,a)=>{r.then(l=>n._waitingQueue.push(G(o.bind(null,l))),l=>n._waitingQueue.push(G(a.bind(null,l)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new j.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(pe(n,t))return n[t];const r=this.schema[t];if(!r)throw new j.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function Cr(e,t,n,r,i,s,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+to(t)}}function to(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function no(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Is(n,r=>[r.name,r])}}let Mt=e=>{try{return e.only([[]]),Mt=()=>[[]],[[]]}catch{return Mt=()=>He,He}};function Er(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>Ie(r,t)}(e):t=>Ie(t,e)}function Pi(e){return[].slice.call(e)}let Ml=0;function It(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function Fl(e,t,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:c,lowerOpen:h,upperOpen:f}=l;return u===void 0?c===void 0?null:t.upperBound(c,!!f):c===void 0?t.lowerBound(u,!!h):t.bound(u,c,!!h,!!f)}const{schema:i,hasGetAll:s}=function(l,u){const c=Pi(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(h=>u.objectStore(h)).map(h=>{const{keyPath:f,autoIncrement:p}=h,v=oe(f),d=f==null,g={},y={name:h.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:d,compound:v,keyPath:f,autoIncrement:p,unique:!0,extractKey:Er(f)},indexes:Pi(h.indexNames).map(m=>h.index(m)).map(m=>{const{name:b,unique:_,multiEntry:$,keyPath:C}=m,k={name:b,compound:oe(C),keyPath:C,unique:_,multiEntry:$,extractKey:Er(C)};return g[It(C)]=k,k}),getIndexByKeyPath:m=>g[It(m)]};return g[":id"]=y.primaryKey,f!=null&&(g[It(f)]=y.primaryKey),y})},hasGetAll:c.length>0&&"getAll"in u.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=i.tables.map(l=>function(u){const c=u.name;return{name:c,schema:u,mutate:function({trans:h,type:f,keys:p,values:v,range:d}){return new Promise((g,y)=>{g=G(g);const m=h.objectStore(c),b=m.keyPath==null,_=f==="put"||f==="add";if(!_&&f!=="delete"&&f!=="deleteRange")throw new Error("Invalid operation type: "+f);const{length:$}=p||v||{length:1};if(p&&v&&p.length!==v.length)throw new Error("Given keys array must have same length as given values array.");if($===0)return g({numFailures:0,failures:{},results:[],lastResult:void 0});let C;const k=[],B=[];let x=0;const T=R=>{++x,Kt(R)};if(f==="deleteRange"){if(d.type===4)return g({numFailures:x,failures:B,results:[],lastResult:void 0});d.type===3?k.push(C=m.clear()):k.push(C=m.delete(r(d)))}else{const[R,L]=_?b?[v,p]:[v,null]:[p,null];if(_)for(let N=0;N<$;++N)k.push(C=L&&L[N]!==void 0?m[f](R[N],L[N]):m[f](R[N])),C.onerror=T;else for(let N=0;N<$;++N)k.push(C=m[f](R[N])),C.onerror=T}const A=R=>{const L=R.target.result;k.forEach((N,me)=>N.error!=null&&(B[me]=N.error)),g({numFailures:x,failures:B,results:f==="delete"?p:k.map(N=>N.result),lastResult:L})};C.onerror=R=>{T(R),A(R)},C.onsuccess=A})},getMany:({trans:h,keys:f})=>new Promise((p,v)=>{p=G(p);const d=h.objectStore(c),g=f.length,y=new Array(g);let m,b=0,_=0;const $=k=>{const B=k.target;y[B._pos]=B.result,++_===b&&p(y)},C=Se(v);for(let k=0;k<g;++k)f[k]!=null&&(m=d.get(f[k]),m._pos=k,m.onsuccess=$,m.onerror=C,++b);b===0&&p(y)}),get:({trans:h,key:f})=>new Promise((p,v)=>{p=G(p);const d=h.objectStore(c).get(f);d.onsuccess=g=>p(g.target.result),d.onerror=Se(v)}),query:function(h){return f=>new Promise((p,v)=>{p=G(p);const{trans:d,values:g,limit:y,query:m}=f,b=y===1/0?void 0:y,{index:_,range:$}=m,C=d.objectStore(c),k=_.isPrimaryKey?C:C.index(_.name),B=r($);if(y===0)return p({result:[]});if(h){const x=g?k.getAll(B,b):k.getAllKeys(B,b);x.onsuccess=T=>p({result:T.target.result}),x.onerror=Se(v)}else{let x=0;const T=g||!("openKeyCursor"in k)?k.openCursor(B):k.openKeyCursor(B),A=[];T.onsuccess=R=>{const L=T.result;return L?(A.push(g?L.value:L.primaryKey),++x===y?p({result:A}):void L.continue()):p({result:A})},T.onerror=Se(v)}})}(s),openCursor:function({trans:h,values:f,query:p,reverse:v,unique:d}){return new Promise((g,y)=>{g=G(g);const{index:m,range:b}=p,_=h.objectStore(c),$=m.isPrimaryKey?_:_.index(m.name),C=v?d?"prevunique":"prev":d?"nextunique":"next",k=f||!("openKeyCursor"in $)?$.openCursor(r(b),C):$.openKeyCursor(r(b),C);k.onerror=Se(y),k.onsuccess=G(B=>{const x=k.result;if(!x)return void g(null);x.___id=++Ml,x.done=!1;const T=x.continue.bind(x);let A=x.continuePrimaryKey;A&&(A=A.bind(x));const R=x.advance.bind(x),L=()=>{throw new Error("Cursor not stopped")};x.trans=h,x.stop=x.continue=x.continuePrimaryKey=x.advance=()=>{throw new Error("Cursor not started")},x.fail=G(y),x.next=function(){let N=1;return this.start(()=>N--?this.continue():this.stop()).then(()=>this)},x.start=N=>{const me=new Promise((M,ne)=>{M=G(M),k.onerror=Se(ne),x.fail=ne,x.stop=ee=>{x.stop=x.continue=x.continuePrimaryKey=x.advance=L,M(ee)}}),W=()=>{if(k.result)try{N()}catch(M){x.fail(M)}else x.done=!0,x.start=()=>{throw new Error("Cursor behind last entry")},x.stop()};return k.onsuccess=G(M=>{k.onsuccess=W,W()}),x.continue=T,x.continuePrimaryKey=A,x.advance=R,W(),me},g(x)},y)})},count({query:h,trans:f}){const{index:p,range:v}=h;return new Promise((d,g)=>{const y=f.objectStore(c),m=p.isPrimaryKey?y:y.index(p.name),b=r(v),_=b?m.count(b):m.count();_.onsuccess=G($=>d($.target.result)),_.onerror=Se(g)})}}}(l)),a={};return o.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:Mt(t),schema:i}}function Pr({_novip:e},t){const n=t.db,r=function(i,s,{IDBKeyRange:o,indexedDB:a},l){return{dbcore:function(c,h){return h.reduce((f,{create:p})=>({...f,...p(f)}),c)}(Fl(s,o,l),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const s=i.name;e.core.schema.tables.some(o=>o.name===s)&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function Sn({_novip:e},t,n,r){n.forEach(i=>{const s=r[i];t.forEach(o=>{const a=Yr(o,i);(!a||"value"in a&&a.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?Te(o,i,{get(){return this.table(i)},set(l){Rs(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new e.Table(i,s))})})}function Ar({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function ql(e,t){return e._cfg.version-t._cfg.version}function Vl(e,t,n,r){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);const o=s._reject.bind(s),a=I.transless||I;Fe(()=>{I.trans=s,I.transless=a,t===0?(Z(i).forEach(l=>{Yn(n,l,i[l].primKey,i[l].indexes)}),Pr(e,n),P.follow(()=>e.on.populate.fire(s)).catch(o)):function({_novip:l},u,c,h){const f=[],p=l._versions;let v=l._dbSchema=Or(l,l.idbdb,h),d=!1;const g=p.filter(m=>m._cfg.version>=u);function y(){return f.length?P.resolve(f.shift()(c.idbtrans)).then(y):P.resolve()}return g.forEach(m=>{f.push(()=>{const b=v,_=m._cfg.dbschema;Tr(l,b,h),Tr(l,_,h),v=l._dbSchema=_;const $=ro(b,_);$.add.forEach(k=>{Yn(h,k[0],k[1].primKey,k[1].indexes)}),$.change.forEach(k=>{if(k.recreate)throw new j.Upgrade("Not yet support for changing primary key");{const B=h.objectStore(k.name);k.add.forEach(x=>Rr(B,x)),k.change.forEach(x=>{B.deleteIndex(x.name),Rr(B,x)}),k.del.forEach(x=>B.deleteIndex(x))}});const C=m._cfg.contentUpgrade;if(C&&m._cfg.version>u){Pr(l,h),c._memoizedTables={},d=!0;let k=Bs(_);$.del.forEach(A=>{k[A]=b[A]}),Ar(l,[l.Transaction.prototype]),Sn(l,[l.Transaction.prototype],Z(k),k),c.schema=k;const B=Gr(C);let x;B&&wt();const T=P.follow(()=>{if(x=C(c),x&&B){var A=Le.bind(null,null);x.then(A,A)}});return x&&typeof x.then=="function"?P.resolve(x):T.then(()=>x)}}),f.push(b=>{(!d||!Tl)&&function(_,$){[].slice.call($.db.objectStoreNames).forEach(C=>_[C]==null&&$.db.deleteObjectStore(C))}(m._cfg.dbschema,b),Ar(l,[l.Transaction.prototype]),Sn(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),y().then(()=>{var m,b;b=h,Z(m=v).forEach(_=>{b.db.objectStoreNames.contains(_)||Yn(b,_,m[_].primKey,m[_].indexes)})})}(e,t,s,n).catch(o)})}function ro(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!In)o.recreate=!0,n.change.push(o);else{const a=i.idxByName,l=s.idxByName;let u;for(u in a)l[u]||o.del.push(u);for(u in l){const c=a[u],h=l[u];c?c.src!==h.src&&o.change.push(h):o.add.push(h)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function Yn(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>Rr(i,s)),i}function Rr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Or(e,t,n){const r={};return vn(t.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let o=s.keyPath;const a=Cr(to(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),l=[];for(let c=0;c<s.indexNames.length;++c){const h=s.index(s.indexNames[c]);o=h.keyPath;var u=Cr(h.name,o,!!h.unique,!!h.multiEntry,!1,o&&typeof o!="string",!1);l.push(u)}r[i]=no(i,a,l)}),r}function Tr({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],o=n.objectStore(s);e._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const l=o.indexNames[a],u=o.index(l).keyPath,c=typeof u=="string"?u:"["+vn(u).join("+")+"]";if(t[s]){const h=t[s].idxByName[c];h&&(h.name=l,delete t[s].idxByName[c],t[s].idxByName[l]=h)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Y.WorkerGlobalScope&&Y instanceof Y.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Ul{_parseStoresSpec(t,n){Z(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((o,a)=>{const l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Cr(l,u||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),oe(u),a===0)}),s=i.shift();if(s.multi)throw new j.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new j.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new j.Schema("Index must have a name and cannot be an empty string")}),n[r]=no(r,s,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?ue(this._cfg.storesSource,t):t;const r=n._versions,i={};let s={};return r.forEach(o=>{ue(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,Ar(n,[n._allTables,n,n.Transaction.prototype]),Sn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Z(s),s),n._storeNames=Z(s),this}upgrade(t){return this._cfg.contentUpgrade=Jr(this._cfg.contentUpgrade||H,t),this}}function ni(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Qe(Bn,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function ri(e){return e&&typeof e.databases=="function"}function Ir(e){return Fe(function(){return I.letThrough=!0,e()})}function Wl(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function zl(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?te(t.dbOpenError):e);ke&&(t.openCanceller._stackHolder=rt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new j.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,o=null,a=!1;return P.race([r,(typeof navigator>"u"?P.resolve():Wl()).then(()=>new P((l,u)=>{if(i(),!n)throw new j.MissingAPI;const c=e.name,h=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!h)throw new j.MissingAPI;h.onerror=Se(u),h.onblocked=G(e._fireOnBlocked),h.onupgradeneeded=G(f=>{if(o=h.transaction,t.autoSchema&&!e._options.allowEmptyDB){h.onerror=Kt,o.abort(),h.result.close();const v=n.deleteDatabase(c);v.onsuccess=v.onerror=G(()=>{u(new j.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{o.onerror=Se(u);var p=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;a=p<1,e._novip.idbdb=h.result,Vl(e,p/10,o,u)}},u),h.onsuccess=G(()=>{o=null;const f=e._novip.idbdb=h.result,p=vn(f.objectStoreNames);if(p.length>0)try{const d=f.transaction((v=p).length===1?v[0]:v,"readonly");t.autoSchema?function({_novip:g},y,m){g.verno=y.version/10;const b=g._dbSchema=Or(0,y,m);g._storeNames=vn(y.objectStoreNames,0),Sn(g,[g._allTables],Z(b),b)}(e,f,d):(Tr(e,e._dbSchema,d),function(g,y){const m=ro(Or(0,g.idbdb,y),g._dbSchema);return!(m.add.length||m.change.some(b=>b.add.length||b.change.length))}(e,d)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Pr(e,d)}catch{}var v;Ot.push(e),f.onversionchange=G(d=>{t.vcFired=!0,e.on("versionchange").fire(d)}),f.onclose=G(d=>{e.on("close").fire(d)}),a&&function({indexedDB:d,IDBKeyRange:g},y){!ri(d)&&y!==Bn&&ni(d,g).put({name:y}).catch(H)}(e._deps,c),l()},u)}))]).then(()=>(i(),t.onReadyBeingFired=[],P.resolve(Ir(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(Jr,H);return t.onReadyBeingFired=[],P.resolve(Ir(()=>u(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{o&&o.abort()}catch{}return r===t.openCanceller&&e._close(),te(l)}).finally(()=>{t.openComplete=!0,s()})}function Br(e){var t=s=>e.next(s),n=i(t),r=i(s=>e.throw(s));function i(s){return o=>{var a=s(o),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(n,r):oe(l)?Promise.all(l).then(n,r):n(l)}}return i(t)()}function Hl(e,t,n){var r=arguments.length;if(r<2)throw new j.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,Ls(i),n]}function io(e,t,n,r,i){return P.resolve().then(()=>{const s=I.transless||I,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(h){return h.name===Qr.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>io(e,t,n,null,i))):te(h)}const l=Gr(i);let u;l&&wt();const c=P.follow(()=>{if(u=i.call(o,o),u)if(l){var h=Le.bind(null,null);u.then(h,h)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=Br(u))},a);return(u&&typeof u.then=="function"?P.resolve(u).then(h=>o.active?h:te(new j.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(h=>(r&&o._resolve(),o._completion.then(()=>h))).catch(h=>(o._reject(h),te(h)))})}function en(e,t,n){const r=oe(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const Yl={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function o(c,h,f){const p=It(c),v=i[p]=i[p]||[],d=c==null?0:typeof c=="string"?1:c.length,g=h>0,y={...f,isVirtual:g,keyTail:h,keyLength:d,extractKey:Er(c),unique:!g&&f.unique};return v.push(y),y.isPrimaryKey||s.push(y),d>1&&o(d===2?c[0]:c.slice(0,d-1),h+1,f),v.sort((m,b)=>m.keyTail-b.keyTail),y}const a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const c of r.indexes)o(c.keyPath,0,c);function l(c){const h=c.query.index;return h.isVirtual?{...c,query:{index:h,range:(f=c.query.range,p=h.keyTail,{type:f.type===1?2:f.type,lower:en(f.lower,f.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:en(f.upper,f.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}:c;var f,p}return{...n,schema:{...r,primaryKey:a,indexes:s,getIndexByKeyPath:function(c){const h=i[It(c)];return h&&h[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:h,isVirtual:f,keyLength:p}=c.query.index;return f?n.openCursor(l(c)).then(v=>v&&function(d){return Object.create(d,{continue:{value:function(y){y!=null?d.continue(en(y,c.reverse?e.MAX_KEY:e.MIN_KEY,h)):c.unique?d.continue(d.key.slice(0,p).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,h)):d.continue()}},continuePrimaryKey:{value(y,m){d.continuePrimaryKey(en(y,e.MAX_KEY,h),m)}},primaryKey:{get:()=>d.primaryKey},key:{get(){const y=d.key;return p===1?y[0]:y.slice(0,p)}},value:{get:()=>d.value}})}(v)):n.openCursor(c)}}}}}};function ii(e,t,n,r){return n=n||{},r=r||"",Z(e).forEach(i=>{if(pe(t,i)){var s=e[i],o=t[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const a=dr(s);a!==dr(o)?n[r+i]=t[i]:a==="Object"?ii(s,o,n,r+i+"."):s!==o&&(n[r+i]=t[i])}else s!==o&&(n[r+i]=t[i])}else n[r+i]=void 0}),Z(t).forEach(i=>{pe(e,i)||(n[r+i]=t[i])}),n}const Gl={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(s){const o=I.trans,{deleting:a,creating:l,updating:u}=o.table(t).hook;switch(s.type){case"add":if(l.fire===H)break;return o._promise("readwrite",()=>c(s),!0);case"put":if(l.fire===H&&u.fire===H)break;return o._promise("readwrite",()=>c(s),!0);case"delete":if(a.fire===H)break;return o._promise("readwrite",()=>c(s),!0);case"deleteRange":if(a.fire===H)break;return o._promise("readwrite",()=>function(f){return h(f.trans,f.range,1e4)}(s),!0)}return n.mutate(s);function c(f){const p=I.trans,v=f.keys||function(d,g){return g.type==="delete"?g.keys:g.keys||g.values.map(d.extractKey)}(r,f);if(!v)throw new Error("Keys missing");return(f=f.type==="add"||f.type==="put"?{...f,keys:v}:{...f}).type!=="delete"&&(f.values=[...f.values]),f.keys&&(f.keys=[...f.keys]),function(d,g,y){return g.type==="add"?Promise.resolve([]):d.getMany({trans:g.trans,keys:y,cache:"immutable"})}(n,f,v).then(d=>{const g=v.map((y,m)=>{const b=d[m],_={onerror:null,onsuccess:null};if(f.type==="delete")a.fire.call(_,y,b,p);else if(f.type==="add"||b===void 0){const $=l.fire.call(_,y,f.values[m],p);y==null&&$!=null&&(y=$,f.keys[m]=y,r.outbound||xe(f.values[m],r.keyPath,y))}else{const $=ii(b,f.values[m]),C=u.fire.call(_,$,y,b,p);if(C){const k=f.values[m];Object.keys(C).forEach(B=>{pe(k,B)?k[B]=C[B]:xe(k,B,C[B])})}}return _});return n.mutate(f).then(({failures:y,results:m,numFailures:b,lastResult:_})=>{for(let $=0;$<v.length;++$){const C=m?m[$]:v[$],k=g[$];C==null?k.onerror&&k.onerror(y[$]):k.onsuccess&&k.onsuccess(f.type==="put"&&d[$]?f.values[$]:C)}return{failures:y,results:m,numFailures:b,lastResult:_}}).catch(y=>(g.forEach(m=>m.onerror&&m.onerror(y)),Promise.reject(y)))})}function h(f,p,v){return n.query({trans:f,values:!1,query:{index:r,range:p},limit:v}).then(({result:d})=>c({type:"delete",keys:d,trans:f}).then(g=>g.numFailures>0?Promise.reject(g.failures[0]):d.length<v?{failures:[],numFailures:0,lastResult:void 0}:h(f,{...p,lower:d[d.length-1],lowerOpen:!0},v)))}}}}})};function so(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)ce(t.keys[i],e[s])===0&&(r.push(n?qt(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch{return null}}const Xl={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=so(r.keys,r.trans._cache,r.cache==="clone");return i?P.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?qt(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function si(e){return!("from"in e)}const Pe=function(e,t){if(!this){const n=new Pe;return e&&"d"in e&&ue(n,e),n}ue(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Ft(e,t,n){const r=ce(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(si(e))return ue(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(ce(n,e.from)<0)return i?Ft(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Ai(e);if(ce(t,e.to)>0)return s?Ft(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Ai(e);ce(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),ce(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;i&&!e.l&&kn(e,i),s&&o&&kn(e,s)}function kn(e,t){si(t)||function n(r,{from:i,to:s,l:o,r:a}){Ft(r,i,s),o&&n(r,o),a&&n(r,a)}(e,t)}function Ql(e,t){const n=Lr(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=Lr(e);let o=s.next(i.from),a=o.value;for(;!r.done&&!o.done;){if(ce(a.from,i.to)<=0&&ce(a.to,i.from)>=0)return!0;ce(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function Lr(e){let t=si(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&ce(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||ce(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Ai(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...e},a=e[i];e.from=a.from,e.to=a.to,e[i]=a[i],o[i]=a[s],e[s]=o,o.d=Ri(o)}e.d=Ri(e)}function Ri({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}gt(Pe.prototype,{add(e){return kn(this,e),this},addKey(e){return Ft(this,e,e),this},addKeys(e){return e.forEach(t=>Ft(this,t,t)),this},[pr](){return Lr(this)}});const Jl={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Pe(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:s}=i,{primaryKey:o}=s,{extractKey:a,outbound:l}=o,u={...i,mutate:f=>{const p=f.trans,v=p.mutatedParts||(p.mutatedParts={}),d=C=>{const k=`idb://${t}/${r}/${C}`;return v[k]||(v[k]=new Pe)},g=d(""),y=d(":dels"),{type:m}=f;let[b,_]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[];const $=f.trans._cache;return i.mutate(f).then(C=>{if(oe(b)){m!=="delete"&&(b=C.results),g.addKeys(b);const k=so(b,$);k||m==="add"||y.addKeys(b),(k||_)&&function(B,x,T,A){function R(L){const N=B(L.name||"");function me(M){return M!=null?L.extractKey(M):null}const W=M=>L.multiEntry&&oe(M)?M.forEach(ne=>N.addKey(ne)):N.addKey(M);(T||A).forEach((M,ne)=>{const ee=T&&me(T[ne]),he=A&&me(A[ne]);ce(ee,he)!==0&&(ee!=null&&W(ee),he!=null&&W(he))})}x.indexes.forEach(R)}(d,s,k,_)}else if(b){const k={from:b.lower,to:b.upper};y.add(k),g.add(k)}else g.add(n),y.add(n),s.indexes.forEach(k=>d(k.name).add(n));return C})}},c=({query:{index:f,range:p}})=>{var v,d;return[f,new Pe((v=p.lower)!==null&&v!==void 0?v:e.MIN_KEY,(d=p.upper)!==null&&d!==void 0?d:e.MAX_KEY)]},h={get:f=>[o,new Pe(f.key)],getMany:f=>[o,new Pe().addKeys(f.keys)],count:c,query:c,openCursor:c};return Z(h).forEach(f=>{u[f]=function(p){const{subscr:v}=I;if(v){const d=_=>{const $=`idb://${t}/${r}/${_}`;return v[$]||(v[$]=new Pe)},g=d(""),y=d(":dels"),[m,b]=h[f](p);if(d(m.name||"").add(b),!m.isPrimaryKey){if(f!=="count"){const _=f==="query"&&l&&p.values&&i.query({...p,values:!1});return i[f].apply(this,arguments).then($=>{if(f==="query"){if(l&&p.values)return _.then(({result:k})=>(g.addKeys(k),$));const C=p.values?$.result.map(a):$.result;p.values?g.addKeys(C):y.addKeys(C)}else if(f==="openCursor"){const C=$,k=p.values;return C&&Object.create(C,{key:{get:()=>(y.addKey(C.primaryKey),C.key)},primaryKey:{get(){const B=C.primaryKey;return y.addKey(B),B}},value:{get:()=>(k&&g.addKey(C.primaryKey),C.value)}})}return $})}y.add(n)}}return i[f].apply(this,arguments)}}),u}}}};class Qe{constructor(t,n){this._middlewares={},this.verno=0;const r=Qe.dependencies;this._options=n={addons:Qe.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:H,dbReadyPromise:null,cancelOpen:H,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new P(a=>{s.dbReadyResolve=a}),s.openCanceller=new P((a,l)=>{s.cancelOpen=l}),this._state=s,this.name=t,this.on=Tt(this,"populate","blocked","versionchange","close",{ready:[Jr,H]}),this.on.ready.subscribe=Os(this.on.ready.subscribe,a=>(l,u)=>{Qe.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||P.resolve().then(l),u&&a(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),u&&a(l);else{a(l);const h=this;u||a(function f(){h.on.ready.unsubscribe(l),h.on.ready.unsubscribe(f)})}})}),this.Collection=(o=this,xt(Ll.prototype,function(a,l){this.db=o;let u=Js,c=null;if(l)try{u=l()}catch(v){c=v}const h=a._ctx,f=h.table,p=f.hook.reading.fire;this._ctx={table:f,index:h.index,isPrimKey:!h.index||f.schema.primKey.keyPath&&h.index===f.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:h.or,valueMapper:p!==jt?p:null}})),this.Table=function(a){return xt(Bl.prototype,function(l,u,c){this.db=a,this._tx=c,this.name=l,this.schema=u,this.hook=a._allTables[l]?a._allTables[l].hook:Tt(null,{creating:[xl,H],reading:[_l,jt],updating:[Sl,H],deleting:[$l,H]})})}(this),this.Transaction=function(a){return xt(Nl.prototype,function(l,u,c,h,f){this.db=a,this.mode=l,this.storeNames=u,this.schema=c,this.chromeTransactionDurability=h,this.idbtrans=null,this.on=Tt(this,"complete","error","abort"),this.parent=f||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new P((p,v)=>{this._resolve=p,this._reject=v}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var v=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):v&&this.idbtrans&&this.idbtrans.abort(),te(p)})})}(this),this.Version=function(a){return xt(Ul.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return xt(eo.prototype,function(l,u,c){this.db=a,this._ctx={table:l,index:u===":id"?null:u,or:c};const h=a._deps.indexedDB;if(!h)throw new j.MissingAPI;this._cmp=this._ascending=h.cmp.bind(h),this._descending=(f,p)=>h.cmp(p,f),this._max=(f,p)=>h.cmp(f,p)>0?f:p,this._min=(f,p)=>h.cmp(f,p)<0?f:p,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=Mt(n.IDBKeyRange),this._createTransaction=(a,l,u,c)=>new this.Transaction(a,l,u,this._options.chromeTransactionDurability,c),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Ot.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(Yl),this.use(Gl),this.use(Jl),this.use(Xl),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new j.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new j.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(ql),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||I.letThrough||this._vip)?t():new P((n,r)=>{if(this._state.openComplete)return r(new j.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new j.DatabaseClosed);this.open().catch(H)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:r??10,name:i}),s.sort((o,a)=>o.level-a.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return zl(this)}_close(){const t=this._state,n=Ot.indexOf(this);if(n>=0&&Ot.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new P(r=>{t.dbReadyResolve=r}),t.openCanceller=new P((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new j.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new P((r,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=G(()=>{(function({indexedDB:a,IDBKeyRange:l},u){!ri(a)&&u!==Bn&&ni(a,l).delete(u).catch(H)})(this._deps,this.name),r()}),o.onerror=Se(i),o.onblocked=this._fireOnBlocked};if(t)throw new j.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Z(this._allTables).map(t=>this._allTables[t])}transaction(){const t=Hl.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=I.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const s=t.indexOf("?")!==-1;let o,a;t=t.replace("!","").replace("?","");try{if(a=n.map(u=>{var c=u instanceof this.Table?u.name:u;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t===Vn)o=Vn;else{if(t!="rw"&&t!=Un)throw new j.InvalidArgument("Invalid transaction mode: "+t);o=Un}if(i){if(i.mode===Vn&&o===Un){if(!s)throw new j.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1){if(!s)throw new j.SubTransaction("Table "+u+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(c,h)=>{h(u)}):te(u)}const l=io.bind(null,this,o,a,i,r);return i?i._promise(o,l,"lock"):I.trans?_t(I.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!pe(this._allTables,t))throw new j.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const Zl=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class ec{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[Zl](){return this}}function oo(e,t){return Z(t).forEach(n=>{kn(e[n]||(e[n]=new Pe),t[n])}),e}function tc(e){let t,n=!1;const r=new ec(i=>{const s=Gr(e);let o=!1,a={},l={};const u={get closed(){return o},unsubscribe:()=>{o=!0,Ve.storagemutated.unsubscribe(p)}};i.start&&i.start(u);let c=!1,h=!1;function f(){return Z(l).some(d=>a[d]&&Ql(a[d],l[d]))}const p=d=>{oo(a,d),f()&&v()},v=()=>{if(c||o)return;a={};const d={},g=function(y){s&&wt();const m=()=>Fe(e,{subscr:y,trans:null}),b=I.trans?_t(I.transless,m):m();return s&&b.then(Le,Le),b}(d);h||(Ve(Nt,p),h=!0),c=!0,Promise.resolve(g).then(y=>{n=!0,t=y,c=!1,o||(f()?v():(a={},l=d,i.next&&i.next(y)))},y=>{c=!1,n=!1,i.error&&i.error(y),u.unsubscribe()})};return v(),u});return r.hasValue=()=>n,r.getValue=()=>t,r}let jr;try{jr={indexedDB:Y.indexedDB||Y.mozIndexedDB||Y.webkitIndexedDB||Y.msIndexedDB,IDBKeyRange:Y.IDBKeyRange||Y.webkitIDBKeyRange}}catch{jr={indexedDB:null,IDBKeyRange:null}}const Ue=Qe;function cn(e){let t=Re;try{Re=!0,Ve.storagemutated.fire(e)}finally{Re=t}}gt(Ue,{...nn,delete:e=>new Ue(e,{addons:[]}).delete(),exists:e=>new Ue(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return ri(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==Bn)):ni(t,n).toCollection().primaryKeys()}(Ue.dependencies).then(e)}catch{return te(new j.MissingAPI)}},defineClass:()=>function(e){ue(this,e)},ignoreTransaction:e=>I.trans?_t(I.transless,e):e(),vip:Ir,async:function(e){return function(){try{var t=Br(e.apply(this,arguments));return t&&typeof t.then=="function"?t:P.resolve(t)}catch(n){return te(n)}}},spawn:function(e,t,n){try{var r=Br(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:P.resolve(r)}catch(i){return te(i)}},currentTransaction:{get:()=>I.trans||null},waitFor:function(e,t){const n=P.resolve(typeof e=="function"?Ue.ignoreTransaction(e):e).timeout(t||6e4);return I.trans?I.trans.waitFor(n):n},Promise:P,debug:{get:()=>ke,set:e=>{Ds(e,e==="dexie"?()=>!0:Qs)}},derive:ht,extend:ue,props:gt,override:Os,Events:Tt,on:Ve,liveQuery:tc,extendObservabilitySet:oo,getByKeyPath:Ie,setByKeyPath:xe,delByKeyPath:function(e,t){typeof t=="string"?xe(e,t,void 0):"length"in t&&[].map.call(t,function(n){xe(e,n,void 0)})},shallowClone:Bs,deepClone:qt,getObjectDiff:ii,cmp:ce,asap:Ts,minKey:kr,addons:[],connections:Ot,errnames:Qr,dependencies:jr,semVer:$i,version:$i.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Ue.maxKey=Mt(Ue.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ve(Nt,e=>{if(!Re){let t;In?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Ne,!0,!0,e)):t=new CustomEvent(Ne,{detail:e}),Re=!0,dispatchEvent(t),Re=!1}}),addEventListener(Ne,({detail:e})=>{Re||cn(e)}));let Re=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(Ne);typeof e.unref=="function"&&e.unref(),Ve(Nt,t=>{Re||e.postMessage(t)}),e.onmessage=t=>{t.data&&cn(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Ve(Nt,t=>{try{Re||(typeof localStorage<"u"&&localStorage.setItem(Ne,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Ne,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===Ne){const n=JSON.parse(t.newValue);n&&cn(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===Ne&&cn(t.changedParts)})}P.rejectionMapper=function(e,t){if(!e||e instanceof ft||e instanceof TypeError||e instanceof SyntaxError||!e.name||!bi[e.name])return e;var n=new bi[e.name](t||e.message,e);return"stack"in e&&Te(n,"stack",{get:function(){return this.inner.stack}}),n},Ds(ke,Qs);class nc extends Qe{spells;classes;races;backgrounds;items;feats;constructor(t){super(t),this.version(1).stores({spells:"name",classes:"name",races:"name",backgrounds:"name",items:"name",feats:"name"})}}const we=new nc("dndSrd"),[Oi,rc]=K([]);function ic(){const e=be.toObservable(we.classes.toArray());return Oi().length===0&&e.pipe(ge(1),ye(t=>t.length>0?X(t):X([])),ye(t=>t.length===0?be.post("/api/DnDInfo/Classes",{}).pipe(ge(1),nt(n=>(console.error("Error: ",n),X(null))),ve(n=>{n&&we.classes.bulkAdd(n)})):X(t)),ve(t=>t&&t.length>0?rc(t):null)).subscribe(),Oi}const sc="_primary_1a8rj_1",oc="_accent_1a8rj_12",ac="_tertiary_1a8rj_65",lc="_warn_1a8rj_70",cc="_hover_1a8rj_74",uc="_popup_1a8rj_88",hc="_table_1a8rj_100",We={primary:sc,accent:oc,tertiary:ac,warn:lc,hover:cc,popup:uc,table:hc},fc="_primary_hhp2e_1",dc="_accent_hhp2e_7",pc="_warn_hhp2e_13",mc="_hover_hhp2e_17",yc="_popup_hhp2e_28",gc="_table_hhp2e_41",vc="_tBody_hhp2e_55",bc="_THead_hhp2e_60",ze={primary:fc,accent:dc,warn:pc,hover:mc,popup:yc,table:gc,tBody:vc,THead:bc},wc={primary:ze.primary,accent:ze.accent,tertiary:ze.tertiary,warn:ze.warn,hover:ze.hover,popup:ze.popup,table:ze.table},Ti={primary:We.primary,accent:We.accent,tertiary:We.tertiary,warn:We.warn,hover:We.hover,popup:We.popup,table:We.table};function ie(e="dark"){switch(e.toLowerCase()){case"light":return wc;case"dark":return document.body.style.backgroundColor="#212121",Ti;default:return Ti}}const[Ii,_c]=K([]);function ao(){const e=be.toObservable(we.spells.toArray());return Ii().length===0&&e.pipe(ge(1),ye(t=>t.length>0?X(t):X([])),ye(t=>t.length===0?be.post("/api/DnDInfo/Spells",{}).pipe(ge(1),nt(n=>(console.error("Error: ",n),X(null))),ve(n=>{n&&we.spells.bulkAdd(n)})):X(t)),ve(t=>t&&t.length>0?_c(t):null)).subscribe(),Ii}const[Bi,xc]=K([]);function lo(){const e=be.toObservable(we.feats.toArray());return Bi().length===0&&e.pipe(ge(1),ye(t=>t.length>0?X(t):X([])),ye(t=>t.length===0?be.post("/api/DnDInfo/Feats",{}).pipe(ge(1),nt(n=>(console.error("Error: ",n),X(null))),ve(n=>{n&&we.feats.bulkAdd(n)})):X(t)),ve(t=>t&&t.length>0?xc(t):null)).subscribe(),Bi}const[Li,$c]=K([]);function co(){const e=be.toObservable(we.races.toArray());return Li().length===0&&e.pipe(ge(1),ye(t=>t.length>0?X(t):X([])),ye(t=>t.length===0?be.post("/api/DnDInfo/Races",{}).pipe(ge(1),nt(n=>(console.error("Error: ",n),X(null))),ve(n=>{n&&we.races.bulkAdd(n)})):X(t)),ve(t=>t&&t.length>0?$c(t):null)).subscribe(),Li}const[ji,Sc]=K([]);function kc(){const e=be.toObservable(we.backgrounds.toArray());return ji().length===0&&e.pipe(ge(1),ye(t=>t.length>0?X(t):X([])),ye(t=>t.length===0?be.post("/api/DnDInfo/Backgrounds",{}).pipe(ge(1),nt(n=>(console.error("Error: ",n),X(null))),ve(n=>{n&&we.backgrounds.bulkAdd(n)})):X(t)),ve(t=>t&&t.length>0?Sc(t):null)).subscribe(),ji}const[Di,Cc]=K([]);function Ec(){const e=be.toObservable(we.items.toArray());return Di().length===0&&e.pipe(ge(1),ye(t=>t.length>0?X(t):X([])),ye(t=>t.length===0?be.post("/api/DnDInfo/Items",{}).pipe(ge(1),nt(n=>(console.error("Error: ",n),X(null))),ve(n=>{n&&we.items.bulkAdd(n)})):X(t)),ve(t=>t&&t.length>0?Cc(t):null)).subscribe(),Di}const Pc="_AppBody_1b0bi_1",Ac={AppBody:Pc};function Rc(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e;let a,l;const u=async(h=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(a=await Cn(()=>import("./workbox-window.prod.es5-HOwwy-x7.js"),__vite__mapDeps([])).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o?.(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r?.()}),a.register({immediate:t}).then(h=>{s?s("/sw.js",h):i?.(h)}).catch(h=>{o?.(h)})}}return l=c(),u}function uo(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e,[a,l]=K(!1),[u,c]=K(!1),h=Rc({immediate:t,onOfflineReady(){c(!0),r?.()},onNeedRefresh(){l(!0),n?.()},onRegistered:i,onRegisteredSW:s,onRegisterError:o});return{needRefresh:[a,l],offlineReady:[u,c],updateServiceWorker:h}}const Oc="_Container_8liaz_1",Tc="_Toast_8liaz_15",Ic="_ToastMessage_8liaz_43",Bc="_ToastButton_8liaz_51",$t={Container:Oc,Toast:Tc,ToastMessage:Ic,ToastButton:Bc};var Lc=E("<span>App ready to work offline"),jc=E("<button>Reload"),Dc=E("<div><div></div><button>Close"),Kc=E("<div>"),Nc=E("<span>New content available, click on reload button to update.");const Mc=()=>{const{offlineReady:[e,t],needRefresh:[n,r],updateServiceWorker:i}=uo({onRegistered(o){console.log("SW Registered: ",o)},onRegisterError(o){console.log("SW registration error",o)}}),s=()=>{t(!1),r(!1)};return(()=>{var o=Kc();return w(o,S(V,{get when(){return e()||n()},get children(){var a=Dc(),l=a.firstChild,u=l.nextSibling;return w(l,S(V,{get fallback(){return Nc()},get when(){return e()},get children(){return Lc()}})),w(a,S(V,{get when(){return n()},get children(){var c=jc();return c.$$click=()=>i(!0),O(()=>D(c,$t.ToastButton)),c}}),u),u.$$click=()=>s(),O(c=>{var h=$t.Toast,f=$t.Message,p=$t.ToastButton;return h!==c.e&&D(a,c.e=h),f!==c.t&&D(l,c.t=f),p!==c.a&&D(u,c.a=p),c},{e:void 0,t:void 0,a:void 0}),a}})),O(()=>D(o,$t.Container)),o})()};_e(["click"]);var Fc=E("<div><h1>Home</h1><div>Welcome to my app. This is a work in progress.");const qc=()=>{const e=ie();return ic(),ao(),lo(),co(),Ec(),kc(),(()=>{var t=Fc(),n=t.firstChild;return n.nextSibling,w(t,S(Mc,{}),null),O(()=>D(t,`${e.accent} ${Ac.AppBody}`)),t})()},Vc="_active_8eb29_1",Uc="_inactive_8eb29_6",Wc="_navbar_8eb29_11",St={active:Vc,inactive:Uc,navbar:Wc};var un=(e=>(e[e.DnD5e=0]="DnD5e",e[e.TOValient=1]="TOValient",e))(un||{});function zc(e){const[t,n]=K([]),r=un.DnD5e;return O(()=>{switch(!0){case e().startsWith("/info"):const i=[{Name:"All",Link:"/info"},{Name:"Races",Link:"/info/races"},{Name:"Spells",Link:"/info/spells"},{Name:"Feats",Link:"/info/feats"}];r===un.DnD5e?i.push({Name:"Backgrounds",Link:"/info/backgrounds"}):r===un.TOValient&&i.push({Name:"Heritages",Link:"/info/heritages"}),n(i);break;case e().startsWith("/characters"):n([{Name:"All",Link:"/characters"},{Name:"View",Link:"/characters/view"},{Name:"Create",Link:"/characters/create"}]);break;case e().startsWith("/homebrew"):n([{Name:"All",Link:"/homebrew"},{Name:"View",Link:"/homebrew/view"},{Name:"Create",Link:"/homebrew/create"}]);break;default:n([]);break}}),t}function Hc(e,t){const n=document.getElementById("root"),r=i=>!e.contains(i.target)&&t()?.();n.addEventListener("click",r),pt(()=>{n.removeEventListener("click",r)})}var Yc=E("<div>");const Gc=e=>{const t=ie(),[n,r]=e.backgroundClick??K(!0);return S(Jo,{get children(){var i=Yc();return Wo(Hc,i,()=>()=>r(!n())),w(i,()=>e.children),O(s=>{var o=e.width,a=e.height,l=`translate(${e.translate.x??"-50%"},${e.translate.y??"-50%"})`,u=`${t.popup} ${t.primary}`;return o!==s.e&&((s.e=o)!=null?i.style.setProperty("width",o):i.style.removeProperty("width")),a!==s.t&&((s.t=a)!=null?i.style.setProperty("height",a):i.style.removeProperty("height")),l!==s.a&&((s.a=l)!=null?i.style.setProperty("transform",l):i.style.removeProperty("transform")),u!==s.o&&D(i,s.o=u),s},{e:void 0,t:void 0,a:void 0,o:void 0}),i}})},Xc="_menuButton_frhu5_1",Qc="_menuButtons_frhu5_10",Ki={menuButton:Xc,menuButtons:Qc};var Jc=E('<button type=button><svg width=32pt height=32pt version=1.1 viewBox="0 0 128 128"xmlns=http://www.w3.org/2000/svg><path d="m113.15 40.062c4.9922 0 8.5742-3.5859 8.5742-8.4492s-3.5859-8.7031-8.5742-8.7031h-98.176c-4.8633 0-8.7031 3.8398-8.7031 8.7031s3.8398 8.4492 8.7031 8.4492zm-98.176 47.875c-4.8633 0-8.7031 3.8398-8.7031 8.5742s3.8398 8.7031 8.7031 8.7031h98.305c4.9922 0 8.5742-3.9688 8.5742-8.7031s-3.5859-8.5742-8.5742-8.5742zm0-32.641c-4.8633 0-8.7031 3.8398-8.7031 8.7031s3.8398 8.7031 8.7031 8.7031h98.305c4.9922 0 8.5742-3.8398 8.5742-8.7031s-3.5859-8.7031-8.5742-8.7031z"></path></svg>'),Zc=E("<ul>"),eu=E("<li><button>");const tu=()=>{const[e,t]=K(!1),n=ie(),[r,i]=K(!1),s=[{name:"Login",condition:()=>!r(),action:()=>{i(!0)}},{name:"Register",condition:()=>!r(),action:()=>{}},{name:"Logout",condition:r,action:()=>{i(!1)}},{name:"Profile",condition:r,action:()=>{}},{name:"Settings",condition:()=>!0,action:()=>{}}];return[(()=>{var o=Jc();return o.$$click=()=>t(!e()),O(()=>D(o,`${n.accent} ${n.hover}`)),o})(),S(V,{get when(){return e()},get children(){return S(Gc,{width:"10%",height:"25%",translate:{x:"36vw",y:"-40vh"},backgroundClick:[e,t],get children(){var o=Zc();return w(o,S(J,{each:s,children:a=>S(V,{get when(){return a.condition()},get children(){var l=eu(),u=l.firstChild;return On(u,"click",a.action,!0),w(u,()=>a.name),O(c=>{var h=`${100/s.filter(v=>v.condition()).length}%`,f=`${n.hover}`,p=`${n.accent} ${Ki.menuButton}`;return h!==c.e&&((c.e=h)!=null?l.style.setProperty("height",h):l.style.removeProperty("height")),f!==c.t&&D(l,c.t=f),p!==c.a&&D(u,c.a=p),c},{e:void 0,t:void 0,a:void 0}),l}})})),O(()=>D(o,`${Ki.menuButtons}`)),o}})}})]};_e(["click"]);var nu=E("<span>MySite"),ru=E("<li><div>MySite"),iu=E("<div><ul>"),su=E("<div><div><ul>"),ou=E("<button>"),Ni=E("<li>");const au=e=>{const t=ie();K(!1);const[n,r]=K(window.location.pathname),i=[{Name:"Home",Link:"/"},{Name:"Characters",Link:"/characters"},{Name:"Info",Link:"/info"},{Name:"Homebrew",Link:"/homebrew"}];let s=zc(n);const[o,a]=e.list,[l,u]=K(!1);return O(()=>{u(!o())}),(()=>{var c=su(),h=c.firstChild,f=h.firstChild;return w(h,S(V,{get when(){return!o()},get children(){return nu()}}),f),w(f,S(V,{get when(){return o()},get children(){return ru()}}),null),w(f,S(J,{each:i,children:(p,v)=>S(V,{get when(){return!o()||v()===0||l()},get children(){var d=Ni();return w(d,S(pi,{onClick:()=>r(p.Link),get href(){return p.Link},get children(){return p.Name}}),null),w(d,S(V,{get when(){return U(()=>!!o())()&&v()===0},get children(){var g=ou();return g.$$click=()=>u(!l()),g.style.setProperty("background","none"),g.style.setProperty("color","white"),g.style.setProperty("font-size","1.5rem"),g.style.setProperty("padding","0 10px"),g.style.setProperty("width","min-content"),g.style.setProperty("margin-right","0"),w(g,()=>l()?"":""),g}}),null),O(()=>D(d,`${t.hover} ${n()==="/"&&p.Link==="/"||n().startsWith(p.Link)&&n()!=="/"&&p.Link!=="/"?St.active:St.inactive}`)),d}})}),null),w(h,S(tu,{}),null),w(c,S(V,{get when(){return s().length>0},get children(){var p=iu(),v=p.firstChild;return w(v,S(J,{get each(){return s()},children:d=>(()=>{var g=Ni();return w(g,S(pi,{onClick:()=>r(d.Link),get href(){return d.Link},get children(){return d.Name}})),O(()=>D(g,`${t.hover} ${n()===d.Link?St.active:St.inactive}`)),g})()})),O(()=>D(p,e.style)),p}}),null),O(p=>{var v=St.navbar,d=o()?{margin:"0 auto",width:"100%"}:{},g=`${e.style}`,y=o()?{margin:"0 auto",width:"min-content"}:{};return v!==p.e&&D(c,p.e=v),p.t=ir(h,d,p.t),g!==p.a&&D(h,p.a=g),p.o=ir(f,y,p.o),p},{e:void 0,t:void 0,a:void 0,o:void 0}),c})()};_e(["click"]);const lu="_SpellsBody_ump1u_1",cu="_materials_needed_ump1u_1",uu="_TableRow_ump1u_32",hu="_headerBar_ump1u_64",Gn={SpellsBody:lu,materials_needed:cu,TableRow:uu,headerBar:hu},fu="_TableRow_41syk_1",du={TableRow:fu};var pu=E("<td><strong>Materials:</strong> "),mu=E("<td><strong>higher levels:"),yu=E("<td><textarea></textarea>"),gu=E("<tr><td><h2><strong></strong></h2></td><td><strong>Level:</strong> </td><td><strong>School:</strong> </td><td><strong>Casting time:</strong> </td><td><strong>Range:</strong> </td><td><strong>Components:</strong> </td><td><strong>Duration:</strong> </td><td><strong>Classes:</strong> </td><td><strong>Subclasses:</strong> </td><td><strong>Description:</strong></td><td><textarea name=spell_desc>");const vu=e=>{const t=e.spell.isMaterial,n=e.spell.isSomatic,r=e.spell.isVerbal;function i(){let o=[],a=[];return r&&o.push("V"),n&&o.push("S"),t&&o.push("M"),a.push(o.join(", ")),t&&a.push(e.spell.materials_Needed),a}let s=i();return(()=>{var o=gu(),a=o.firstChild,l=a.firstChild,u=l.firstChild,c=a.nextSibling,h=c.firstChild;h.nextSibling;var f=c.nextSibling,p=f.firstChild;p.nextSibling;var v=f.nextSibling,d=v.firstChild;d.nextSibling;var g=v.nextSibling,y=g.firstChild;y.nextSibling;var m=g.nextSibling,b=m.firstChild;b.nextSibling;var _=m.nextSibling,$=_.firstChild;$.nextSibling;var C=_.nextSibling,k=C.firstChild;k.nextSibling;var B=C.nextSibling,x=B.firstChild;x.nextSibling;var T=B.nextSibling,A=T.nextSibling,R=A.firstChild;return w(u,()=>e.spell.name),w(c,()=>e.spell.level,null),w(f,()=>e.spell.school,null),w(v,()=>e.spell.castingTime,null),w(g,()=>e.spell.range,null),w(m,()=>s[0],null),w(o,S(V,{when:t,get children(){var L=pu(),N=L.firstChild;return N.nextSibling,w(L,()=>s[1],null),L}}),_),w(_,()=>e.spell.duration,null),w(C,()=>e.spell.classes.join(", "),null),w(B,()=>e.spell.subClasses.join(", "),null),w(R,()=>e.spell.desc),w(o,S(V,{get when(){return!!e.spell.higherLevel},get children(){return mu()}}),null),w(o,S(V,{get when(){return!!e.spell.higherLevel},get children(){var L=yu(),N=L.firstChild;return w(N,()=>e.spell.higherLevel),L}}),null),O(()=>D(o,`${du.TableRow}`)),o})()};var bu=E("<div><button></button><button></button><select></select><span> / </span><button></button><button>"),wu=E("<option>");const ho=e=>{const[t,n]=K(1),[r,i]=K(10),s=e.setPaginatedItems,o=ie(),a=U(()=>e.items().slice((t()-1)*r(),t()*r())),l=U(()=>Math.ceil(e.items().length/r())),u=[10,20,50,100];return O(()=>{s(a())}),(()=>{var c=bu(),h=c.firstChild,f=h.nextSibling,p=f.nextSibling,v=p.nextSibling,d=v.firstChild,g=v.nextSibling,y=g.nextSibling;return h.$$click=()=>n(1),f.$$click=()=>n(t()-1),p.addEventListener("change",m=>i(+m.currentTarget.value)),w(p,S(J,{each:u,children:m=>(()=>{var b=wu();return b.value=m,w(b,m),b})()})),w(v,t,d),w(v,l,null),g.$$click=()=>n(t()+1),y.$$click=()=>n(l()),O(m=>{var b=`${o.accent} `,_=t()===1,$=t()===1,C=t()===l(),k=t()===l();return b!==m.e&&D(c,m.e=b),_!==m.t&&(h.disabled=m.t=_),$!==m.a&&(f.disabled=m.a=$),C!==m.o&&(g.disabled=m.o=C),k!==m.i&&(y.disabled=m.i=k),m},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),c})()};_e(["click"]);const _u="_chip_1bifh_1",xu={chip:_u};var $u=E("<span> : <!> <button>x");const Su=e=>{const t=ie();return(()=>{var n=$u(),r=n.firstChild,i=r.nextSibling,s=i.nextSibling,o=s.nextSibling;return w(n,()=>e.key,r),w(n,()=>e.value,i),On(o,"click",e.clear,!0),O(()=>D(n,`${t.tertiary} ${xu.chip}`)),n})()};_e(["click"]);const ku="_searchBar_176b5_1",Cu="_booleanSelect_176b5_39",Eu="_chipBar_176b5_67",Xn={searchBar:ku,booleanSelect:Cu,chipBar:Eu};var Pu=E("<button>Clear All");const Au=e=>{const t=ie();return(()=>{var n=Pu();return On(n,"click",e.clear,!0),O(()=>D(n,`${t.accent}`)),n})()};_e(["click"]);function Qn(e){return e.replace(/[_-]/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}var Ru=E("<select>"),Ou=E("<select><option value=0>0</option><option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option><option value=7>7</option><option value=8>8</option><option value=9>9"),Mi=E('<input id=searchBar placeholder="Search Spells..."type=text>'),Tu=E("<div id=booleanBar><span><label for=falsebox></label><input type=checkbox id=booleanCheckbox>"),Iu=E("<div>"),Bu=E("<div><div><span><select id=chipDropdown>"),Fi=E("<option>"),Lu=E('<svg><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z">');const ju=e=>{const[t,n]=K({key:"",value:""}),[r,i]=K("name"),[s,o]=K(""),[a,l]=K(!1),[u,c]=K([]);K(!1),ie(),document.getElementById("booleanCheckbox");const h=["Abjuration","Conjuration","Divination","Enchantment","Evocation","Illusion","Necromancy","Transmutation"];O(()=>{e.setSearchResults(e.spellsSrd().filter(p=>p&&u().length>0?!u().map(d=>{const g=p[d.key];if(g)switch(!0){case typeof g=="string":return g.toLowerCase().includes(d.value.toLowerCase());case Array.isArray(g):return g.join(" ").toLowerCase().includes(d.value.toLowerCase());case typeof g=="boolean":return` ${g} `.toLowerCase().includes(d.value.toLowerCase())}return!1}).includes(!1):!0))}),O(()=>{typeof e.spellsSrd()[0][r()]=="boolean"&&o(`${a()}`)}),O(()=>{c(p=>t().key?[...p,t()]:p),o(""),document.getElementById("searchBar")&&(document.getElementById("searchBar").value="")});const f=p=>{switch(p){case"name":return"Name";case"level":return"Level";case"school":return"School";case"castingTime":return"Casting Time";case"range":return"Range";case"duration":return"Duration";case"concentration":return"Conc";case"ritual":return"Ritual";case"damageType":return"Dmg Type";case"isMaterial":return"Material";case"isSomatic":return"Somatic";case"isVerbal":return"Verbal";case"classes":return"Classes";case"desc":return"Desc";case"subClasses":return"Subclasses"}};return(()=>{var p=Bu(),v=p.firstChild,d=v.firstChild,g=d.firstChild;return w(v,S(Du,{onClick:()=>n(y=>({key:r(),value:Qn(s())}))}),d),g.addEventListener("change",y=>i(y.target.value)),w(g,S(J,{get each(){return Object.keys(e.spellsSrd()[0]).filter(y=>!["materials_Needed","higherLevel","page"].includes(y))},children:y=>(()=>{var m=Fi();return m.value=y,w(m,()=>f(y)),m})()})),w(v,S(rr,{get children(){return[S(at,{get when(){return typeof e.spellsSrd()[0][r()]=="string"},get children(){return S(rr,{get fallback(){return(()=>{var y=Mi();return y.$$keydown=m=>{m.key==="Enter"&&n(b=>({key:r(),value:Qn(m.currentTarget.value)}))},y.addEventListener("change",m=>o(m.currentTarget.value)),O(()=>y.value=s()),y})()},get children(){return[S(at,{get when(){return r()==="school"},get children(){var y=Ru();return y.addEventListener("change",m=>o(m.currentTarget.value)),w(y,S(J,{each:h,children:m=>(()=>{var b=Fi();return b.value=m,w(b,m),b})()})),y}}),S(at,{get when(){return r()==="level"},get children(){var y=Ou();return y.addEventListener("change",m=>o(m.currentTarget.value)),y}})]}})}}),S(at,{get when(){return Array.isArray(e.spellsSrd()[0][r()])},get children(){var y=Mi();return y.$$keydown=m=>{m.key==="Enter"&&n(b=>({key:r(),value:Qn(m.currentTarget.value)}))},y.addEventListener("change",m=>o(m.currentTarget.value)),O(()=>y.value=s()),y}}),S(at,{get when(){return typeof e.spellsSrd()[0][r()]=="boolean"},get children(){var y=Tu(),m=y.firstChild,b=m.firstChild,_=b.nextSibling;return w(b,S(V,{get when(){return a()===!1},children:"false"}),null),w(b,S(V,{get when(){return a()===!0},children:"true"}),null),_.addEventListener("change",()=>{l(!a()),o(`${a()}`)}),O(()=>D(y,`${Xn.booleanSelect}`)),O(()=>_.checked=a()),y}})]}}),null),w(p,S(V,{get when(){return u().length>0},get children(){var y=Iu();return w(y,S(Au,{clear:()=>c([])}),null),w(y,S(J,{get each(){return u()},children:(m,b)=>S(Su,{get key(){return f(m.key)??""},get value(){return m.value},clear:()=>c(_=>_.filter(($,C)=>C!==b()))})}),null),O(()=>D(y,`${Xn.chipBar}`)),y}}),null),O(()=>D(v,`${Xn.searchBar}`)),p})()},Du=e=>(()=>{var t=Lu();return ns(t,gn(e,{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 50 50"}),!0,!0),t})();_e(["keydown"]);var Ku=E("<div><h1>Spells</h1><table><tbody></tbody></table><div>"),Nu=E("<span><i>"),Mu=E("<tr><td><span><span></span><span><i></i></span></span><span></span></td><td><button>"),Fu=E("<hr>");const qi=()=>{const e=ie(),t=ao(),[n,r]=K([]),[i,s]=K([]),[o,a]=K([]),l=h=>u(h)?r(n().filter(f=>f!==h)):r([...n(),h]),u=h=>n().includes(h),c=h=>{switch(h){case"0":return"Cantrip";case"1":return"1st";case"2":return"2nd";case"3":return"3rd";default:return`${h}th`}};return(()=>{var h=Ku(),f=h.firstChild,p=f.nextSibling,v=p.firstChild,d=p.nextSibling;return w(h,S(ju,{searchResults:o,setSearchResults:a,spellsSrd:t}),p),w(v,S(J,{get each(){return i()},children:(g,y)=>[(()=>{var m=Mu(),b=m.firstChild,_=b.firstChild,$=_.firstChild,C=$.nextSibling,k=C.firstChild,B=_.nextSibling,x=b.nextSibling,T=x.firstChild;return w($,()=>g.name),w(k,()=>g.school),w(_,S(V,{get when(){return g.concentration},get children(){var A=Nu(),R=A.firstChild;return w(R,()=>g.duration),A}}),null),w(B,()=>c(g.level)),T.$$click=()=>l(y()),w(T,()=>u(y())?"":""),O(A=>{var R=`${Gn.TableRow}`,L=Gn.headerBar;return R!==A.e&&D(m,A.e=R),L!==A.t&&D(b,A.t=L),A},{e:void 0,t:void 0}),m})(),S(V,{get when(){return u(y())},get children(){return S(vu,{spell:g})}}),Fu()]})),w(d,S(ho,{items:o,setPaginatedItems:s})),O(g=>{var y=`${e.accent} ${Gn.SpellsBody}`,m=`${e.table}`;return y!==g.e&&D(h,g.e=y),m!==g.t&&D(p,g.t=m),g},{e:void 0,t:void 0}),h})()};_e(["click"]);const qu="_featsList_1k6g1_1",Vu="_PreReqsBar_1k6g1_12",Vi={featsList:qu,PreReqsBar:Vu},Uu="_featSearch_4vkga_1",Wu={featSearch:Uu};var zu=E('<div><input id=FeatSearchBar type=text placeholder="Search Feats...">');const Hu=e=>{const[t,n]=K("");return O(()=>{e.setSearchRes(e.items().filter(r=>{if(r)return r.name.toLowerCase().includes(t().toLowerCase())}))}),(()=>{var r=zu(),i=r.firstChild;return i.addEventListener("change",s=>n(s.currentTarget.value)),O(()=>D(r,Wu.featSearch)),O(()=>i.value=t()),r})()};var Yu=E("<div><h1>Feats</h1><ol>"),Gu=E("<li> <button></button>"),Ui=E("<div>"),Wi=E("<br>"),Xu=E("<div>Description:"),Qu=E("<span>"),Ju=E("<div>Ability Score Requirement: "),Zu=E("<span> of ");const eh=()=>{const[e,t]=K([]),[n,r]=K([]),[i,s]=K([]),o=c=>i().includes(c),a=c=>o(c)?s(i().filter(h=>h!==c)):s([...i(),c]),l=ie(),u=lo();return(()=>{var c=Yu(),h=c.firstChild,f=h.nextSibling;return w(c,S(Hu,{items:u,setSearchRes:r}),f),w(f,S(J,{get each(){return n()},children:(p,v)=>[(()=>{var d=Gu(),g=d.firstChild,y=g.nextSibling;return w(d,()=>p.name,g),y.$$click=()=>a(v()),w(y,()=>o(v())?"":""),d})(),S(V,{get when(){return o(v())},get children(){return[(()=>{var d=Ui();return w(d,S(J,{get each(){return p.preReqs},children:g=>(()=>{var y=Ui();return w(y,S(rr,{get children(){return S(at,{get when(){return g.info.type==="AbilityScore"},get children(){return[Ju(),(()=>{var m=Zu(),b=m.firstChild;return w(m,()=>g.name,b),w(m,()=>g.value,null),m})()]}})}})),y})()})),O(()=>D(d,`${Vi.PreReqsBar}`)),d})(),Wi(),Xu(),(()=>{var d=Qu();return w(d,S(J,{get each(){return p.desc},children:(g,y)=>[g,Wi()]})),d})()]}})]})),w(c,S(ho,{items:u,setPaginatedItems:t}),null),O(()=>D(c,`${l.accent} ${Vi.featsList}`)),c})()};_e(["click"]);var th=E("<div><h1>Homebrew");const nh=()=>{const e=ie();return(()=>{var t=th();return O(()=>D(t,`${e.accent}`)),t})()};var rh=E("<div><h1>Create");const ih=()=>{const e=ie();return(()=>{var t=rh();return O(()=>D(t,`${e.accent}`)),t})()};var sh=E("<div><h1>View");const oh=()=>{const e=ie();return(()=>{var t=sh();return O(()=>D(t,`${e.accent}`)),t})()},ah=()=>{const e=co();return U(()=>[...e()])},lh="_sidebar_12nn2_1",ch="_sidebar_shown_12nn2_29",uh="_wrapper_12nn2_35",hh="_thePage_12nn2_40",fh="_outerStyles_12nn2_51",dh="_fixed_12nn2_60",ph="_flexrow_12nn2_69",mh="_wrap_12nn2_35",yh="_abilityscore_12nn2_79",$e={sidebar:lh,sidebar_shown:ch,wrapper:uh,thePage:hh,outerStyles:fh,fixed:dh,flexrow:ph,wrap:mh,abilityscore:yh},gh="_subrace_1t2pp_1",vh={subrace:gh};var bh=E("<h2>subraces"),wh=E("<div>"),_h=E("<span>languages:"),kt=E("<br>"),Jn=E("<span>"),xh=E("<h3>languages to choose from"),$h=E("<div><span>name: </span><br><br><span>Ability Score increases:</span><br>"),Sh=E("<span><br><span></span> <span></span><br>"),kh=E("<span>: ");const Ch=e=>{ie();let t=e.race;return S(V,{get when(){return t.subRaces.length>0},get children(){return[bh(),(()=>{var n=wh();return w(n,S(J,{get each(){return t.subRaces},children:r=>(()=>{var i=$h(),s=i.firstChild;s.firstChild;var o=s.nextSibling,a=o.nextSibling,l=a.nextSibling,u=l.nextSibling;return w(s,()=>r.name,null),w(i,S(V,{get when(){return r.abilityBonuses.length>0},get children(){return S(J,{get each(){return r.abilityBonuses},children:c=>(()=>{var h=Sh(),f=h.firstChild,p=f.nextSibling,v=p.nextSibling,d=v.nextSibling;return w(p,()=>c.name),w(d,()=>c.value),h})()})}}),u),w(i,S(V,{get when(){return r.traits.length>0},get children(){return S(J,{get each(){return r.traits},children:c=>[kt(),(()=>{var h=kh(),f=h.firstChild;return w(h,()=>c.name,f),h})(),kt(),(()=>{var h=Jn();return w(h,()=>c.value),h})(),kt()]})}}),u),w(i,S(V,{get when(){return r.languages.length>0},get children(){return[_h(),kt(),(()=>{var c=Jn();return w(c,()=>r.languages.join(", ")),c})()]}}),null),w(i,S(V,{get when(){return r.languageChoice.choices.length>0},get children(){return[xh(),S(J,{get each(){return r.languageChoice.choices},children:c=>[(()=>{var h=Jn();return w(h,c),h})(),kt()]})]}}),null),O(c=>{var h=`${r.name}`,f=`${vh.subrace}`;return h!==c.e&&mt(i,"id",c.e=h),f!==c.t&&D(i,c.t=f),c},{e:void 0,t:void 0}),i})()})),n})()]}})};var Eh=E('<svg width=50 height=40 viewBox="0 0 50 50"xmlns=http://www.w3.org/2000/svg><path d="M 15 5 L 35 5 L 35 45 L 25 35 L 15 45 Z"fill=none stroke=white stroke-width=2>');const Ph=e=>{let t=e.styles;return(()=>{var n=Eh();return O(()=>mt(n,"class",`${t.banner}`)),n})()};var Ah=E("<div> "),Rh=E("<button>subraces"),Oh=E("<div>"),Th=E("<div><div><span></span> <span></span><br>");const Ih=e=>{const t=ie();let n=e.dndSrdRaces,r=e.styles,i=e.toggleRow,s=e.hasIndex;const o=async a=>{console.log("element id: ",a);const l=document.getElementById(a);l?l.scrollIntoView({behavior:"smooth"}):(console.log("element not found"),console.log(` found : ${l}`))};return(()=>{var a=Ah();return a.firstChild,w(a,S(J,{get each(){return n()},children:(l,u)=>(()=>{var c=Th(),h=c.firstChild,f=h.firstChild,p=f.nextSibling,v=p.nextSibling;return f.$$click=()=>i(u()),w(f,S(Ph,{styles:r})),v.$$click=()=>o(l.name),w(v,()=>l.name),w(c,S(V,{get when(){return s(u())},get children(){return[" ",(()=>{var d=Oh();return w(d,S(V,{get when(){return l.subRaces.length>0},get children(){return[(()=>{var g=Rh();return g.$$click=()=>o(l.subRaces[0].name),g})()," "]}})),O(()=>D(d,`${r.sidebar_shown}`)),d})()]}}),null),O(d=>{var g=`${r.sidebar}`,y=`${r.flexrow}`;return g!==d.e&&D(c,d.e=g),y!==d.t&&D(h,d.t=y),d},{e:void 0,t:void 0}),c})()}),null),O(()=>D(a,`${t.accent} ${r.fixed}`)),a})()};_e(["click"]);var Bh=E("<div id=racesComp><h1>Races</h1><div><div> "),Lh=E("<div><h1></h1><h2> traits</h2><div><h3>ability score increases: </h3><div></div><h3>age:</h3><span></span><h3>alignment:</h3><span></span><h3>size:</h3><span></span><h3>speed:</h3><span>ft</span><h3>race specific traits:</h3><span></span><h3>languages:</h3><br>"),jh=E("<hr>"),Zn=E("<br>"),er=E("<span>"),Dh=E("<div>: ");const Kh=()=>{const e=ah(),t=ie(),[n,r]=K([]),i=o=>s(o)?r(n().filter(a=>a!==o)):r([...n(),o]),s=o=>n().includes(o);return[S(Ih,{dndSrdRaces:e,styles:$e,toggleRow:i,hasIndex:s}),(()=>{var o=Bh(),a=o.firstChild,l=a.nextSibling,u=l.firstChild;return u.firstChild,w(u,S(J,{get each(){return e()},children:(c,h)=>[(()=>{var f=Lh(),p=f.firstChild,v=p.nextSibling,d=v.firstChild,g=v.nextSibling,y=g.firstChild,m=y.nextSibling,b=m.nextSibling,_=b.nextSibling,$=_.nextSibling,C=$.nextSibling,k=C.nextSibling,B=k.nextSibling,x=B.nextSibling,T=x.nextSibling,A=T.firstChild,R=T.nextSibling,L=R.nextSibling,N=L.nextSibling,me=N.nextSibling;return w(p,()=>c.name),w(v,()=>c.name,d),w(m,S(J,{get each(){return c.abilityBonuses},children:W=>[Zn(),(()=>{var M=er();return w(M,()=>W.name),M})()," ",(()=>{var M=er();return w(M,()=>W.value),M})(),Zn()]})),w(_,()=>c.age),w(C,()=>c.alignment),w(B,()=>c.sizeDescription),w(T,()=>c.speed,A),w(L,S(J,{get each(){return c.traits},children:W=>[(()=>{var M=Dh(),ne=M.firstChild;return w(M,()=>W.name,ne),w(M,S(J,{get each(){return W.value},children:ee=>(()=>{var he=er();return w(he,ee),O(()=>D(he,`${$e.wrap}`)),he})()}),null),M})(),Zn()]})),w(g,()=>c.languageDesc,me),w(g,S(Ch,{styles:$e,race:c}),null),O(W=>{var M=`${c.name}`,ne=`${$e.abilityscore}`,ee=`${$e.wrap}`,he=`${$e.wrap}`,Wt=`${$e.wrap}`;return M!==W.e&&mt(p,"id",W.e=M),ne!==W.t&&D(m,W.t=ne),ee!==W.a&&D(_,W.a=ee),he!==W.o&&D(C,W.o=he),Wt!==W.i&&D(B,W.i=Wt),W},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),f})(),S(V,{get when(){return h()!==e().length-1},get children(){var f=jh();return f.style.setProperty("width","100%"),f}})]}),null),O(c=>{var h=`${t.accent} ${$e.outerStyles}`,f=`${$e.wrapper}`,p=`${$e.thePage}`;return h!==c.e&&D(o,c.e=h),f!==c.t&&D(l,c.t=f),p!==c.a&&D(u,c.a=p),c},{e:void 0,t:void 0,a:void 0}),o})()]};var Nh=E("<div>");const fo=Fr(()=>Cn(()=>import("./characters-E_4o3TpL.js"),__vite__mapDeps([0,1,2]))),po=Fr(()=>Cn(()=>import("./create-MuavF7Dx.js"),__vite__mapDeps([3,2]))),Dr=Fr(()=>Cn(()=>import("./view-EQRoQi5O.js"),__vite__mapDeps([4,1,5]))),Mh=document.getElementById("root"),Fh=20*1e3,{needRefresh:qh,offlineReady:Vh,updateServiceWorker:zh}=uo({onRegisteredSW(e,t){t&&setInterval(()=>{fo.preload(),po.preload(),Dr.preload(),console.log("onRegisteredSW: ",t),console.log("onRegisteredSW.url: ",e),t.update()},Fh)},onRegisterError(e){console.log("SW registration error",e)},onNeedRefresh(){console.log("onNeedRefresh")},onOfflineReady(){console.log("onOfflineReady")}}),Uh=e=>{const t=ie(),n=function(){let o=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(o=!0)}(navigator.userAgent||navigator.vendor),o},r=()=>s(window.matchMedia("only screen and (max-width: 768px)").matches);window.addEventListener("resize",r),O(()=>{console.log("updateServiceWorker.needRefresh: ",qh[0]())}),O(()=>{console.log("updateServiceWorker.offlineReady: ",Vh[0]())});const[i,s]=K(n());return O(()=>{const o=!!(n()||window.innerWidth<=768);s(o)}),(()=>{var o=Nh();return o.style.setProperty("height","100vh"),w(o,S(au,{list:[i,s],get style(){return t.accent}}),null),w(o,()=>e.children,null),O(()=>D(o,t.primary)),o})()};qo(()=>S(Pa,{root:Uh,get children(){return[S(le,{path:"/",component:qc}),S(le,{path:"/characters",get children(){return[S(le,{path:"/",component:fo}),S(le,{path:"/view",component:Dr}),S(le,{path:"/view/:name",component:Dr}),S(le,{path:"/create",component:po})]}}),S(le,{path:"/info",get children(){return[S(le,{path:"/",component:qi}),S(le,{path:"/spells",component:qi}),S(le,{path:"/feats",component:eh}),S(le,{path:"/races",component:Kh})]}}),S(le,{path:"/homebrew",get children(){return[S(le,{path:"/",component:nh}),S(le,{path:"/view",component:oh}),S(le,{path:"/create",component:ih})]}})]}}),Mh);export{J as F,O as a,D as b,S as c,K as d,U as e,ic as f,ao as g,lo as h,w as i,Ec as j,kc as k,ah as l,Wh as m,mt as s,E as t,ie as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/characters-E_4o3TpL.js","assets/useCharacters-vBwPXLuo.js","assets/characters-i2fzY9Kk.css","assets/create-MuavF7Dx.js","assets/view-EQRoQi5O.js","assets/view-aa-IgBHj.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
