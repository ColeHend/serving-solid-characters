(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const aa="modulepreload",la=function(t){return"/"+t},Ms={},rr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");s=Promise.all(n.map(o=>{if(o=la(o),o in Ms)return;Ms[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":aa,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},G={context:void 0,registry:void 0};function Gt(t){G.context=t}const ca=(t,e)=>t===e,qn=Symbol("solid-proxy"),ua=Symbol("solid-track"),Vn={equals:ca};let Ai=Li;const Ge=1,Un=2,Oi={owned:null,cleanups:null,context:null,owner:null},dr={};var X=null;let fr=null,ha=null,ee=null,be=null,Ue=null,sr=0;function Ct(t,e){const n=ee,r=X,s=t.length===0,i=e===void 0?r:e,o=s?Oi:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=s?t:()=>t(()=>me(()=>ar(o)));X=o,ee=null;try{return He(a,!0)}finally{ee=n,X=r}}function T(t,e){e=e?Object.assign({},Vn,e):Vn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Ti(n,s));return[Ii.bind(n),r]}function qs(t,e,n){const r=or(t,e,!0,Ge);Lt(r)}function P(t,e,n){const r=or(t,e,!1,Ge);Lt(r)}function da(t,e,n){Ai=ba;const r=or(t,e,!1,Ge);(!n||!n.render)&&(r.user=!0),Ue?Ue.push(r):Lt(r)}function J(t,e,n){n=n?Object.assign({},Vn,n):Vn;const r=or(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Lt(r),Ii.bind(r)}function fa(t){return t&&typeof t=="object"&&"then"in t}function pa(t,e,n){let r,s,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,s=t,i=e||{}):(r=t,s=e,i=n||{});let o=null,a=dr,l=null,u=!1,c="initialValue"in i,h=typeof r=="function"&&J(r);const d=new Set,[f,b]=(i.storage||T)(i.initialValue),[p,v]=T(void 0),[g,m]=T(void 0,{equals:!1}),[w,$]=T(c?"ready":"unresolved");if(G.context){l=`${G.context.id}${G.context.count++}`;let k;i.ssrLoadFrom==="initial"?a=i.initialValue:G.load&&(k=G.load(l))&&(a=k)}function x(k,L,B,A){return o===k&&(o=null,A!==void 0&&(c=!0),(k===a||L===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(A,{value:L})),a=dr,E(L,B)),L}function E(k,L){He(()=>{L===void 0&&b(()=>k),$(L!==void 0?"errored":c?"ready":"unresolved"),v(L);for(const B of d.keys())B.decrement();d.clear()},!1)}function C(){const k=ga,L=f(),B=p();if(B!==void 0&&!o)throw B;return ee&&!ee.user&&k&&qs(()=>{g(),o&&(k.resolved||d.has(k)||(k.increment(),d.add(k)))}),L}function D(k=!0){if(k!==!1&&u)return;u=!1;const L=h?h():r;if(L==null||L===!1){x(o,me(f));return}const B=a!==dr?a:me(()=>s(L,{value:f(),refetching:k}));return fa(B)?(o=B,"value"in B?(B.status==="success"?x(o,B.value,void 0,L):x(o,void 0,void 0,L),B):(u=!0,queueMicrotask(()=>u=!1),He(()=>{$(c?"refreshing":"pending"),m()},!1),B.then(A=>x(B,A,void 0,L),A=>x(B,void 0,Di(A),L)))):(x(o,B,void 0,L),B)}return Object.defineProperties(C,{state:{get:()=>w()},error:{get:()=>p()},loading:{get(){const k=w();return k==="pending"||k==="refreshing"}},latest:{get(){if(!c)return C();const k=p();if(k&&!o)throw k;return f()}}}),h?qs(()=>D(!1)):D(!1),[C,{refetch:D,mutate:b}]}function me(t){if(ee===null)return t();const e=ee;ee=null;try{return t()}finally{ee=e}}function Ri(t,e,n){const r=Array.isArray(t);let s,i=n&&n.defer;return o=>{let a;if(r){a=Array(t.length);for(let u=0;u<t.length;u++)a[u]=t[u]()}else a=t();if(i){i=!1;return}const l=me(()=>e(a,s,o));return s=a,l}}function Rt(t){return X===null||(X.cleanups===null?X.cleanups=[t]:X.cleanups.push(t)),t}function Wn(){return X}function _s(t,e){const n=X,r=ee;X=t,ee=null;try{return He(e,!0)}catch(s){$s(s)}finally{X=n,ee=r}}function ma(t){const e=ee,n=X;return Promise.resolve().then(()=>{ee=e,X=n;let r;return He(t,!1),ee=X=null,r?r.done:void 0})}function Bi(t,e){const n=Symbol("context");return{id:n,Provider:_a(n),defaultValue:t}}function ws(t){return X&&X.context&&X.context[t.id]!==void 0?X.context[t.id]:t.defaultValue}function ir(t){const e=J(t),n=J(()=>Dr(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let ga;function Ii(){if(this.sources&&this.state)if(this.state===Ge)Lt(this);else{const t=be;be=null,He(()=>Hn(this),!1),be=t}if(ee){const t=this.observers?this.observers.length:0;ee.sources?(ee.sources.push(this),ee.sourceSlots.push(t)):(ee.sources=[this],ee.sourceSlots=[t]),this.observers?(this.observers.push(ee),this.observerSlots.push(ee.sources.length-1)):(this.observers=[ee],this.observerSlots=[ee.sources.length-1])}return this.value}function Ti(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&He(()=>{for(let s=0;s<t.observers.length;s+=1){const i=t.observers[s],o=fr&&fr.running;o&&fr.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?be.push(i):Ue.push(i),i.observers&&ji(i)),o||(i.state=Ge)}if(be.length>1e6)throw be=[],new Error},!1)),e}function Lt(t){if(!t.fn)return;ar(t);const e=sr;va(t,t.value,e)}function va(t,e,n){let r;const s=X,i=ee;ee=X=t;try{r=t.fn(e)}catch(o){return t.pure&&(t.state=Ge,t.owned&&t.owned.forEach(ar),t.owned=null),t.updatedAt=n+1,$s(o)}finally{ee=i,X=s}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Ti(t,r):t.value=r,t.updatedAt=n)}function or(t,e,n,r=Ge,s){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:X,context:X?X.context:null,pure:n};return X===null||X!==Oi&&(X.owned?X.owned.push(i):X.owned=[i]),i}function zn(t){if(t.state===0)return;if(t.state===Un)return Hn(t);if(t.suspense&&me(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<sr);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Ge)Lt(t);else if(t.state===Un){const r=be;be=null,He(()=>Hn(t,e[0]),!1),be=r}}function He(t,e){if(be)return t();let n=!1;e||(be=[]),Ue?n=!0:Ue=[],sr++;try{const r=t();return ya(n),r}catch(r){n||(Ue=null),be=null,$s(r)}}function ya(t){if(be&&(Li(be),be=null),t)return;const e=Ue;Ue=null,e.length&&He(()=>Ai(e),!1)}function Li(t){for(let e=0;e<t.length;e++)zn(t[e])}function ba(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:zn(r)}if(G.context){if(G.count){G.effects||(G.effects=[]),G.effects.push(...t.slice(0,n));return}else G.effects&&(t=[...G.effects,...t],n+=G.effects.length,delete G.effects);Gt()}for(e=0;e<n;e++)zn(t[e])}function Hn(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const s=r.state;s===Ge?r!==e&&(!r.updatedAt||r.updatedAt<sr)&&zn(r):s===Un&&Hn(r,e)}}}function ji(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Un,n.pure?be.push(n):Ue.push(n),n.observers&&ji(n))}}function ar(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),o=n.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,n.observerSlots[r]=o)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)ar(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Di(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function $s(t,e=X){throw Di(t)}function Dr(t){if(typeof t=="function"&&!t.length)return Dr(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=Dr(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function _a(t,e){return function(r){let s;return P(()=>s=me(()=>(X.context={...X.context,[t]:r.value},ir(()=>r.children))),void 0),s}}const wa=Symbol("fallback");function Vs(t){for(let e=0;e<t.length;e++)t[e]()}function $a(t,e,n={}){let r=[],s=[],i=[],o=0,a=e.length>1?[]:null;return Rt(()=>Vs(i)),()=>{let l=t()||[],u,c;return l[ua],me(()=>{let d=l.length,f,b,p,v,g,m,w,$,x;if(d===0)o!==0&&(Vs(i),i=[],r=[],s=[],o=0,a&&(a=[])),n.fallback&&(r=[wa],s[0]=Ct(E=>(i[0]=E,n.fallback())),o=1);else if(o===0){for(s=new Array(d),c=0;c<d;c++)r[c]=l[c],s[c]=Ct(h);o=d}else{for(p=new Array(d),v=new Array(d),a&&(g=new Array(d)),m=0,w=Math.min(o,d);m<w&&r[m]===l[m];m++);for(w=o-1,$=d-1;w>=m&&$>=m&&r[w]===l[$];w--,$--)p[$]=s[w],v[$]=i[w],a&&(g[$]=a[w]);for(f=new Map,b=new Array($+1),c=$;c>=m;c--)x=l[c],u=f.get(x),b[c]=u===void 0?-1:u,f.set(x,c);for(u=m;u<=w;u++)x=r[u],c=f.get(x),c!==void 0&&c!==-1?(p[c]=s[u],v[c]=i[u],a&&(g[c]=a[u]),c=b[c],f.set(x,c)):i[u]();for(c=m;c<d;c++)c in p?(s[c]=p[c],i[c]=v[c],a&&(a[c]=g[c],a[c](c))):s[c]=Ct(h);s=s.slice(0,o=d),r=l.slice(0)}return s});function h(d){if(i[c]=d,a){const[f,b]=T(c);return a[c]=b,e(l[c],f)}return e(l[c])}}}function _(t,e){return me(()=>t(e||{}))}function bn(){return!0}const Nr={get(t,e,n){return e===qn?n:t.get(e)},has(t,e){return e===qn?!0:t.has(e)},set:bn,deleteProperty:bn,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:bn,deleteProperty:bn}},ownKeys(t){return t.keys()}};function pr(t){return(t=typeof t=="function"?t():t)?t:{}}function Sa(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function rn(...t){let e=!1;for(let o=0;o<t.length;o++){const a=t[o];e=e||!!a&&qn in a,t[o]=typeof a=="function"?(e=!0,J(a)):a}if(e)return new Proxy({get(o){for(let a=t.length-1;a>=0;a--){const l=pr(t[a])[o];if(l!==void 0)return l}},has(o){for(let a=t.length-1;a>=0;a--)if(o in pr(t[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<t.length;a++)o.push(...Object.keys(pr(t[a])));return[...new Set(o)]}},Nr);const n={},r=Object.create(null);for(let o=t.length-1;o>=0;o--){const a=t[o];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let u=l.length-1;u>=0;u--){const c=l[u];if(c==="__proto__"||c==="constructor")continue;const h=Object.getOwnPropertyDescriptor(a,c);if(!r[c])r[c]=h.get?{enumerable:!0,configurable:!0,get:Sa.bind(n[c]=[h.get.bind(a)])}:h.value!==void 0?h:void 0;else{const d=n[c];d&&(h.get?d.push(h.get.bind(a)):h.value!==void 0&&d.push(()=>h.value))}}}const s={},i=Object.keys(r);for(let o=i.length-1;o>=0;o--){const a=i[o],l=r[a];l&&l.get?Object.defineProperty(s,a,l):s[a]=l?l.value:void 0}return s}function xa(t,...e){if(qn in t){const s=new Set(e.length>1?e.flat():e[0]),i=e.map(o=>new Proxy({get(a){return o.includes(a)?t[a]:void 0},has(a){return o.includes(a)&&a in t},keys(){return o.filter(a=>a in t)}},Nr));return i.push(new Proxy({get(o){return s.has(o)?void 0:t[o]},has(o){return s.has(o)?!1:o in t},keys(){return Object.keys(t).filter(o=>!s.has(o))}},Nr)),i}const n={},r=e.map(()=>({}));for(const s of Object.getOwnPropertyNames(t)){const i=Object.getOwnPropertyDescriptor(t,s),o=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let a=!1,l=0;for(const u of e)u.includes(s)&&(a=!0,o?r[l][s]=i.value:Object.defineProperty(r[l],s,i)),++l;a||(o?n[s]=i.value:Object.defineProperty(n,s,i))}return[...r,n]}function Ss(t){let e,n;const r=s=>{const i=G.context;if(i){const[a,l]=T();G.count||(G.count=0),G.count++,(n||(n=t())).then(u=>{Gt(i),G.count--,l(()=>u.default),Gt()}),e=a}else if(!e){const[a]=pa(()=>(n||(n=t())).then(l=>l.default));e=a}let o;return J(()=>(o=e())&&me(()=>{if(!i)return o(s);const a=G.context;Gt(i);const l=o(s);return Gt(a),l}))};return r.preload=()=>n||((n=t()).then(s=>e=()=>s.default),n),r}const Ni=t=>`Stale read from <${t}>.`;function U(t){const e="fallback"in t&&{fallback:()=>t.fallback};return J($a(()=>t.each,t.children,e||void 0))}function j(t){const e=t.keyed,n=J(()=>t.when,void 0,{equals:(r,s)=>e?r===s:!r==!s});return J(()=>{const r=n();if(r){const s=t.children;return typeof s=="function"&&s.length>0?me(()=>s(e?r:()=>{if(!me(n))throw Ni("Show");return t.when})):s}return t.fallback},void 0,void 0)}function Yn(t){let e=!1;const n=(i,o)=>(e?i[1]===o[1]:!i[1]==!o[1])&&i[2]===o[2],r=ir(()=>t.children),s=J(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let o=0;o<i.length;o++){const a=i[o].when;if(a)return e=!!i[o].keyed,[o,a,i[o]]}return[-1]},void 0,{equals:n});return J(()=>{const[i,o,a]=s();if(i<0)return t.fallback;const l=a.children;return typeof l=="function"&&l.length>0?me(()=>l(e?o:()=>{if(me(s)[0]!==i)throw Ni("Match");return a.when})):l},void 0,void 0)}function Oe(t){return t}const ka=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Ca=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...ka]),Ea=new Set(["innerHTML","textContent","innerText","children"]),Pa=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Aa=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Oa(t,e){const n=Aa[t];return typeof n=="object"?n[e]?n.$:void 0:n}const Ra=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ba={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ia(t,e,n){let r=n.length,s=e.length,i=r,o=0,a=0,l=e[s-1].nextSibling,u=null;for(;o<s||a<i;){if(e[o]===n[a]){o++,a++;continue}for(;e[s-1]===n[i-1];)s--,i--;if(s===o){const c=i<r?a?n[a-1].nextSibling:n[i-a]:l;for(;a<i;)t.insertBefore(n[a++],c)}else if(i===a)for(;o<s;)(!u||!u.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[i-1]&&n[a]===e[s-1]){const c=e[--s].nextSibling;t.insertBefore(n[a++],e[o++].nextSibling),t.insertBefore(n[--i],c),e[s]=n[i]}else{if(!u){u=new Map;let h=a;for(;h<i;)u.set(n[h],h++)}const c=u.get(e[o]);if(c!=null)if(a<c&&c<i){let h=o,d=1,f;for(;++h<s&&h<i&&!((f=u.get(e[h]))==null||f!==c+d);)d++;if(d>c-a){const b=e[o];for(;a<c;)t.insertBefore(n[a++],b)}else t.replaceChild(n[a++],e[o++])}else o++;else e[o++].remove()}}}const Us="_$DX_DELEGATE";function Ta(t,e,n,r={}){let s;return Ct(i=>{s=i,e===document?t():y(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{s(),e.textContent=""}}function S(t,e,n){let r;const s=()=>{const o=document.createElement("template");return o.innerHTML=t,n?o.content.firstChild.firstChild:o.content.firstChild},i=e?()=>me(()=>document.importNode(r||(r=s()),!0)):()=>(r||(r=s())).cloneNode(!0);return i.cloneNode=i,i}function Ee(t,e=window.document){const n=e[Us]||(e[Us]=new Set);for(let r=0,s=t.length;r<s;r++){const i=t[r];n.has(i)||(n.add(i),e.addEventListener(i,Fa))}}function tt(t,e,n){G.context||(n==null?t.removeAttribute(e):t.setAttribute(e,n))}function La(t,e,n,r){G.context||(r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r))}function O(t,e){G.context||(e==null?t.removeAttribute("class"):t.className=e)}function lr(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const s=n[0];t.addEventListener(e,n[0]=i=>s.call(t,n[1],i))}else t.addEventListener(e,n)}function ja(t,e,n={}){const r=Object.keys(e||{}),s=Object.keys(n);let i,o;for(i=0,o=s.length;i<o;i++){const a=s[i];!a||a==="undefined"||e[a]||(Ws(t,a,!1),delete n[a])}for(i=0,o=r.length;i<o;i++){const a=r[i],l=!!e[a];!a||a==="undefined"||n[a]===l||!l||(Ws(t,a,!0),n[a]=l)}return n}function Kr(t,e,n){if(!e)return n?tt(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let s,i;for(i in n)e[i]==null&&r.removeProperty(i),delete n[i];for(i in e)s=e[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function xs(t,e={},n,r){const s={};return r||P(()=>s.children=Bt(t,e.children,s.children)),P(()=>e.ref&&e.ref(t)),P(()=>Na(t,e,n,!0,s,!0)),s}function Da(t,e,n){return me(()=>t(e,n))}function y(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return Bt(t,e,r,n);P(s=>Bt(t,e(),s,n),r)}function Na(t,e,n,r,s={},i=!1){e||(e={});for(const o in s)if(!(o in e)){if(o==="children")continue;s[o]=zs(t,o,null,s[o],n,i)}for(const o in e){if(o==="children"){r||Bt(t,e.children);continue}const a=e[o];s[o]=zs(t,o,a,s[o],n,i)}}function Ka(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Ws(t,e,n){const r=e.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)t.classList.toggle(r[s],n)}function zs(t,e,n,r,s,i){let o,a,l,u,c;if(e==="style")return Kr(t,n,r);if(e==="classList")return ja(t,n,r);if(n===r)return r;if(e==="ref")i||n(t);else if(e.slice(0,3)==="on:"){const h=e.slice(3);r&&t.removeEventListener(h,r),n&&t.addEventListener(h,n)}else if(e.slice(0,10)==="oncapture:"){const h=e.slice(10);r&&t.removeEventListener(h,r,!0),n&&t.addEventListener(h,n,!0)}else if(e.slice(0,2)==="on"){const h=e.slice(2).toLowerCase(),d=Ra.has(h);if(!d&&r){const f=Array.isArray(r)?r[0]:r;t.removeEventListener(h,f)}(d||n)&&(lr(t,h,n,d),d&&Ee([h]))}else if(e.slice(0,5)==="attr:")tt(t,e.slice(5),n);else if((c=e.slice(0,5)==="prop:")||(l=Ea.has(e))||!s&&((u=Oa(e,t.tagName))||(a=Ca.has(e)))||(o=t.nodeName.includes("-"))){if(c)e=e.slice(5),a=!0;else if(G.context)return n;e==="class"||e==="className"?O(t,n):o&&!a&&!l?t[Ka(e)]=n:t[u||e]=n}else{const h=s&&e.indexOf(":")>-1&&Ba[e.split(":")[0]];h?La(t,h,e,n):tt(t,Pa[e]||e,n)}return n}function Fa(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),G.registry&&!G.done&&(G.done=_$HY.done=!0);n;){const r=n[e];if(r&&!n.disabled){const s=n[`${e}Data`];if(s!==void 0?r.call(n,s,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Bt(t,e,n,r,s){if(G.context){!n&&(n=[...t.childNodes]);let a=[];for(let l=0;l<n.length;l++){const u=n[l];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():a.push(u)}n=a}for(;typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,o=r!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(G.context)return n;if(i==="number"&&(e=e.toString()),o){let a=n[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),n=$t(t,n,r,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean"){if(G.context)return n;n=$t(t,n,r)}else{if(i==="function")return P(()=>{let a=e();for(;typeof a=="function";)a=a();n=Bt(t,a,n,r)}),()=>n;if(Array.isArray(e)){const a=[],l=n&&Array.isArray(n);if(Fr(a,e,n,s))return P(()=>n=Bt(t,a,n,r,!0)),()=>n;if(G.context){if(!a.length)return n;if(r===void 0)return[...t.childNodes];let u=a[0],c=[u];for(;(u=u.nextSibling)!==r;)c.push(u);return n=c}if(a.length===0){if(n=$t(t,n,r),o)return n}else l?n.length===0?Hs(t,a,r):Ia(t,n,a):(n&&$t(t),Hs(t,a));n=a}else if(e.nodeType){if(G.context&&e.parentNode)return n=o?[e]:e;if(Array.isArray(n)){if(o)return n=$t(t,n,r,e);$t(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Fr(t,e,n,r){let s=!1;for(let i=0,o=e.length;i<o;i++){let a=e[i],l=n&&n[i],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))s=Fr(t,a,l)||s;else if(u==="function")if(r){for(;typeof a=="function";)a=a();s=Fr(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||s}else t.push(a),s=!0;else{const c=String(a);l&&l.nodeType===3&&l.data===c?t.push(l):t.push(document.createTextNode(c))}}return s}function Hs(t,e,n=null){for(let r=0,s=e.length;r<s;r++)t.insertBefore(e[r],n)}function $t(t,e,n,r){if(n===void 0)return t.textContent="";const s=r||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(s!==a){const l=a.parentNode===t;!i&&!o?l?t.replaceChild(s,a):t.insertBefore(s,n):l&&a.remove()}else i=!0}}else t.insertBefore(s,n);return[s]}const Ma=!1,qa="http://www.w3.org/2000/svg";function Va(t,e=!1){return e?document.createElementNS(qa,t):document.createElement(t)}function Ua(t){const{useShadow:e}=t,n=document.createTextNode(""),r=()=>t.mount||document.body,s=Wn();let i,o=!!G.context;return da(()=>{o&&(Wn().user=o=!1),i||(i=_s(s,()=>J(()=>t.children)));const a=r();if(a instanceof HTMLHeadElement){const[l,u]=T(!1),c=()=>u(!0);Ct(h=>y(a,()=>l()?h():i(),null)),Rt(c)}else{const l=Va(t.isSVG?"g":"div",t.isSVG),u=e&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return n.parentNode},configurable:!0}),y(u,i),a.appendChild(l),t.ref&&t.ref(l),Rt(()=>a.removeChild(l))}},void 0,{render:!o}),n}function Ki(){let t=new Set;function e(s){return t.add(s),()=>t.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const o={to:s,options:i,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of t)a.listener({...o,from:a.location,retry:l=>{l&&(n=!0),a.navigate(s,{...i,resolve:!1})}});return!o.defaultPrevented}return{subscribe:e,confirm:r}}let Mr;function ks(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Mr=window.history.state._depth}ks();function Wa(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function za(t,e){let n=!1;return()=>{const r=Mr;ks();const s=r==null?null:Mr-r;if(n){n=!1;return}s&&e(s)?(n=!0,window.history.go(-s)):t()}}const Ha=/^(?:[a-z0-9]+:)?\/\//i,Ya=/^\/+|(\/)\/+$/g,Fi="http://sr";function ht(t,e=!1){const n=t.replace(Ya,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function Bn(t,e,n){if(Ha.test(e))return;const r=ht(t),s=n&&ht(n);let i="";return!s||e.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+ht(e,!i)}function Ga(t,e){if(t==null)throw new Error(e);return t}function Ja(t,e){return ht(t).replace(/\/*(\*.*)?$/g,"")+ht(e)}function Mi(t){const e={};return t.searchParams.forEach((n,r)=>{e[r]=n}),e}function Xa(t,e,n){const[r,s]=t.split("/*",2),i=r.split("/").filter(Boolean),o=i.length;return a=>{const l=a.split("/").filter(Boolean),u=l.length-o;if(u<0||u>0&&s===void 0&&!e)return null;const c={path:o?"":"/",params:{}},h=d=>n===void 0?void 0:n[d];for(let d=0;d<o;d++){const f=i[d],b=l[d],p=f[0]===":",v=p?f.slice(1):f;if(p&&mr(b,h(v)))c.params[v]=b;else if(p||!mr(b,f))return null;c.path+=`/${b}`}if(s){const d=u?l.slice(-u).join("/"):"";if(mr(d,h(s)))c.params[s]=d;else return null}return c}}function mr(t,e){const n=r=>r.localeCompare(t,void 0,{sensitivity:"base"})===0;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function Qa(t){const[e,n]=t.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function qi(t){const e=new Map,n=Wn();return new Proxy({},{get(r,s){return e.has(s)||_s(n,()=>e.set(s,J(()=>t()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Za(t,e){const n=new URLSearchParams(t);Object.entries(e).forEach(([s,i])=>{i==null||i===""?n.delete(s):n.set(s,String(i))});const r=n.toString();return r?`?${r}`:""}function Vi(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),r=t.slice(e.index+e[0].length);const s=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=e[1]),r=r.slice(e[0].length);return Vi(r).reduce((i,o)=>[...i,...s.map(a=>a+o)],[])}const el=100,Ui=Bi(),Cs=Bi(),fn=()=>Ga(ws(Ui),"<A> and 'use' router primitives can be only used inside a Route."),tl=()=>ws(Cs)||fn().base,nl=t=>{const e=tl();return J(()=>e.resolvePath(t()))},rl=t=>{const e=fn();return J(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},sl=()=>fn().navigatorFactory(),Wi=()=>fn().location,Ap=()=>fn().params,il=()=>{const t=Wi(),e=sl(),n=(r,s)=>{const i=me(()=>t.pathname+Za(t.search,r)+t.hash);e(i,{scroll:!1,resolve:!1,...s})};return[t.query,n]};function ol(t,e=""){const{component:n,load:r,children:s,info:i}=t,o=!s||Array.isArray(s)&&!s.length,a={key:t,component:n,load:r,info:i};return zi(t.path).reduce((l,u)=>{for(const c of Vi(u)){const h=Ja(e,c);let d=o?h:h.split("/*",1)[0];d=d.split("/").map(f=>f.startsWith(":")||f.startsWith("*")?f:encodeURIComponent(f)).join("/"),l.push({...a,originalPath:u,pattern:d,matcher:Xa(d,!o,t.matchFilters)})}return l},[])}function al(t,e=0){return{routes:t,score:Qa(t[t.length-1])*1e4-e,matcher(n){const r=[];for(let s=t.length-1;s>=0;s--){const i=t[s],o=i.matcher(n);if(!o)return null;r.unshift({...o,route:i})}return r}}}function zi(t){return Array.isArray(t)?t:[t]}function Hi(t,e="",n=[],r=[]){const s=zi(t);for(let i=0,o=s.length;i<o;i++){const a=s[i];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=ol(a,e);for(const u of l){n.push(u);const c=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!c)Hi(a.children,u.pattern,n,r);else{const h=al([...n],r.length);r.push(h)}n.pop()}}}return n.length?r:r.sort((i,o)=>o.score-i.score)}function gr(t,e){for(let n=0,r=t.length;n<r;n++){const s=t[n].matcher(e);if(s)return s}return[]}function ll(t,e){const n=new URL(Fi),r=J(l=>{const u=t();try{return new URL(u,n)}catch{return console.error(`Invalid path ${u}`),l}},n,{equals:(l,u)=>l.href===u.href}),s=J(()=>r().pathname),i=J(()=>r().search,!0),o=J(()=>r().hash),a=()=>"";return{get pathname(){return s()},get search(){return i()},get hash(){return o()},get state(){return e()},get key(){return a()},query:qi(Ri(i,()=>Mi(r())))}}let Fe;function cl(){return Fe}function ul(t,e,n,r={}){const{signal:[s,i],utils:o={}}=t,a=o.parsePath||(A=>A),l=o.renderPath||(A=>A),u=o.beforeLeave||Ki(),c=Bn("",r.base||"");if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!s().value&&i({value:c,replace:!0,scroll:!1});const[h,d]=T(!1),f=async A=>{d(!0);try{await ma(A)}finally{d(!1)}},[b,p]=T(s().value),[v,g]=T(s().state),m=ll(b,v),w=[],$=T([]),x=J(()=>typeof r.transformUrl=="function"?gr(e(),r.transformUrl(m.pathname)):gr(e(),m.pathname)),E=qi(()=>{const A=x(),R={};for(let M=0;M<A.length;M++)Object.assign(R,A[M].params);return R}),C={pattern:c,path:()=>c,outlet:()=>null,resolvePath(A){return Bn(c,A)}};return P(()=>{const{value:A,state:R}=s();me(()=>{f(()=>{Fe="native",A!==b()&&p(A),g(R),$[1]([])}).then(()=>{Fe=void 0})})}),{base:C,location:m,params:E,isRouting:h,renderPath:l,parsePath:a,navigatorFactory:k,matches:x,beforeLeave:u,preloadRoute:B,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:$};function D(A,R,M){me(()=>{if(typeof R=="number"){R&&(o.go?o.go(R):console.warn("Router integration does not support relative routing"));return}const{replace:ae,resolve:N,scroll:V,state:z}={replace:!1,resolve:!0,scroll:!0,...M},F=N?A.resolvePath(R):Bn("",R);if(F===void 0)throw new Error(`Path '${R}' is not a routable path`);if(w.length>=el)throw new Error("Too many redirects");const re=b();if((F!==re||z!==v())&&!Ma){if(u.confirm(F,M)){const _e=w.push({value:re,replace:ae,scroll:V,state:v()});f(()=>{Fe="navigate",p(F),g(z),$[1]([])}).then(()=>{w.length===_e&&(Fe=void 0,L({value:F,state:z}))})}}})}function k(A){return A=A||ws(Cs)||C,(R,M)=>D(A,R,M)}function L(A){const R=w[0];R&&((A.value!==R.value||A.state!==R.state)&&i({...A,replace:R.replace,scroll:R.scroll}),w.length=0)}function B(A,R){const M=gr(e(),A.pathname),ae=Fe;Fe="preload";for(let N in M){const{route:V,params:z}=M[N];V.component&&V.component.preload&&V.component.preload();const{load:F}=V;R&&F&&_s(n(),()=>F({params:z,location:{pathname:A.pathname,search:A.search,hash:A.hash,query:Mi(A),state:null,key:""},intent:"preload"}))}Fe=ae}}function hl(t,e,n,r){const{base:s,location:i,params:o}=t,{pattern:a,component:l,load:u}=r().route,c=J(()=>r().path);l&&l.preload&&l.preload();const h=u?u({params:o,location:i,intent:Fe||"initial"}):void 0;return{parent:e,pattern:a,path:c,outlet:()=>l?_(l,{params:o,location:i,data:h,get children(){return n()}}):n(),resolvePath(f){return Bn(s.path(),f,c())}}}const dl=t=>e=>{const{base:n}=e,r=ir(()=>e.children),s=J(()=>Hi(r(),e.base||""));let i;const o=ul(t,s,()=>i,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(o),_(Ui.Provider,{value:o,get children(){return _(fl,{routerState:o,get root(){return e.root},get load(){return e.rootLoad},get children(){return[J(()=>(i=Wn())&&null),_(pl,{routerState:o,get branches(){return s()}})]}})}})};function fl(t){const e=t.routerState.location,n=t.routerState.params,r=J(()=>t.load&&me(()=>{t.load({params:n,location:e,intent:cl()||"initial"})}));return _(j,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:s=>_(s,{params:n,location:e,get data(){return r()},get children(){return t.children}})})}function pl(t){const e=[];let n;const r=J(Ri(t.routerState.matches,(s,i,o)=>{let a=i&&s.length===i.length;const l=[];for(let u=0,c=s.length;u<c;u++){const h=i&&i[u],d=s[u];o&&h&&d.route.key===h.route.key?l[u]=o[u]:(a=!1,e[u]&&e[u](),Ct(f=>{e[u]=f,l[u]=hl(t.routerState,l[u-1]||t.routerState.base,Ys(()=>r()[u+1]),()=>t.routerState.matches()[u])}))}return e.splice(s.length).forEach(u=>u()),o&&a?o:(n=l[0],l)}));return Ys(()=>r()&&n)()}const Ys=t=>()=>_(j,{get when(){return t()},keyed:!0,children:e=>_(Cs.Provider,{value:e,get children(){return e.outlet()}})}),ce=t=>{const e=ir(()=>t.children);return rn(t,{get children(){return e()}})};function ml([t,e],n,r){return[n?()=>n(t()):t,r?s=>e(r(s)):e]}function gl(t){if(t==="#")return null;try{return document.querySelector(t)}catch{return null}}function vl(t){let e=!1;const n=s=>typeof s=="string"?{value:s}:s,r=ml(T(n(t.get()),{equals:(s,i)=>s.value===i.value&&s.state===i.state}),void 0,s=>(!e&&t.set(s),s));return t.init&&Rt(t.init((s=t.get())=>{e=!0,r[1](n(s)),e=!1})),dl({signal:r,create:t.create,utils:t.utils})}function yl(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function bl(t,e){const n=gl(`#${t}`);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const _l=new Map;function wl(t=!0,e=!1,n="/_server",r){return s=>{const i=s.base.path(),o=s.navigatorFactory(s.base);let a={};function l(p){return p.namespaceURI==="http://www.w3.org/2000/svg"}function u(p){if(p.defaultPrevented||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)return;const v=p.composedPath().find(E=>E instanceof Node&&E.nodeName.toUpperCase()==="A");if(!v||e&&!v.hasAttribute("link"))return;const g=l(v),m=g?v.href.baseVal:v.href;if((g?v.target.baseVal:v.target)||!m&&!v.hasAttribute("state"))return;const $=(v.getAttribute("rel")||"").split(/\s+/);if(v.hasAttribute("download")||$&&$.includes("external"))return;const x=g?new URL(m,document.baseURI):new URL(m);if(!(x.origin!==window.location.origin||i&&x.pathname&&!x.pathname.toLowerCase().startsWith(i.toLowerCase())))return[v,x]}function c(p){const v=u(p);if(!v)return;const[g,m]=v,w=s.parsePath(m.pathname+m.search+m.hash),$=g.getAttribute("state");p.preventDefault(),o(w,{resolve:!1,replace:g.hasAttribute("replace"),scroll:!g.hasAttribute("noscroll"),state:$&&JSON.parse($)})}function h(p){const v=u(p);if(!v)return;const[g,m]=v;typeof r=="function"&&(m.pathname=r(m.pathname)),a[m.pathname]||s.preloadRoute(m,g.getAttribute("preload")!=="false")}function d(p){const v=u(p);if(!v)return;const[g,m]=v;typeof r=="function"&&(m.pathname=r(m.pathname)),!a[m.pathname]&&(a[m.pathname]=setTimeout(()=>{s.preloadRoute(m,g.getAttribute("preload")!=="false"),delete a[m.pathname]},200))}function f(p){const v=u(p);if(!v)return;const[,g]=v;typeof r=="function"&&(g.pathname=r(g.pathname)),a[g.pathname]&&(clearTimeout(a[g.pathname]),delete a[g.pathname])}function b(p){if(p.defaultPrevented)return;let v=p.submitter&&p.submitter.hasAttribute("formaction")?p.submitter.getAttribute("formaction"):p.target.getAttribute("action");if(!v)return;if(!v.startsWith("https://action/")){const m=new URL(v,Fi);if(v=s.parsePath(m.pathname+m.search),!v.startsWith(n))return}if(p.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const g=_l.get(v);if(g){p.preventDefault();const m=new FormData(p.target);p.submitter&&p.submitter.name&&m.append(p.submitter.name,p.submitter.value),g.call({r:s,f:p.target},m)}}Ee(["click","submit"]),document.addEventListener("click",c),t&&(document.addEventListener("mouseover",d),document.addEventListener("mouseout",f),document.addEventListener("focusin",h),document.addEventListener("touchstart",h)),document.addEventListener("submit",b),Rt(()=>{document.removeEventListener("click",c),t&&(document.removeEventListener("mouseover",d),document.removeEventListener("mouseout",f),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",b)})}}function $l(t){const e=()=>{const r=window.location.pathname+window.location.search;return{value:t.transformUrl?t.transformUrl(r)+window.location.hash:r+window.location.hash,state:window.history.state}},n=Ki();return vl({get:e,set({value:r,replace:s,scroll:i,state:o}){s?window.history.replaceState(Wa(o),"",r):window.history.pushState(o,"",r),bl(window.location.hash.slice(1),i),ks()},init:r=>yl(window,"popstate",za(r,s=>{if(s&&s<0)return!n.confirm(s);{const i=e();return!n.confirm(i.value,{state:i.state})}})),create:wl(t.preload,t.explicitLinks,t.actionBase,t.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(t)}var Sl=S("<a>");function Gs(t){t=rn({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=xa(t,["href","state","class","activeClass","inactiveClass","end"]),n=nl(()=>t.href),r=rl(n),s=Wi(),i=J(()=>{const o=n();if(o===void 0)return[!1,!1];const a=ht(o.split(/[?#]/,1)[0]).toLowerCase(),l=ht(s.pathname).toLowerCase();return[t.end?a===l:l.startsWith(a),a===l]});return(()=>{var o=Sl();return xs(o,rn(e,{get href(){return r()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!i()[0],[t.activeClass]:i()[0],...e.classList}},link:"",get"aria-current"(){return i()[1]?"page":void 0}}),!1,!1),o})()}var qr=function(t,e){return qr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},qr(t,e)};function jt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qr(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function xl(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Yi(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function It(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vr(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Ur(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Et(t){return this instanceof Et?(this.v=t,this):new Et(t)}function kl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){r[d]&&(s[d]=function(f){return new Promise(function(b,p){i.push([d,f,b,p])>1||a(d,f)})})}function a(d,f){try{l(r[d](f))}catch(b){h(i[0][3],b)}}function l(d){d.value instanceof Et?Promise.resolve(d.value.v).then(u,c):h(i[0][2],d)}function u(d){a("next",d)}function c(d){a("throw",d)}function h(d,f){d(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Cl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof It=="function"?It(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function ue(t){return typeof t=="function"}function Gi(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vr=Gi(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,s){return s+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Wr(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var cr=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,s,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=It(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(ue(c))try{c()}catch(p){i=p instanceof vr?p.errors:[p]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=It(h),f=d.next();!f.done;f=d.next()){var b=f.value;try{Js(b)}catch(p){i=i??[],p instanceof vr?i=Ur(Ur([],Vr(i)),Vr(p.errors)):i.push(p)}}}catch(p){r={error:p}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}}if(i)throw new vr(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Js(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Wr(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Wr(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Ji=cr.EMPTY;function Xi(t){return t instanceof cr||t&&"closed"in t&&ue(t.remove)&&ue(t.add)&&ue(t.unsubscribe)}function Js(t){ue(t)?t():t.unsubscribe()}var Qi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Zi={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ur([t,e],Vr(n)))},clearTimeout:function(t){var e=Zi.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function eo(t){Zi.setTimeout(function(){throw t})}function Xs(){}function In(t){t()}var Es=function(t){jt(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Xi(n)&&n.add(r)):r.destination=Ol,r}return e.create=function(n,r,s){return new zr(n,r,s)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(cr),El=Function.prototype.bind;function yr(t,e){return El.call(t,e)}var Pl=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){_n(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){_n(r)}else _n(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){_n(n)}},t}(),zr=function(t){jt(e,t);function e(n,r,s){var i=t.call(this)||this,o;if(ue(n)||!n)o={next:n??void 0,error:r??void 0,complete:s??void 0};else{var a;i&&Qi.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},o={next:n.next&&yr(n.next,a),error:n.error&&yr(n.error,a),complete:n.complete&&yr(n.complete,a)}):o=n}return i.destination=new Pl(o),i}return e}(Es);function _n(t){eo(t)}function Al(t){throw t}var Ol={closed:!0,next:Xs,error:Al,complete:Xs},Ps=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function to(t){return t}function Rl(t){return t.length===0?to:t.length===1?t[0]:function(n){return t.reduce(function(r,s){return s(r)},n)}}var xe=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var s=this,i=Il(e)?e:new zr(e,n,r);return In(function(){var o=s,a=o.operator,l=o.source;i.add(a?a.call(i,l):l?s._subscribe(i):s._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Qs(n),new n(function(s,i){var o=new zr({next:function(a){try{e(a)}catch(l){i(l),o.unsubscribe()}},error:i,complete:s});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Ps]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Rl(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Qs(e),new e(function(r,s){var i;n.subscribe(function(o){return i=o},function(o){return s(o)},function(){return r(i)})})},t.create=function(e){return new t(e)},t}();function Qs(t){var e;return(e=t??Qi.Promise)!==null&&e!==void 0?e:Promise}function Bl(t){return t&&ue(t.next)&&ue(t.error)&&ue(t.complete)}function Il(t){return t&&t instanceof Es||Bl(t)&&Xi(t)}function Tl(t){return ue(t?.lift)}function yt(t){return function(e){if(Tl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(t,e,n,r,s){return new Ll(t,e,n,r,s)}var Ll=function(t){jt(e,t);function e(n,r,s,i,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:t.prototype._next,l._error=i?function(u){try{i(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=s?function(){try{s()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Es),jl=Gi(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),no=function(t){jt(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Zs(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new jl},e.prototype.next=function(n){var r=this;In(function(){var s,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=It(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){s={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}}})},e.prototype.error=function(n){var r=this;In(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var s=r.observers;s.length;)s.shift().error(n)}})},e.prototype.complete=function(){var n=this;In(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,s=this,i=s.hasError,o=s.isStopped,a=s.observers;return i||o?Ji:(this.currentObservers=null,a.push(n),new cr(function(){r.currentObservers=null,Wr(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,s=r.hasError,i=r.thrownError,o=r.isStopped;s?n.error(i):o&&n.complete()},e.prototype.asObservable=function(){var n=new xe;return n.source=this,n},e.create=function(n,r){return new Zs(n,r)},e}(xe),Zs=function(t){jt(e,t);function e(n,r){var s=t.call(this)||this;return s.destination=n,s.source=r,s}return e.prototype.next=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,n)},e.prototype.error=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&s!==void 0?s:Ji},e}(no),Dl=function(t){jt(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,s=n.thrownError,i=n._value;if(r)throw s;return this._throwIfClosed(),i},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(no),Nl=new xe(function(t){return t.complete()});function Kl(t){return t&&ue(t.schedule)}function Fl(t){return t[t.length-1]}function Ml(t){return Kl(Fl(t))?t.pop():void 0}var ro=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function so(t){return ue(t?.then)}function io(t){return ue(t[Ps])}function oo(t){return Symbol.asyncIterator&&ue(t?.[Symbol.asyncIterator])}function ao(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ql(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lo=ql();function co(t){return ue(t?.[lo])}function uo(t){return kl(this,arguments,function(){var n,r,s,i;return Yi(this,function(o){switch(o.label){case 0:n=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Et(n.read())];case 3:return r=o.sent(),s=r.value,i=r.done,i?[4,Et(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Et(s)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function ho(t){return ue(t?.getReader)}function Dt(t){if(t instanceof xe)return t;if(t!=null){if(io(t))return Vl(t);if(ro(t))return Ul(t);if(so(t))return Wl(t);if(oo(t))return fo(t);if(co(t))return zl(t);if(ho(t))return Hl(t)}throw ao(t)}function Vl(t){return new xe(function(e){var n=t[Ps]();if(ue(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ul(t){return new xe(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Wl(t){return new xe(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,eo)})}function zl(t){return new xe(function(e){var n,r;try{for(var s=It(t),i=s.next();!i.done;i=s.next()){var o=i.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}e.complete()})}function fo(t){return new xe(function(e){Yl(t,e).catch(function(n){return e.error(n)})})}function Hl(t){return fo(uo(t))}function Yl(t,e){var n,r,s,i;return xl(this,void 0,void 0,function(){var o,a;return Yi(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Cl(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),s={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function et(t,e,n,r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var i=e.schedule(function(){n(),s?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!s)return i}function po(t,e){return e===void 0&&(e=0),yt(function(n,r){n.subscribe(mt(r,function(s){return et(r,t,function(){return r.next(s)},e)},function(){return et(r,t,function(){return r.complete()},e)},function(s){return et(r,t,function(){return r.error(s)},e)}))})}function mo(t,e){return e===void 0&&(e=0),yt(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function Gl(t,e){return Dt(t).pipe(mo(e),po(e))}function Jl(t,e){return Dt(t).pipe(mo(e),po(e))}function Xl(t,e){return new xe(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ql(t,e){return new xe(function(n){var r;return et(n,e,function(){r=t[lo](),et(n,e,function(){var s,i,o;try{s=r.next(),i=s.value,o=s.done}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),function(){return ue(r?.return)&&r.return()}})}function go(t,e){if(!t)throw new Error("Iterable cannot be null");return new xe(function(n){et(n,e,function(){var r=t[Symbol.asyncIterator]();et(n,e,function(){r.next().then(function(s){s.done?n.complete():n.next(s.value)})},0,!0)})})}function Zl(t,e){return go(uo(t),e)}function ec(t,e){if(t!=null){if(io(t))return Gl(t,e);if(ro(t))return Xl(t,e);if(so(t))return Jl(t,e);if(oo(t))return go(t,e);if(co(t))return Ql(t,e);if(ho(t))return Zl(t,e)}throw ao(t)}function tc(t,e){return e?ec(t,e):Dt(t)}function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ml(t);return tc(t,n)}function nc(t,e){return yt(function(n,r){var s=0;n.subscribe(mt(r,function(i){r.next(t.call(e,i,s++))}))})}function rc(t,e,n,r,s,i,o,a){var l=[],u=0,c=0,h=!1,d=function(){h&&!l.length&&!u&&e.complete()},f=function(p){return u<r?b(p):l.push(p)},b=function(p){i&&e.next(p),u++;var v=!1;Dt(n(p,c++)).subscribe(mt(e,function(g){s?.(g),i?f(g):e.next(g)},function(){v=!0},void 0,function(){if(v)try{u--;for(var g=function(){var m=l.shift();o?et(e,o,function(){return b(m)}):b(m)};l.length&&u<r;)g();d()}catch(m){e.error(m)}}))};return t.subscribe(mt(e,f,function(){h=!0,d()})),function(){a?.()}}function Hr(t,e,n){return n===void 0&&(n=1/0),ue(e)?Hr(function(r,s){return nc(function(i,o){return e(r,i,s,o)})(Dt(t(r,s)))},n):(typeof e=="number"&&(n=e),yt(function(r,s){return rc(r,s,t,n)}))}function Ae(t){return yt(function(e,n){var r=null,s=!1,i;r=e.subscribe(mt(n,void 0,void 0,function(o){i=Dt(t(o,Ae(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,i.subscribe(n))})}function ie(t,e){return ue(e)?Hr(t,e,1):Hr(t,1)}function H(t){return t<=0?function(){return Nl}:yt(function(e,n){var r=0;e.subscribe(mt(n,function(s){++r<=t&&(n.next(s),t<=r&&n.complete())}))})}function fe(t,e,n){var r=ue(t)||e||n?{next:t,error:e,complete:n}:t;return r?yt(function(s,i){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;s.subscribe(mt(i,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),i.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),i.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):to}class sc{loggedIn=T({});tokenValue=T("");set token(e){this.tokenValue[1](e),this.loggedIn[1]({Authorization:`Bearer ${e}`})}get token(){return this.tokenValue[0]}clearToken(){this.loggedIn[1]({Authorization:""})}toObservable(e){return new xe(n=>{e.then(r=>{n.next(r)}).catch(r=>n.error(r)).finally(()=>n.complete())})}post(e,n,r){return new xe(s=>{fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...r?.headers,...this.loggedIn[0]()},body:JSON.stringify(n)}).then(i=>{if(!i.ok)throw new Error(i.statusText);return i.json()}).then(i=>{s.next(i)}).catch(i=>s.error(i)).finally(()=>s.complete())})}get(e,n){return new xe(r=>{fetch(e,{method:"GET",headers:{"Content-Type":"application/json",...n?.headers,...this.loggedIn[0]()}}).then(s=>{if(!s.ok)throw new Error(s.statusText);return s.json()}).then(s=>{r.next(s)}).catch(s=>r.error(s)).finally(()=>r.complete())})}}const W=new sc,se=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,de=Object.keys,ye=Array.isArray;function ke(t,e){return typeof e!="object"||de(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||se.Promise||(se.Promise=Promise);const sn=Object.getPrototypeOf,ic={}.hasOwnProperty;function Re(t,e){return ic.call(t,e)}function Tt(t,e){typeof e=="function"&&(e=e(sn(t))),(typeof Reflect>"u"?de:Reflect.ownKeys)(e).forEach(n=>{We(t,n,e[n])})}const vo=Object.defineProperty;function We(t,e,n,r){vo(t,e,ke(n&&Re(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Pt(t){return{from:function(e){return t.prototype=Object.create(e.prototype),We(t.prototype,"constructor",t),{extend:Tt.bind(null,t.prototype)}}}}const oc=Object.getOwnPropertyDescriptor;function As(t,e){let n;return oc(t,e)||(n=sn(t))&&As(n,e)}const ac=[].slice;function Gn(t,e,n){return ac.call(t,e,n)}function yo(t,e){return e(t)}function Jt(t){if(!t)throw new Error("Assertion Failed")}function bo(t){se.setImmediate?setImmediate(t):setTimeout(t,0)}function _o(t,e){return t.reduce((n,r,s)=>{var i=e(r,s);return i&&(n[i[0]]=i[1]),n},{})}function ze(t,e){if(Re(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,s=e.length;r<s;++r){var i=ze(t,e[r]);n.push(i)}return n}var o=e.indexOf(".");if(o!==-1){var a=t[e.substr(0,o)];return a===void 0?void 0:ze(a,e.substr(o+1))}}function Ie(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Jt(typeof n!="string"&&"length"in n);for(var r=0,s=e.length;r<s;++r)Ie(t,e[r],n[r])}else{var i=e.indexOf(".");if(i!==-1){var o=e.substr(0,i),a=e.substr(i+1);if(a==="")n===void 0?ye(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=n;else{var l=t[o];l&&Re(t,o)||(l=t[o]={}),Ie(l,a,n)}}else n===void 0?ye(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function wo(t){var e={};for(var n in t)Re(t,n)&&(e[n]=t[n]);return e}const lc=[].concat;function $o(t){return lc.apply([],t)}const So="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat($o([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>se[t]),cc=So.map(t=>se[t]);_o(So,t=>[t,!0]);let Xe=null;function pn(t){Xe=typeof WeakMap<"u"&&new WeakMap;const e=Yr(t);return Xe=null,e}function Yr(t){if(!t||typeof t!="object")return t;let e=Xe&&Xe.get(t);if(e)return e;if(ye(t)){e=[],Xe&&Xe.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(Yr(t[n]))}else if(cc.indexOf(t.constructor)>=0)e=t;else{const i=sn(t);for(var s in e=i===Object.prototype?{}:Object.create(i),Xe&&Xe.set(t,e),t)Re(t,s)&&(e[s]=Yr(t[s]))}return e}const{toString:uc}={};function Gr(t){return uc.call(t).slice(8,-1)}const Jr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",hc=typeof Jr=="symbol"?function(t){var e;return t!=null&&(e=t[Jr])&&e.apply(t)}:function(){return null},kt={};function qe(t){var e,n,r,s;if(arguments.length===1){if(ye(t))return t.slice();if(this===kt&&typeof t=="string")return[t];if(s=hc(t)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const Os=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var je=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xo(t,e){je=t,ko=e}var ko=()=>!0;const dc=!new Error("").stack;function bt(){if(dc)try{throw bt.arguments,new Error}catch(t){return t}return new Error}function Xr(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(ko).map(r=>`
`+r).join("")):""}var Co=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Rs=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Co),fc={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function At(t,e){this._e=bt(),this.name=t,this.message=e}function Eo(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,s)=>s.indexOf(n)===r).join(`
`)}function Jn(t,e,n,r){this._e=bt(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=Eo(t,e)}function Qt(t,e){this._e=bt(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=Eo(t,e)}Pt(At).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Xr(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Pt(Jn).from(At),Pt(Qt).from(At);var Bs=Rs.reduce((t,e)=>(t[e]=e+"Error",t),{});const pc=At;var q=Rs.reduce((t,e)=>{var n=e+"Error";function r(s,i){this._e=bt(),this.name=n,s?typeof s=="string"?(this.message=`${s}${i?`
 `+i:""}`,this.inner=i||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=fc[e]||n,this.inner=null)}return Pt(r).from(pc),t[e]=r,t},{});q.Syntax=SyntaxError,q.Type=TypeError,q.Range=RangeError;var ei=Co.reduce((t,e)=>(t[e+"Error"]=q[e],t),{}),Tn=Rs.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=q[e]),t),{});function te(){}function on(t){return t}function mc(t,e){return t==null||t===on?e:function(n){return e(t(n))}}function gt(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function gc(t,e){return t===te?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?gt(r,this.onsuccess):r),s&&(this.onerror=this.onerror?gt(s,this.onerror):s),i!==void 0?i:n}}function vc(t,e){return t===te?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?gt(n,this.onsuccess):n),r&&(this.onerror=this.onerror?gt(r,this.onerror):r)}}function yc(t,e){return t===te?e:function(n){var r=t.apply(this,arguments);ke(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?gt(s,this.onsuccess):s),i&&(this.onerror=this.onerror?gt(i,this.onerror):i),r===void 0?o===void 0?void 0:o:ke(r,o)}}function bc(t,e){return t===te?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function Is(t,e){return t===te?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then(function(){return e.apply(r,i)})}return e.apply(this,arguments)}}Tn.ModifyError=Jn,Tn.DexieError=At,Tn.BulkError=Qt;var an={};const Po=100,[Qr,Xn,Zr]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,sn(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,sn(e),t]})(),Ao=Xn&&Xn.then,Ln=Qr&&Qr.constructor,Ts=!!Zr;var es=!1,_c=Zr?()=>{Zr.then(wn)}:se.setImmediate?setImmediate.bind(null,wn):se.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{wn(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(wn,0)},Zt=function(t,e){Xt.push([t,e]),Qn&&(_c(),Qn=!1)},ts=!0,Qn=!0,dt=[],jn=[],ns=null,rs=on,Ot={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ri,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{ri(t[0],t[1])}catch{}})}},K=Ot,Xt=[],ft=0,Dn=[];function I(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=te,this._lib=!1;var e=this._PSD=K;if(je&&(this._stackHolder=bt(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==an)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&is(this,this._value))}this._state=null,this._value=null,++e.ref,Ro(this,t)}const ss={get:function(){var t=K,e=Zn;function n(r,s){var i=!t.global&&(t!==K||e!==Zn);const o=i&&!Ye();var a=new I((l,u)=>{Ls(this,new Oo(er(r,t,i,o),er(s,t,i,o),l,u,t))});return je&&To(a,this),a}return n.prototype=an,n},set:function(t){We(this,"then",t&&t.prototype===an?ss:{get:function(){return t},set:ss.set})}};function Oo(t,e,n,r,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=s}function Ro(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&mn();n&&typeof n.then=="function"?Ro(t,(s,i)=>{n instanceof I?n._then(s,i):n.then(s,i)}):(t._state=!0,t._value=n,Bo(t)),r&&gn()}},is.bind(null,t))}catch(n){is(t,n)}}function is(t,e){if(jn.push(e),t._state===null){var n=t._lib&&mn();e=rs(e),t._state=!1,t._value=e,je&&e!==null&&typeof e=="object"&&!e._promise&&function(r,s,i){try{r.apply(null,i)}catch(o){s&&s(o)}}(()=>{var r=As(e,"stack");e._promise=t,We(e,"stack",{get:()=>es?r&&(r.get?r.get.apply(e):r.value):t.stack})}),function(r){dt.some(s=>s._value===r._value)||dt.push(r)}(t),Bo(t),n&&gn()}}function Bo(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Ls(t,e[n]);var s=t._PSD;--s.ref||s.finalize(),ft===0&&(++ft,Zt(()=>{--ft==0&&js()},[]))}function Ls(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++ft,Zt(wc,[n,t,e])}else t._listeners.push(e)}function wc(t,e,n){try{ns=e;var r,s=e._value;e._state?r=t(s):(jn.length&&(jn=[]),r=t(s),jn.indexOf(s)===-1&&function(i){for(var o=dt.length;o;)if(dt[--o]._value===i._value)return void dt.splice(o,1)}(e)),n.resolve(r)}catch(i){n.reject(i)}finally{ns=null,--ft==0&&js(),--n.psd.ref||n.psd.finalize()}}function Io(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var s,i,o=t._value;o!=null?(s=o.name||"Error",i=o.message||o,r=Xr(o,0)):(s=o,i=""),e.push(s+(i?": "+i:"")+r)}return je&&((r=Xr(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&Io(t._prev,e,n)),e}function To(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function wn(){mn()&&gn()}function mn(){var t=ts;return ts=!1,Qn=!1,t}function gn(){var t,e,n;do for(;Xt.length>0;)for(t=Xt,Xt=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Xt.length>0);ts=!0,Qn=!0}function js(){var t=dt;dt=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=Dn.slice(0),n=e.length;n;)e[--n]()}function $n(t){return new I(an,!1,t)}function oe(t,e){var n=K;return function(){var r=mn(),s=K;try{return rt(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{rt(s,!1),r&&gn()}}}Tt(I.prototype,{then:ss,_then:function(t,e){Ls(this,new Oo(null,null,t,e,K))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):$n(r)):this.then(null,r=>r&&r.name===e?n(r):$n(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),$n(e)))},stack:{get:function(){if(this._stack)return this._stack;try{es=!0;var t=Io(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{es=!1}}},timeout:function(t,e){return t<1/0?new I((n,r)=>{var s=setTimeout(()=>r(new q.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&We(I.prototype,Symbol.toStringTag,"Dexie.Promise"),Ot.env=Lo(),Tt(I,{all:function(){var t=qe.apply(null,arguments).map(Sn);return new I(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((s,i)=>I.resolve(s).then(o=>{t[i]=o,--r||e(t)},n))})},resolve:t=>{if(t instanceof I)return t;if(t&&typeof t.then=="function")return new I((n,r)=>{t.then(n,r)});var e=new I(an,!0,t);return To(e,ns),e},reject:$n,race:function(){var t=qe.apply(null,arguments).map(Sn);return new I((e,n)=>{t.map(r=>I.resolve(r).then(e,n))})},PSD:{get:()=>K,set:t=>K=t},totalEchoes:{get:()=>Zn},newPSD:nt,usePSD:Kt,scheduler:{get:()=>Zt,set:t=>{Zt=t}},rejectionMapper:{get:()=>rs,set:t=>{rs=t}},follow:(t,e)=>new I((n,r)=>nt((s,i)=>{var o=K;o.unhandleds=[],o.onunhandled=i,o.finalize=gt(function(){(function(a){function l(){a(),Dn.splice(Dn.indexOf(l),1)}Dn.push(l),++ft,Zt(()=>{--ft==0&&js()},[])})(()=>{this.unhandleds.length===0?s():i(this.unhandleds[0])})},o.finalize),t()},e,n,r))}),Ln&&(Ln.allSettled&&We(I,"allSettled",function(){const t=qe.apply(null,arguments).map(Sn);return new I(e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach((s,i)=>I.resolve(s).then(o=>r[i]={status:"fulfilled",value:o},o=>r[i]={status:"rejected",reason:o}).then(()=>--n||e(r)))})}),Ln.any&&typeof AggregateError<"u"&&We(I,"any",function(){const t=qe.apply(null,arguments).map(Sn);return new I((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const s=new Array(r);t.forEach((i,o)=>I.resolve(i).then(a=>e(a),a=>{s[o]=a,--r||n(new AggregateError(s))}))})}));const ve={awaits:0,echoes:0,id:0};var $c=0,Nn=[],br=0,Zn=0,Sc=0;function nt(t,e,n,r){var s=K,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++Sc;var o=Ot.env;i.env=Ts?{Promise:I,PromiseProp:{value:I,configurable:!0,writable:!0},all:I.all,race:I.race,allSettled:I.allSettled,any:I.any,resolve:I.resolve,reject:I.reject,nthen:ti(o.nthen,i),gthen:ti(o.gthen,i)}:{},e&&ke(i,e),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Kt(i,t,n,r);return i.ref===0&&i.finalize(),a}function Nt(){return ve.id||(ve.id=++$c),++ve.awaits,ve.echoes+=Po,ve.id}function Ye(){return!!ve.awaits&&(--ve.awaits==0&&(ve.id=0),ve.echoes=ve.awaits*Po,!0)}function Sn(t){return ve.echoes&&t&&t.constructor===Ln?(Nt(),t.then(e=>(Ye(),e),e=>(Ye(),pe(e)))):t}function xc(t){++Zn,ve.echoes&&--ve.echoes!=0||(ve.echoes=ve.id=0),Nn.push(K),rt(t,!0)}function kc(){var t=Nn[Nn.length-1];Nn.pop(),rt(t,!1)}function rt(t,e){var n=K;if((e?!ve.echoes||br++&&t===K:!br||--br&&t===K)||jo(e?xc.bind(null,t):kc),t!==K&&(K=t,n===Ot&&(Ot.env=Lo()),Ts)){var r=Ot.env.Promise,s=t.env;Xn.then=s.nthen,r.prototype.then=s.gthen,(n.global||t.global)&&(Object.defineProperty(se,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function Lo(){var t=se.Promise;return Ts?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(se,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Xn.then,gthen:t.prototype.then}:{}}function Kt(t,e,n,r,s){var i=K;try{return rt(t,!0),e(n,r,s)}finally{rt(i,!1)}}function jo(t){Ao.call(Qr,t)}function er(t,e,n,r){return typeof t!="function"?t:function(){var s=K;n&&Nt(),rt(e,!0);try{return t.apply(this,arguments)}finally{rt(s,!1),r&&jo(Ye)}}}function ti(t,e){return function(n,r){return t.call(this,er(n,e),er(r,e))}}(""+Ao).indexOf("[native code]")===-1&&(Nt=Ye=te);const ni="unhandledrejection";function ri(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,s={promise:e,reason:t};if(se.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ni,!0,!0),ke(r,s)):se.CustomEvent&&ke(r=new CustomEvent(ni,{detail:s}),s),r&&se.dispatchEvent&&(dispatchEvent(r),!se.PromiseRejectionEvent&&se.onunhandledrejection))try{se.onunhandledrejection(r)}catch{}je&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var pe=I.reject;function os(t,e,n,r){if(t.idbdb&&(t._state.openComplete||K.letThrough||t._vip)){var s=t._createTransaction(e,n,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===Bs.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>os(t,e,n,r))):pe(i)}return s._promise(e,(i,o)=>nt(()=>(K.trans=s,r(i,o,s)))).then(i=>s._completion.then(()=>i))}if(t._state.openComplete)return pe(new q.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return pe(new q.DatabaseClosed);t.open().catch(te)}return t._state.dbReadyPromise.then(()=>os(t,e,n,r))}const si="3.2.4",ut="",as=-1/0,Ke="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Do="String expected.",en=[],ur=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Cc=ur,Ec=ur,No=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),hr="__dbnames",_r="readonly",wr="readwrite";function vt(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const Ko={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xn(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=pn(e))[t],e)}class Pc{_trans(e,n,r){const s=this._tx||K.trans,i=this.name;function o(l,u,c){if(!c.schema[i])throw new q.NotFound("Table "+i+" not part of transaction");return n(c.idbtrans,c)}const a=mn();try{return s&&s.db===this.db?s===K.trans?s._promise(e,o,r):nt(()=>s._promise(e,o,r),{trans:s,transless:K.transless||K}):os(this.db,e,[this.name],o)}finally{a&&gn()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(s=>this.hook.reading.fire(s))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(ye(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=de(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>u.compound&&n.every(c=>u.keyPath.indexOf(c)>=0)&&u.keyPath.every(c=>n.indexOf(c)>=0))[0];if(r&&this.db._maxKey!==ut)return this.where(r.name).equals(r.keyPath.map(u=>e[u]));!r&&je&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:s}=this.schema,i=this.db._deps.indexedDB;function o(u,c){try{return i.cmp(u,c)===0}catch{return!1}}const[a,l]=n.reduce(([u,c],h)=>{const d=s[h],f=e[h];return[u||d,u||!d?vt(c,d&&d.multi?b=>{const p=ze(b,h);return ye(p)&&p.some(v=>o(f,v))}:b=>o(f,ze(b,h))):c]},[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,ye(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const s=Object.create(e.prototype);for(var i in r)if(Re(r,i))try{s[i]=r[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){ke(this,e)})}add(e,n){const{auto:r,keyPath:s}=this.schema.primKey;let i=e;return s&&r&&(i=xn(s)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[i]})).then(o=>o.numFailures?I.reject(o.failures[0]):o.lastResult).then(o=>{if(s)try{Ie(e,s,o)}catch{}return o})}update(e,n){if(typeof e!="object"||ye(e))return this.where(":id").equals(e).modify(n);{const r=ze(e,this.schema.primKey.keyPath);if(r===void 0)return pe(new q.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?de(n).forEach(s=>{Ie(e,s,n[s])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:s}=this.schema.primKey;let i=e;return s&&r&&(i=xn(s)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[i],keys:n!=null?[n]:null})).then(o=>o.numFailures?I.reject(o.failures[0]):o.lastResult).then(o=>{if(s)try{Ie(e,s,o)}catch{}return o})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?I.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:Ko})).then(e=>e.numFailures?I.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,n,r){const s=Array.isArray(n)?n:void 0,i=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&s)throw new q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let c=l&&a?e.map(xn(l)):e;return this.core.mutate({trans:o,type:"add",keys:s,values:c,wantResults:i}).then(({numFailures:h,results:d,lastResult:f,failures:b})=>{if(h===0)return i?d:f;throw new Qt(`${this.name}.bulkAdd(): ${h} of ${u} operations failed`,b)})})}bulkPut(e,n,r){const s=Array.isArray(n)?n:void 0,i=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&s)throw new q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let c=l&&a?e.map(xn(l)):e;return this.core.mutate({trans:o,type:"put",keys:s,values:c,wantResults:i}).then(({numFailures:h,results:d,lastResult:f,failures:b})=>{if(h===0)return i?d:f;throw new Qt(`${this.name}.bulkPut(): ${h} of ${u} operations failed`,b)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:s,failures:i})=>{if(r===0)return s;throw new Qt(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function tn(t){var e={},n=function(o,a){if(a){for(var l=arguments.length,u=new Array(l-1);--l;)u[l-1]=arguments[l];return e[o].subscribe.apply(null,u),t}if(typeof o=="string")return e[o]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(o,a,l){if(typeof o!="object"){var u;a||(a=bc),l||(l=te);var c={subscribers:[],fire:l,subscribe:function(h){c.subscribers.indexOf(h)===-1&&(c.subscribers.push(h),c.fire=a(c.fire,h))},unsubscribe:function(h){c.subscribers=c.subscribers.filter(function(d){return d!==h}),c.fire=c.subscribers.reduce(a,l)}};return e[o]=n[o]=c,c}de(u=o).forEach(function(h){var d=u[h];if(ye(d))i(h,u[h][0],u[h][1]);else{if(d!=="asap")throw new q.InvalidArgument("Invalid event config");var f=i(h,on,function(){for(var b=arguments.length,p=new Array(b);b--;)p[b]=arguments[b];f.subscribers.forEach(function(v){bo(function(){v.apply(null,p)})})})}})}}function qt(t,e){return Pt(e).from({prototype:t}),e}function St(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function $r(t,e){t.filter=vt(t.filter,e)}function Sr(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>vt(r(),e()):e,t.justLimit=n&&!r}function Kn(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new q.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function ii(t,e,n){const r=Kn(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function kn(t,e,n,r){const s=t.replayFilter?vt(t.filter,t.replayFilter()):t.filter;if(t.or){const i={},o=(a,l,u)=>{if(!s||s(l,u,d=>l.stop(d),d=>l.fail(d))){var c=l.primaryKey,h=""+c;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(c)),Re(i,h)||(i[h]=!0,e(a,l,u))}};return Promise.all([t.or._iterate(o,n),oi(ii(t,r,n),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}return oi(ii(t,r,n),vt(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function oi(t,e,n,r){var s=oe(r?(i,o,a)=>n(r(i),o,a):n);return t.then(i=>{if(i)return i.start(()=>{var o=()=>i.continue();e&&!e(i,a=>o=a,a=>{i.stop(a),o=te},a=>{i.fail(a),o=te})||s(i.value,i,a=>o=a),o()})})}function Se(t,e){try{const n=ai(t),r=ai(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,i){const o=s.length,a=i.length,l=o<a?o:a;for(let u=0;u<l;++u)if(s[u]!==i[u])return s[u]<i[u]?-1:1;return o===a?0:o<a?-1:1}(li(t),li(e));case"Array":return function(s,i){const o=s.length,a=i.length,l=o<a?o:a;for(let u=0;u<l;++u){const c=Se(s[u],i[u]);if(c!==0)return c}return o===a?0:o<a?-1:1}(t,e)}}catch{}return NaN}function ai(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=Gr(t);return n==="ArrayBuffer"?"binary":n}function li(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class Ac{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,pe.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,pe.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=vt(n.algorithm,e)}_iterate(e,n){return kn(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&ke(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>kn(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,s=r.table.core;if(St(r,!0))return s.count({trans:n,query:{index:Kn(r,s.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var i=0;return kn(r,()=>(++i,!1),n,s).then(()=>i)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),s=r[0],i=r.length-1;function o(u,c){return c?o(u[r[c]],c-1):u[s]}var a=this._ctx.dir==="next"?1:-1;function l(u,c){var h=o(u,i),d=o(c,i);return h<d?-a:h>d?a:0}return this.toArray(function(u){return u.sort(l)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&St(r,!0)&&r.limit>0){const{valueMapper:s}=r,i=Kn(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:o})=>s?o.map(s):o)}{const s=[];return kn(r,i=>s.push(i),n,r.table.core).then(()=>s)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,St(n)?Sr(n,()=>{var r=e;return(s,i)=>r===0||(r===1?(--r,!1):(i(()=>{s.advance(r),r=0}),!1))}):Sr(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Sr(this._ctx,()=>{var n=e;return function(r,s,i){return--n<=0&&s(i),n>=0}},!0),this}until(e,n){return $r(this._ctx,function(r,s,i){return!e(r.value)||(s(i),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return $r(this._ctx,function(s){return e(s.value)}),n=this._ctx,r=e,n.isMatch=vt(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.primaryKey,s)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&St(n,!0)&&n.limit>0)return this._read(s=>{var i=Kn(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:s})=>s).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return $r(this._ctx,function(s){var i=s.primaryKey.toString(),o=Re(r,i);return r[i]=!0,!o}),this}modify(e){var n=this._ctx;return this._write(r=>{var s;if(typeof e=="function")s=e;else{var i=de(e),o=i.length;s=function(p){for(var v=!1,g=0;g<o;++g){var m=i[g],w=e[m];ze(p,m)!==w&&(Ie(p,m,w),v=!0)}return v}}const a=n.table.core,{outbound:l,extractKey:u}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,h=[];let d=0;const f=[],b=(p,v)=>{const{failures:g,numFailures:m}=v;d+=p-m;for(let w of de(g))h.push(g[w])};return this.clone().primaryKeys().then(p=>{const v=g=>{const m=Math.min(c,p.length-g);return a.getMany({trans:r,keys:p.slice(g,g+m),cache:"immutable"}).then(w=>{const $=[],x=[],E=l?[]:null,C=[];for(let k=0;k<m;++k){const L=w[k],B={value:pn(L),primKey:p[g+k]};s.call(B,B.value,B)!==!1&&(B.value==null?C.push(p[g+k]):l||Se(u(L),u(B.value))===0?(x.push(B.value),l&&E.push(p[g+k])):(C.push(p[g+k]),$.push(B.value)))}const D=St(n)&&n.limit===1/0&&(typeof e!="function"||e===xr)&&{index:n.index,range:n.range};return Promise.resolve($.length>0&&a.mutate({trans:r,type:"add",values:$}).then(k=>{for(let L in k.failures)C.splice(parseInt(L),1);b($.length,k)})).then(()=>(x.length>0||D&&typeof e=="object")&&a.mutate({trans:r,type:"put",keys:E,values:x,criteria:D,changeSpec:typeof e!="function"&&e}).then(k=>b(x.length,k))).then(()=>(C.length>0||D&&e===xr)&&a.mutate({trans:r,type:"delete",keys:C,criteria:D}).then(k=>b(C.length,k))).then(()=>p.length>g+m&&v(g+c))})};return v(0).then(()=>{if(h.length>0)throw new Jn("Error modifying one or more objects",h,d,f);return p.length})})})}delete(){var e=this._ctx,n=e.range;return St(e)&&(e.isPrimKey&&!Ec||n.type===3)?this._write(r=>{const{primaryKey:s}=e.table.core.schema,i=n;return e.table.core.count({trans:r,query:{index:s,range:i}}).then(o=>e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:a,lastResult:l,results:u,numFailures:c})=>{if(c)throw new Jn("Could not delete some values",Object.keys(a).map(h=>a[h]),o-c);return o-c}))}):this.modify(xr)}}const xr=(t,e)=>e.value=null;function Oc(t,e){return t<e?-1:t===e?0:1}function Rc(t,e){return t>e?-1:t===e?0:1}function Pe(t,e,n){var r=t instanceof Mo?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function xt(t){return new t.Collection(t,()=>Fo("")).limit(0)}function Bc(t,e,n,r,s,i){for(var o=Math.min(t.length,r.length),a=-1,l=0;l<o;++l){var u=e[l];if(u!==r[l])return s(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):s(t[l],r[l])<0?t.substr(0,l)+r[l]+n.substr(l+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;s(t[l],u)<0&&(a=l)}return o<r.length&&i==="next"?t+n.substr(t.length):o<t.length&&i==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function Cn(t,e,n,r){var s,i,o,a,l,u,c,h=n.length;if(!n.every(p=>typeof p=="string"))return Pe(t,Do);function d(p){s=function(g){return g==="next"?m=>m.toUpperCase():m=>m.toLowerCase()}(p),i=function(g){return g==="next"?m=>m.toLowerCase():m=>m.toUpperCase()}(p),o=p==="next"?Oc:Rc;var v=n.map(function(g){return{lower:i(g),upper:s(g)}}).sort(function(g,m){return o(g.lower,m.lower)});a=v.map(function(g){return g.upper}),l=v.map(function(g){return g.lower}),u=p,c=p==="next"?"":r}d("next");var f=new t.Collection(t,()=>Je(a[0],l[h-1]+r));f._ondirectionchange=function(p){d(p)};var b=0;return f._addAlgorithm(function(p,v,g){var m=p.key;if(typeof m!="string")return!1;var w=i(m);if(e(w,l,b))return!0;for(var $=null,x=b;x<h;++x){var E=Bc(m,w,a[x],l[x],o,u);E===null&&$===null?b=x+1:($===null||o($,E)>0)&&($=E)}return v($!==null?function(){p.continue($+c)}:g),!1}),f}function Je(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function Fo(t){return{type:1,lower:t,upper:t}}class Mo{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||s)&&(!r||!s)?xt(this):new this.Collection(this,()=>Je(e,n,!r,!s))}catch{return Pe(this,Ke)}}equals(e){return e==null?Pe(this,Ke):new this.Collection(this,()=>Fo(e))}above(e){return e==null?Pe(this,Ke):new this.Collection(this,()=>Je(e,void 0,!0))}aboveOrEqual(e){return e==null?Pe(this,Ke):new this.Collection(this,()=>Je(e,void 0,!1))}below(e){return e==null?Pe(this,Ke):new this.Collection(this,()=>Je(void 0,e,!1,!0))}belowOrEqual(e){return e==null?Pe(this,Ke):new this.Collection(this,()=>Je(void 0,e))}startsWith(e){return typeof e!="string"?Pe(this,Do):this.between(e,e+ut,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):Cn(this,(n,r)=>n.indexOf(r[0])===0,[e],ut)}equalsIgnoreCase(e){return Cn(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=qe.apply(kt,arguments);return e.length===0?xt(this):Cn(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=qe.apply(kt,arguments);return e.length===0?xt(this):Cn(this,(n,r)=>r.some(s=>n.indexOf(s)===0),e,ut)}anyOf(){const e=qe.apply(kt,arguments);let n=this._cmp;try{e.sort(n)}catch{return Pe(this,Ke)}if(e.length===0)return xt(this);const r=new this.Collection(this,()=>Je(e[0],e[e.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,e.sort(n)};let s=0;return r._addAlgorithm((i,o,a)=>{const l=i.key;for(;n(l,e[s])>0;)if(++s,s===e.length)return o(a),!1;return n(l,e[s])===0||(o(()=>{i.continue(e[s])}),!1)}),r}notEqual(e){return this.inAnyRange([[as,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=qe.apply(kt,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Pe(this,Ke)}const n=e.reduce((r,s)=>r?r.concat([[r[r.length-1][1],s]]):[[as,s]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,s=this._ascending,i=this._descending,o=this._min,a=this._max;if(e.length===0)return xt(this);if(!e.every(m=>m[0]!==void 0&&m[1]!==void 0&&s(m[0],m[1])<=0))return Pe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",q.InvalidArgument);const l=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let c,h=s;function d(m,w){return h(m[0],w[0])}try{c=e.reduce(function(m,w){let $=0,x=m.length;for(;$<x;++$){const E=m[$];if(r(w[0],E[1])<0&&r(w[1],E[0])>0){E[0]=o(E[0],w[0]),E[1]=a(E[1],w[1]);break}}return $===x&&m.push(w),m},[]),c.sort(d)}catch{return Pe(this,Ke)}let f=0;const b=u?m=>s(m,c[f][1])>0:m=>s(m,c[f][1])>=0,p=l?m=>i(m,c[f][0])>0:m=>i(m,c[f][0])>=0;let v=b;const g=new this.Collection(this,()=>Je(c[0][0],c[c.length-1][1],!l,!u));return g._ondirectionchange=m=>{m==="next"?(v=b,h=s):(v=p,h=i),c.sort(d)},g._addAlgorithm((m,w,$)=>{for(var x=m.key;v(x);)if(++f,f===c.length)return w($),!1;return!!function(E){return!b(E)&&!p(E)}(x)||(this._cmp(x,c[f][1])===0||this._cmp(x,c[f][0])===0||w(()=>{h===s?m.continue(c[f][0]):m.continue(c[f][1])}),!1)}),g}startsWithAnyOf(){const e=qe.apply(kt,arguments);return e.every(n=>typeof n=="string")?e.length===0?xt(this):this.inAnyRange(e.map(n=>[n,n+ut])):Pe(this,"startsWithAnyOf() only works with strings")}}function Le(t){return oe(function(e){return ln(e),t(e.target.error),!1})}function ln(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const cn="storagemutated",Qe="x-storagemutated-1",st=tn(null,cn);class Ic{_lock(){return Jt(!K.global),++this._reculock,this._reculock!==1||K.global||(K.lockOwnerFor=this),this}_unlock(){if(Jt(!K.global),--this._reculock==0)for(K.global||(K.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Kt(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&K.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Jt(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new q.DatabaseClosed(r);case"MissingAPIError":throw new q.MissingAPI(r.message,r);default:throw new q.OpenFailed(r)}if(!this.active)throw new q.TransactionInactive;return Jt(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=oe(s=>{ln(s),this._reject(e.error)}),e.onabort=oe(s=>{ln(s),this.active&&this._reject(new q.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=oe(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&st.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return pe(new q.ReadOnly("Transaction is readonly"));if(!this.active)return pe(new q.TransactionInactive);if(this._locked())return new I((i,o)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(i,o)},K])});if(r)return nt(()=>{var i=new I((o,a)=>{this._lock();const l=n(o,a,this);l&&l.then&&l.then(o,a)});return i.finally(()=>this._unlock()),i._lib=!0,i});var s=new I((i,o)=>{var a=n(i,o,this);a&&a.then&&a.then(i,o)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=I.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=o)})()}var i=n._waitingFor;return new I((o,a)=>{r.then(l=>n._waitingQueue.push(oe(o.bind(null,l))),l=>n._waitingQueue.push(oe(a.bind(null,l)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new q.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(Re(n,e))return n[e];const r=this.schema[e];if(!r)throw new q.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,r,this);return s.core=this.db.core.table(e),n[e]=s,s}}function ls(t,e,n,r,s,i,o){return{name:t,keyPath:e,unique:n,multi:r,auto:s,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(s?"++":"")+qo(e)}}function qo(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Vo(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:_o(n,r=>[r.name,r])}}let un=t=>{try{return t.only([[]]),un=()=>[[]],[[]]}catch{return un=()=>ut,ut}};function cs(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>ze(r,e)}(t):e=>ze(e,t)}function ci(t){return[].slice.call(t)}let Tc=0;function nn(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function Lc(t,e,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:c,lowerOpen:h,upperOpen:d}=l;return u===void 0?c===void 0?null:e.upperBound(c,!!d):c===void 0?e.lowerBound(u,!!h):e.bound(u,c,!!h,!!d)}const{schema:s,hasGetAll:i}=function(l,u){const c=ci(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(h=>u.objectStore(h)).map(h=>{const{keyPath:d,autoIncrement:f}=h,b=ye(d),p=d==null,v={},g={name:h.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:p,compound:b,keyPath:d,autoIncrement:f,unique:!0,extractKey:cs(d)},indexes:ci(h.indexNames).map(m=>h.index(m)).map(m=>{const{name:w,unique:$,multiEntry:x,keyPath:E}=m,C={name:w,compound:ye(E),keyPath:E,unique:$,multiEntry:x,extractKey:cs(E)};return v[nn(E)]=C,C}),getIndexByKeyPath:m=>v[nn(m)]};return v[":id"]=g.primaryKey,d!=null&&(v[nn(d)]=g.primaryKey),g})},hasGetAll:c.length>0&&"getAll"in u.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),o=s.tables.map(l=>function(u){const c=u.name;return{name:c,schema:u,mutate:function({trans:h,type:d,keys:f,values:b,range:p}){return new Promise((v,g)=>{v=oe(v);const m=h.objectStore(c),w=m.keyPath==null,$=d==="put"||d==="add";if(!$&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:x}=f||b||{length:1};if(f&&b&&f.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(x===0)return v({numFailures:0,failures:{},results:[],lastResult:void 0});let E;const C=[],D=[];let k=0;const L=A=>{++k,ln(A)};if(d==="deleteRange"){if(p.type===4)return v({numFailures:k,failures:D,results:[],lastResult:void 0});p.type===3?C.push(E=m.clear()):C.push(E=m.delete(r(p)))}else{const[A,R]=$?w?[b,f]:[b,null]:[f,null];if($)for(let M=0;M<x;++M)C.push(E=R&&R[M]!==void 0?m[d](A[M],R[M]):m[d](A[M])),E.onerror=L;else for(let M=0;M<x;++M)C.push(E=m[d](A[M])),E.onerror=L}const B=A=>{const R=A.target.result;C.forEach((M,ae)=>M.error!=null&&(D[ae]=M.error)),v({numFailures:k,failures:D,results:d==="delete"?f:C.map(M=>M.result),lastResult:R})};E.onerror=A=>{L(A),B(A)},E.onsuccess=B})},getMany:({trans:h,keys:d})=>new Promise((f,b)=>{f=oe(f);const p=h.objectStore(c),v=d.length,g=new Array(v);let m,w=0,$=0;const x=C=>{const D=C.target;g[D._pos]=D.result,++$===w&&f(g)},E=Le(b);for(let C=0;C<v;++C)d[C]!=null&&(m=p.get(d[C]),m._pos=C,m.onsuccess=x,m.onerror=E,++w);w===0&&f(g)}),get:({trans:h,key:d})=>new Promise((f,b)=>{f=oe(f);const p=h.objectStore(c).get(d);p.onsuccess=v=>f(v.target.result),p.onerror=Le(b)}),query:function(h){return d=>new Promise((f,b)=>{f=oe(f);const{trans:p,values:v,limit:g,query:m}=d,w=g===1/0?void 0:g,{index:$,range:x}=m,E=p.objectStore(c),C=$.isPrimaryKey?E:E.index($.name),D=r(x);if(g===0)return f({result:[]});if(h){const k=v?C.getAll(D,w):C.getAllKeys(D,w);k.onsuccess=L=>f({result:L.target.result}),k.onerror=Le(b)}else{let k=0;const L=v||!("openKeyCursor"in C)?C.openCursor(D):C.openKeyCursor(D),B=[];L.onsuccess=A=>{const R=L.result;return R?(B.push(v?R.value:R.primaryKey),++k===g?f({result:B}):void R.continue()):f({result:B})},L.onerror=Le(b)}})}(i),openCursor:function({trans:h,values:d,query:f,reverse:b,unique:p}){return new Promise((v,g)=>{v=oe(v);const{index:m,range:w}=f,$=h.objectStore(c),x=m.isPrimaryKey?$:$.index(m.name),E=b?p?"prevunique":"prev":p?"nextunique":"next",C=d||!("openKeyCursor"in x)?x.openCursor(r(w),E):x.openKeyCursor(r(w),E);C.onerror=Le(g),C.onsuccess=oe(D=>{const k=C.result;if(!k)return void v(null);k.___id=++Tc,k.done=!1;const L=k.continue.bind(k);let B=k.continuePrimaryKey;B&&(B=B.bind(k));const A=k.advance.bind(k),R=()=>{throw new Error("Cursor not stopped")};k.trans=h,k.stop=k.continue=k.continuePrimaryKey=k.advance=()=>{throw new Error("Cursor not started")},k.fail=oe(g),k.next=function(){let M=1;return this.start(()=>M--?this.continue():this.stop()).then(()=>this)},k.start=M=>{const ae=new Promise((V,z)=>{V=oe(V),C.onerror=Le(z),k.fail=z,k.stop=F=>{k.stop=k.continue=k.continuePrimaryKey=k.advance=R,V(F)}}),N=()=>{if(C.result)try{M()}catch(V){k.fail(V)}else k.done=!0,k.start=()=>{throw new Error("Cursor behind last entry")},k.stop()};return C.onsuccess=oe(V=>{C.onsuccess=N,N()}),k.continue=L,k.continuePrimaryKey=B,k.advance=A,N(),ae},v(k)},g)})},count({query:h,trans:d}){const{index:f,range:b}=h;return new Promise((p,v)=>{const g=d.objectStore(c),m=f.isPrimaryKey?g:g.index(f.name),w=r(b),$=w?m.count(w):m.count();$.onsuccess=oe(x=>p(x.target.result)),$.onerror=Le(v)})}}}(l)),a={};return o.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:t.transaction.bind(t),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:un(e),schema:s}}function us({_novip:t},e){const n=e.db,r=function(s,i,{IDBKeyRange:o,indexedDB:a},l){return{dbcore:function(c,h){return h.reduce((d,{create:f})=>({...d,...f(d)}),c)}(Lc(i,o,l),s.dbcore)}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(s=>{const i=s.name;t.core.schema.tables.some(o=>o.name===i)&&(s.core=t.core.table(i),t[i]instanceof t.Table&&(t[i].core=s.core))})}function tr({_novip:t},e,n,r){n.forEach(s=>{const i=r[s];e.forEach(o=>{const a=As(o,s);(!a||"value"in a&&a.value===void 0)&&(o===t.Transaction.prototype||o instanceof t.Transaction?We(o,s,{get(){return this.table(s)},set(l){vo(this,s,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[s]=new t.Table(s,i))})})}function hs({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function jc(t,e){return t._cfg.version-e._cfg.version}function Dc(t,e,n,r){const s=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,s);i.create(n),i._completion.catch(r);const o=i._reject.bind(i),a=K.transless||K;nt(()=>{K.trans=i,K.transless=a,e===0?(de(s).forEach(l=>{kr(n,l,s[l].primKey,s[l].indexes)}),us(t,n),I.follow(()=>t.on.populate.fire(i)).catch(o)):function({_novip:l},u,c,h){const d=[],f=l._versions;let b=l._dbSchema=fs(l,l.idbdb,h),p=!1;const v=f.filter(m=>m._cfg.version>=u);function g(){return d.length?I.resolve(d.shift()(c.idbtrans)).then(g):I.resolve()}return v.forEach(m=>{d.push(()=>{const w=b,$=m._cfg.dbschema;ps(l,w,h),ps(l,$,h),b=l._dbSchema=$;const x=Uo(w,$);x.add.forEach(C=>{kr(h,C[0],C[1].primKey,C[1].indexes)}),x.change.forEach(C=>{if(C.recreate)throw new q.Upgrade("Not yet support for changing primary key");{const D=h.objectStore(C.name);C.add.forEach(k=>ds(D,k)),C.change.forEach(k=>{D.deleteIndex(k.name),ds(D,k)}),C.del.forEach(k=>D.deleteIndex(k))}});const E=m._cfg.contentUpgrade;if(E&&m._cfg.version>u){us(l,h),c._memoizedTables={},p=!0;let C=wo($);x.del.forEach(B=>{C[B]=w[B]}),hs(l,[l.Transaction.prototype]),tr(l,[l.Transaction.prototype],de(C),C),c.schema=C;const D=Os(E);let k;D&&Nt();const L=I.follow(()=>{if(k=E(c),k&&D){var B=Ye.bind(null,null);k.then(B,B)}});return k&&typeof k.then=="function"?I.resolve(k):L.then(()=>k)}}),d.push(w=>{(!p||!Cc)&&function($,x){[].slice.call(x.db.objectStoreNames).forEach(E=>$[E]==null&&x.db.deleteObjectStore(E))}(m._cfg.dbschema,w),hs(l,[l.Transaction.prototype]),tr(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),g().then(()=>{var m,w;w=h,de(m=b).forEach($=>{w.db.objectStoreNames.contains($)||kr(w,$,m[$].primKey,m[$].indexes)})})}(t,e,i,n).catch(o)})}function Uo(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const s=t[r],i=e[r];if(s){const o={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!ur)o.recreate=!0,n.change.push(o);else{const a=s.idxByName,l=i.idxByName;let u;for(u in a)l[u]||o.del.push(u);for(u in l){const c=a[u],h=l[u];c?c.src!==h.src&&o.change.push(h):o.add.push(h)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,i])}return n}function kr(t,e,n,r){const s=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>ds(s,i)),s}function ds(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function fs(t,e,n){const r={};return Gn(e.objectStoreNames,0).forEach(s=>{const i=n.objectStore(s);let o=i.keyPath;const a=ls(qo(o),o||"",!1,!1,!!i.autoIncrement,o&&typeof o!="string",!0),l=[];for(let c=0;c<i.indexNames.length;++c){const h=i.index(i.indexNames[c]);o=h.keyPath;var u=ls(h.name,o,!!h.unique,!!h.multiEntry,!1,o&&typeof o!="string",!1);l.push(u)}r[s]=Vo(s,a,l)}),r}function ps({_novip:t},e,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const i=r[s],o=n.objectStore(i);t._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const l=o.indexNames[a],u=o.index(l).keyPath,c=typeof u=="string"?u:"["+Gn(u).join("+")+"]";if(e[i]){const h=e[i].idxByName[c];h&&(h.name=l,delete e[i].idxByName[c],e[i].idxByName[l]=h)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&se.WorkerGlobalScope&&se instanceof se.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class Nc{_parseStoresSpec(e,n){de(e).forEach(r=>{if(e[r]!==null){var s=e[r].split(",").map((o,a)=>{const l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return ls(l,u||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),ye(u),a===0)}),i=s.shift();if(i.multi)throw new q.Schema("Primary key cannot be multi-valued");s.forEach(o=>{if(o.auto)throw new q.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new q.Schema("Index must have a name and cannot be an empty string")}),n[r]=Vo(r,i,s)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?ke(this._cfg.storesSource,e):e;const r=n._versions,s={};let i={};return r.forEach(o=>{ke(s,o._cfg.storesSource),i=o._cfg.dbschema={},o._parseStoresSpec(s,i)}),n._dbSchema=i,hs(n,[n._allTables,n,n.Transaction.prototype]),tr(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],de(i),i),n._storeNames=de(i),this}upgrade(e){return this._cfg.contentUpgrade=Is(this._cfg.contentUpgrade||te,e),this}}function Ds(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new pt(hr,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Ns(t){return t&&typeof t.databases=="function"}function ms(t){return nt(function(){return K.letThrough=!0,t()})}function Kc(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function Fc(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?pe(e.dbOpenError):t);je&&(e.openCanceller._stackHolder=bt()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function s(){if(e.openCanceller!==r)throw new q.DatabaseClosed("db.open() was cancelled")}let i=e.dbReadyResolve,o=null,a=!1;return I.race([r,(typeof navigator>"u"?I.resolve():Kc()).then(()=>new I((l,u)=>{if(s(),!n)throw new q.MissingAPI;const c=t.name,h=e.autoSchema?n.open(c):n.open(c,Math.round(10*t.verno));if(!h)throw new q.MissingAPI;h.onerror=Le(u),h.onblocked=oe(t._fireOnBlocked),h.onupgradeneeded=oe(d=>{if(o=h.transaction,e.autoSchema&&!t._options.allowEmptyDB){h.onerror=ln,o.abort(),h.result.close();const b=n.deleteDatabase(c);b.onsuccess=b.onerror=oe(()=>{u(new q.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{o.onerror=Le(u);var f=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;a=f<1,t._novip.idbdb=h.result,Dc(t,f/10,o,u)}},u),h.onsuccess=oe(()=>{o=null;const d=t._novip.idbdb=h.result,f=Gn(d.objectStoreNames);if(f.length>0)try{const p=d.transaction((b=f).length===1?b[0]:b,"readonly");e.autoSchema?function({_novip:v},g,m){v.verno=g.version/10;const w=v._dbSchema=fs(0,g,m);v._storeNames=Gn(g.objectStoreNames,0),tr(v,[v._allTables],de(w),w)}(t,d,p):(ps(t,t._dbSchema,p),function(v,g){const m=Uo(fs(0,v.idbdb,g),v._dbSchema);return!(m.add.length||m.change.some(w=>w.add.length||w.change.length))}(t,p)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),us(t,p)}catch{}var b;en.push(t),d.onversionchange=oe(p=>{e.vcFired=!0,t.on("versionchange").fire(p)}),d.onclose=oe(p=>{t.on("close").fire(p)}),a&&function({indexedDB:p,IDBKeyRange:v},g){!Ns(p)&&g!==hr&&Ds(p,v).put({name:g}).catch(te)}(t._deps,c),l()},u)}))]).then(()=>(s(),e.onReadyBeingFired=[],I.resolve(ms(()=>t.on.ready.fire(t.vip))).then(function l(){if(e.onReadyBeingFired.length>0){let u=e.onReadyBeingFired.reduce(Is,te);return e.onReadyBeingFired=[],I.resolve(ms(()=>u(t.vip))).then(l)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(l=>{e.dbOpenError=l;try{o&&o.abort()}catch{}return r===e.openCanceller&&t._close(),pe(l)}).finally(()=>{e.openComplete=!0,i()})}function gs(t){var e=i=>t.next(i),n=s(e),r=s(i=>t.throw(i));function s(i){return o=>{var a=i(o),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(n,r):ye(l)?Promise.all(l).then(n,r):n(l)}}return s(e)()}function Mc(t,e,n){var r=arguments.length;if(r<2)throw new q.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];return n=s.pop(),[t,$o(s),n]}function Wo(t,e,n,r,s){return I.resolve().then(()=>{const i=K.transless||K,o=t._createTransaction(e,n,t._dbSchema,r),a={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),t._state.PR1398_maxLoop=3}catch(h){return h.name===Bs.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Wo(t,e,n,null,s))):pe(h)}const l=Os(s);let u;l&&Nt();const c=I.follow(()=>{if(u=s.call(o,o),u)if(l){var h=Ye.bind(null,null);u.then(h,h)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=gs(u))},a);return(u&&typeof u.then=="function"?I.resolve(u).then(h=>o.active?h:pe(new q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(h=>(r&&o._resolve(),o._completion.then(()=>h))).catch(h=>(o._reject(h),pe(h)))})}function En(t,e,n){const r=ye(t)?t.slice():[t];for(let s=0;s<n;++s)r.push(e);return r}const qc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,s={},i=[];function o(c,h,d){const f=nn(c),b=s[f]=s[f]||[],p=c==null?0:typeof c=="string"?1:c.length,v=h>0,g={...d,isVirtual:v,keyTail:h,keyLength:p,extractKey:cs(c),unique:!v&&d.unique};return b.push(g),g.isPrimaryKey||i.push(g),p>1&&o(p===2?c[0]:c.slice(0,p-1),h+1,d),b.sort((m,w)=>m.keyTail-w.keyTail),g}const a=o(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[a];for(const c of r.indexes)o(c.keyPath,0,c);function l(c){const h=c.query.index;return h.isVirtual?{...c,query:{index:h,range:(d=c.query.range,f=h.keyTail,{type:d.type===1?2:d.type,lower:En(d.lower,d.lowerOpen?t.MAX_KEY:t.MIN_KEY,f),lowerOpen:!0,upper:En(d.upper,d.upperOpen?t.MIN_KEY:t.MAX_KEY,f),upperOpen:!0})}}:c;var d,f}return{...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(c){const h=s[nn(c)];return h&&h[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:h,isVirtual:d,keyLength:f}=c.query.index;return d?n.openCursor(l(c)).then(b=>b&&function(p){return Object.create(p,{continue:{value:function(g){g!=null?p.continue(En(g,c.reverse?t.MAX_KEY:t.MIN_KEY,h)):c.unique?p.continue(p.key.slice(0,f).concat(c.reverse?t.MIN_KEY:t.MAX_KEY,h)):p.continue()}},continuePrimaryKey:{value(g,m){p.continuePrimaryKey(En(g,t.MAX_KEY,h),m)}},primaryKey:{get:()=>p.primaryKey},key:{get(){const g=p.key;return f===1?g[0]:g.slice(0,f)}},value:{get:()=>p.value}})}(b)):n.openCursor(c)}}}}}};function Ks(t,e,n,r){return n=n||{},r=r||"",de(t).forEach(s=>{if(Re(e,s)){var i=t[s],o=e[s];if(typeof i=="object"&&typeof o=="object"&&i&&o){const a=Gr(i);a!==Gr(o)?n[r+s]=e[s]:a==="Object"?Ks(i,o,n,r+s+"."):i!==o&&(n[r+s]=e[s])}else i!==o&&(n[r+s]=e[s])}else n[r+s]=void 0}),de(e).forEach(s=>{Re(t,s)||(n[r+s]=e[s])}),n}const Vc={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(i){const o=K.trans,{deleting:a,creating:l,updating:u}=o.table(e).hook;switch(i.type){case"add":if(l.fire===te)break;return o._promise("readwrite",()=>c(i),!0);case"put":if(l.fire===te&&u.fire===te)break;return o._promise("readwrite",()=>c(i),!0);case"delete":if(a.fire===te)break;return o._promise("readwrite",()=>c(i),!0);case"deleteRange":if(a.fire===te)break;return o._promise("readwrite",()=>function(d){return h(d.trans,d.range,1e4)}(i),!0)}return n.mutate(i);function c(d){const f=K.trans,b=d.keys||function(p,v){return v.type==="delete"?v.keys:v.keys||v.values.map(p.extractKey)}(r,d);if(!b)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:b}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(p,v,g){return v.type==="add"?Promise.resolve([]):p.getMany({trans:v.trans,keys:g,cache:"immutable"})}(n,d,b).then(p=>{const v=b.map((g,m)=>{const w=p[m],$={onerror:null,onsuccess:null};if(d.type==="delete")a.fire.call($,g,w,f);else if(d.type==="add"||w===void 0){const x=l.fire.call($,g,d.values[m],f);g==null&&x!=null&&(g=x,d.keys[m]=g,r.outbound||Ie(d.values[m],r.keyPath,g))}else{const x=Ks(w,d.values[m]),E=u.fire.call($,x,g,w,f);if(E){const C=d.values[m];Object.keys(E).forEach(D=>{Re(C,D)?C[D]=E[D]:Ie(C,D,E[D])})}}return $});return n.mutate(d).then(({failures:g,results:m,numFailures:w,lastResult:$})=>{for(let x=0;x<b.length;++x){const E=m?m[x]:b[x],C=v[x];E==null?C.onerror&&C.onerror(g[x]):C.onsuccess&&C.onsuccess(d.type==="put"&&p[x]?d.values[x]:E)}return{failures:g,results:m,numFailures:w,lastResult:$}}).catch(g=>(v.forEach(m=>m.onerror&&m.onerror(g)),Promise.reject(g)))})}function h(d,f,b){return n.query({trans:d,values:!1,query:{index:r,range:f},limit:b}).then(({result:p})=>c({type:"delete",keys:p,trans:d}).then(v=>v.numFailures>0?Promise.reject(v.failures[0]):p.length<b?{failures:[],numFailures:0,lastResult:void 0}:h(d,{...f,lower:p[p.length-1],lowerOpen:!0},b)))}}}}})};function zo(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let s=0,i=0;s<e.keys.length&&i<t.length;++s)Se(e.keys[s],t[i])===0&&(r.push(n?pn(e.values[s]):e.values[s]),++i);return r.length===t.length?r:null}catch{return null}}const Uc={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const s=zo(r.keys,r.trans._cache,r.cache==="clone");return s?I.resolve(s):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?pn(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Fs(t){return!("from"in t)}const Me=function(t,e){if(!this){const n=new Me;return t&&"d"in t&&ke(n,t),n}ke(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function hn(t,e,n){const r=Se(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Fs(t))return ke(t,{from:e,to:n,d:1});const s=t.l,i=t.r;if(Se(n,t.from)<0)return s?hn(s,e,n):t.l={from:e,to:n,d:1,l:null,r:null},ui(t);if(Se(e,t.to)>0)return i?hn(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},ui(t);Se(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),Se(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const o=!t.r;s&&!t.l&&nr(t,s),i&&o&&nr(t,i)}function nr(t,e){Fs(e)||function n(r,{from:s,to:i,l:o,r:a}){hn(r,s,i),o&&n(r,o),a&&n(r,a)}(t,e)}function Wc(t,e){const n=vs(e);let r=n.next();if(r.done)return!1;let s=r.value;const i=vs(t);let o=i.next(s.from),a=o.value;for(;!r.done&&!o.done;){if(Se(a.from,s.to)<=0&&Se(a.to,s.from)>=0)return!0;Se(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}function vs(t){let e=Fs(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&Se(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||Se(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function ui(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const i=s==="r"?"l":"r",o={...t},a=t[s];t.from=a.from,t.to=a.to,t[s]=a[s],o[s]=a[i],t[i]=o,o.d=hi(o)}t.d=hi(t)}function hi({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Tt(Me.prototype,{add(t){return nr(this,t),this},addKey(t){return hn(this,t,t),this},addKeys(t){return t.forEach(e=>hn(this,e,e)),this},[Jr](){return vs(this)}});const zc={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new Me(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const s=t.table(r),{schema:i}=s,{primaryKey:o}=i,{extractKey:a,outbound:l}=o,u={...s,mutate:d=>{const f=d.trans,b=f.mutatedParts||(f.mutatedParts={}),p=E=>{const C=`idb://${e}/${r}/${E}`;return b[C]||(b[C]=new Me)},v=p(""),g=p(":dels"),{type:m}=d;let[w,$]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const x=d.trans._cache;return s.mutate(d).then(E=>{if(ye(w)){m!=="delete"&&(w=E.results),v.addKeys(w);const C=zo(w,x);C||m==="add"||g.addKeys(w),(C||$)&&function(D,k,L,B){function A(R){const M=D(R.name||"");function ae(V){return V!=null?R.extractKey(V):null}const N=V=>R.multiEntry&&ye(V)?V.forEach(z=>M.addKey(z)):M.addKey(V);(L||B).forEach((V,z)=>{const F=L&&ae(L[z]),re=B&&ae(B[z]);Se(F,re)!==0&&(F!=null&&N(F),re!=null&&N(re))})}k.indexes.forEach(A)}(p,i,C,$)}else if(w){const C={from:w.lower,to:w.upper};g.add(C),v.add(C)}else v.add(n),g.add(n),i.indexes.forEach(C=>p(C.name).add(n));return E})}},c=({query:{index:d,range:f}})=>{var b,p;return[d,new Me((b=f.lower)!==null&&b!==void 0?b:t.MIN_KEY,(p=f.upper)!==null&&p!==void 0?p:t.MAX_KEY)]},h={get:d=>[o,new Me(d.key)],getMany:d=>[o,new Me().addKeys(d.keys)],count:c,query:c,openCursor:c};return de(h).forEach(d=>{u[d]=function(f){const{subscr:b}=K;if(b){const p=$=>{const x=`idb://${e}/${r}/${$}`;return b[x]||(b[x]=new Me)},v=p(""),g=p(":dels"),[m,w]=h[d](f);if(p(m.name||"").add(w),!m.isPrimaryKey){if(d!=="count"){const $=d==="query"&&l&&f.values&&s.query({...f,values:!1});return s[d].apply(this,arguments).then(x=>{if(d==="query"){if(l&&f.values)return $.then(({result:C})=>(v.addKeys(C),x));const E=f.values?x.result.map(a):x.result;f.values?v.addKeys(E):g.addKeys(E)}else if(d==="openCursor"){const E=x,C=f.values;return E&&Object.create(E,{key:{get:()=>(g.addKey(E.primaryKey),E.key)},primaryKey:{get(){const D=E.primaryKey;return g.addKey(D),D}},value:{get:()=>(C&&v.addKey(E.primaryKey),E.value)}})}return x})}g.add(n)}}return s[d].apply(this,arguments)}}),u}}}};class pt{constructor(e,n){this._middlewares={},this.verno=0;const r=pt.dependencies;this._options=n={addons:pt.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:s}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:te,dbReadyPromise:null,cancelOpen:te,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new I(a=>{i.dbReadyResolve=a}),i.openCanceller=new I((a,l)=>{i.cancelOpen=l}),this._state=i,this.name=e,this.on=tn(this,"populate","blocked","versionchange","close",{ready:[Is,te]}),this.on.ready.subscribe=yo(this.on.ready.subscribe,a=>(l,u)=>{pt.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||I.resolve().then(l),u&&a(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),u&&a(l);else{a(l);const h=this;u||a(function d(){h.on.ready.unsubscribe(l),h.on.ready.unsubscribe(d)})}})}),this.Collection=(o=this,qt(Ac.prototype,function(a,l){this.db=o;let u=Ko,c=null;if(l)try{u=l()}catch(b){c=b}const h=a._ctx,d=h.table,f=d.hook.reading.fire;this._ctx={table:d,index:h.index,isPrimKey:!h.index||d.schema.primKey.keyPath&&h.index===d.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:h.or,valueMapper:f!==on?f:null}})),this.Table=function(a){return qt(Pc.prototype,function(l,u,c){this.db=a,this._tx=c,this.name=l,this.schema=u,this.hook=a._allTables[l]?a._allTables[l].hook:tn(null,{creating:[gc,te],reading:[mc,on],updating:[yc,te],deleting:[vc,te]})})}(this),this.Transaction=function(a){return qt(Ic.prototype,function(l,u,c,h,d){this.db=a,this.mode=l,this.storeNames=u,this.schema=c,this.chromeTransactionDurability=h,this.idbtrans=null,this.on=tn(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new I((f,b)=>{this._resolve=f,this._reject=b}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},f=>{var b=this.active;return this.active=!1,this.on.error.fire(f),this.parent?this.parent._reject(f):b&&this.idbtrans&&this.idbtrans.abort(),pe(f)})})}(this),this.Version=function(a){return qt(Nc.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return qt(Mo.prototype,function(l,u,c){this.db=a,this._ctx={table:l,index:u===":id"?null:u,or:c};const h=a._deps.indexedDB;if(!h)throw new q.MissingAPI;this._cmp=this._ascending=h.cmp.bind(h),this._descending=(d,f)=>h.cmp(f,d),this._max=(d,f)=>h.cmp(d,f)>0?d:f,this._min=(d,f)=>h.cmp(d,f)<0?d:f,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=un(n.IDBKeyRange),this._createTransaction=(a,l,u,c)=>new this.Transaction(a,l,u,this._options.chromeTransactionDurability,c),this._fireOnBlocked=a=>{this.on("blocked").fire(a),en.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(qc),this.use(Vc),this.use(zc),this.use(Uc),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new q.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(s=>s._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(jc),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||K.letThrough||this._vip)?e():new I((n,r)=>{if(this._state.openComplete)return r(new q.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new q.DatabaseClosed);this.open().catch(te)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:s}){s&&this.unuse({stack:e,name:s});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:r??10,name:s}),i.sort((o,a)=>o.level-a.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>r?s.create!==r:!!n&&s.name!==n)),this}open(){return Fc(this)}_close(){const e=this._state,n=en.indexOf(this);if(n>=0&&en.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new I(r=>{e.dbReadyResolve=r}),e.openCanceller=new I((r,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new q.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new I((r,s)=>{const i=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=oe(()=>{(function({indexedDB:a,IDBKeyRange:l},u){!Ns(a)&&u!==hr&&Ds(a,l).delete(u).catch(te)})(this._deps,this.name),r()}),o.onerror=Le(s),o.onblocked=this._fireOnBlocked};if(e)throw new q.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return de(this._allTables).map(e=>this._allTables[e])}transaction(){const e=Mc.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let s=K.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const i=e.indexOf("?")!==-1;let o,a;e=e.replace("!","").replace("?","");try{if(a=n.map(u=>{var c=u instanceof this.Table?u.name:u;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e===_r)o=_r;else{if(e!="rw"&&e!=wr)throw new q.InvalidArgument("Invalid transaction mode: "+e);o=wr}if(s){if(s.mode===_r&&o===wr){if(!i)throw new q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&a.forEach(u=>{if(s&&s.storeNames.indexOf(u)===-1){if(!i)throw new q.SubTransaction("Table "+u+" not included in parent transaction.");s=null}}),i&&s&&!s.active&&(s=null)}}catch(u){return s?s._promise(null,(c,h)=>{h(u)}):pe(u)}const l=Wo.bind(null,this,o,a,s,r);return s?s._promise(o,l,"lock"):K.trans?Kt(K.transless,()=>this._whenReady(l)):this._whenReady(l)}table(e){if(!Re(this._allTables,e))throw new q.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Hc=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Yc{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[Hc](){return this}}function Ho(t,e){return de(e).forEach(n=>{nr(t[n]||(t[n]=new Me),e[n])}),t}function Gc(t){let e,n=!1;const r=new Yc(s=>{const i=Os(t);let o=!1,a={},l={};const u={get closed(){return o},unsubscribe:()=>{o=!0,st.storagemutated.unsubscribe(f)}};s.start&&s.start(u);let c=!1,h=!1;function d(){return de(l).some(p=>a[p]&&Wc(a[p],l[p]))}const f=p=>{Ho(a,p),d()&&b()},b=()=>{if(c||o)return;a={};const p={},v=function(g){i&&Nt();const m=()=>nt(t,{subscr:g,trans:null}),w=K.trans?Kt(K.transless,m):m();return i&&w.then(Ye,Ye),w}(p);h||(st(cn,f),h=!0),c=!0,Promise.resolve(v).then(g=>{n=!0,e=g,c=!1,o||(d()?b():(a={},l=p,s.next&&s.next(g)))},g=>{c=!1,n=!1,s.error&&s.error(g),u.unsubscribe()})};return b(),u});return r.hasValue=()=>n,r.getValue=()=>e,r}let ys;try{ys={indexedDB:se.indexedDB||se.mozIndexedDB||se.webkitIndexedDB||se.msIndexedDB,IDBKeyRange:se.IDBKeyRange||se.webkitIDBKeyRange}}catch{ys={indexedDB:null,IDBKeyRange:null}}const it=pt;function Fn(t){let e=Ve;try{Ve=!0,st.storagemutated.fire(t)}finally{Ve=e}}Tt(it,{...Tn,delete:t=>new it(t,{addons:[]}).delete(),exists:t=>new it(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return Ns(e)?Promise.resolve(e.databases()).then(r=>r.map(s=>s.name).filter(s=>s!==hr)):Ds(e,n).toCollection().primaryKeys()}(it.dependencies).then(t)}catch{return pe(new q.MissingAPI)}},defineClass:()=>function(t){ke(this,t)},ignoreTransaction:t=>K.trans?Kt(K.transless,t):t(),vip:ms,async:function(t){return function(){try{var e=gs(t.apply(this,arguments));return e&&typeof e.then=="function"?e:I.resolve(e)}catch(n){return pe(n)}}},spawn:function(t,e,n){try{var r=gs(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:I.resolve(r)}catch(s){return pe(s)}},currentTransaction:{get:()=>K.trans||null},waitFor:function(t,e){const n=I.resolve(typeof t=="function"?it.ignoreTransaction(t):t).timeout(e||6e4);return K.trans?K.trans.waitFor(n):n},Promise:I,debug:{get:()=>je,set:t=>{xo(t,t==="dexie"?()=>!0:No)}},derive:Pt,extend:ke,props:Tt,override:yo,Events:tn,on:st,liveQuery:Gc,extendObservabilitySet:Ho,getByKeyPath:ze,setByKeyPath:Ie,delByKeyPath:function(t,e){typeof e=="string"?Ie(t,e,void 0):"length"in e&&[].map.call(e,function(n){Ie(t,n,void 0)})},shallowClone:wo,deepClone:pn,getObjectDiff:Ks,cmp:Se,asap:bo,minKey:as,addons:[],connections:en,errnames:Bs,dependencies:ys,semVer:si,version:si.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),it.maxKey=un(it.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(st(cn,t=>{if(!Ve){let e;ur?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Qe,!0,!0,t)):e=new CustomEvent(Qe,{detail:t}),Ve=!0,dispatchEvent(e),Ve=!1}}),addEventListener(Qe,({detail:t})=>{Ve||Fn(t)}));let Ve=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(Qe);typeof t.unref=="function"&&t.unref(),st(cn,e=>{Ve||t.postMessage(e)}),t.onmessage=e=>{e.data&&Fn(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){st(cn,e=>{try{Ve||(typeof localStorage<"u"&&localStorage.setItem(Qe,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Qe,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===Qe){const n=JSON.parse(e.newValue);n&&Fn(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===Qe&&Fn(e.changedParts)})}I.rejectionMapper=function(t,e){if(!t||t instanceof At||t instanceof TypeError||t instanceof SyntaxError||!t.name||!ei[t.name])return t;var n=new ei[t.name](e||t.message,t);return"stack"in t&&We(n,"stack",{get:function(){return this.inner.stack}}),n},xo(je,No);class Yo extends pt{spells;classes;races;backgrounds;items;feats;constructor(e){super(e),this.version(1).stores({spells:"name",classes:"name",races:"name",backgrounds:"name",items:"name",feats:"name"})}}const Be=new Yo("dndSrd"),[di,Jc]=T([]);function Go(){const t=W.toObservable(Be.classes.toArray());return di().length===0&&t.pipe(H(1),ie(e=>e.length>0?Z(e):Z([])),ie(e=>e.length===0?W.post("/api/DnDInfo/Classes",{}).pipe(H(1),Ae(n=>(console.error("Error: ",n),Z(null))),fe(n=>{n&&Be.classes.bulkAdd(n)})):Z(e)),fe(e=>e&&e.length>0?Jc(e):null)).subscribe(),di}const Xc="_primary_1a8rj_1",Qc="_accent_1a8rj_12",Zc="_tertiary_1a8rj_65",eu="_warn_1a8rj_70",tu="_hover_1a8rj_74",nu="_popup_1a8rj_88",ru="_table_1a8rj_100",ot={primary:Xc,accent:Qc,tertiary:Zc,warn:eu,hover:tu,popup:nu,table:ru},su="_primary_hhp2e_1",iu="_accent_hhp2e_7",ou="_warn_hhp2e_13",au="_hover_hhp2e_17",lu="_popup_hhp2e_28",cu="_table_hhp2e_41",uu="_tBody_hhp2e_55",hu="_THead_hhp2e_60",at={primary:su,accent:iu,warn:ou,hover:au,popup:lu,table:cu,tBody:uu,THead:hu},du={primary:at.primary,accent:at.accent,tertiary:at.tertiary,warn:at.warn,hover:at.hover,popup:at.popup,table:at.table},fi={primary:ot.primary,accent:ot.accent,tertiary:ot.tertiary,warn:ot.warn,hover:ot.hover,popup:ot.popup,table:ot.table};function ne(t="dark"){switch(t.toLowerCase()){case"light":return du;case"dark":return document.body.style.backgroundColor="#212121",fi;default:return fi}}const[pi,fu]=T([]);function Jo(){const t=W.toObservable(Be.spells.toArray());return pi().length===0&&t.pipe(H(1),ie(e=>e.length>0?Z(e):Z([])),ie(e=>e.length===0?W.post("/api/DnDInfo/Spells",{}).pipe(H(1),Ae(n=>(console.error("Error: ",n),Z(null))),fe(n=>{n&&Be.spells.bulkAdd(n)})):Z(e)),fe(e=>e&&e.length>0?fu(e):null)).subscribe(),pi}const[mi,pu]=T([]);function Xo(){const t=W.toObservable(Be.feats.toArray());return mi().length===0&&t.pipe(H(1),ie(e=>e.length>0?Z(e):Z([])),ie(e=>e.length===0?W.post("/api/DnDInfo/Feats",{}).pipe(H(1),Ae(n=>(console.error("Error: ",n),Z(null))),fe(n=>{n&&Be.feats.bulkAdd(n)})):Z(e)),fe(e=>e&&e.length>0?pu(e):null)).subscribe(),mi}const[gi,mu]=T([]);function Qo(){const t=W.toObservable(Be.races.toArray());return gi().length===0&&t.pipe(H(1),ie(e=>e.length>0?Z(e):Z([])),ie(e=>e.length===0?W.post("/api/DnDInfo/Races",{}).pipe(H(1),Ae(n=>(console.error("Error: ",n),Z(null))),fe(n=>{n&&Be.races.bulkAdd(n)})):Z(e)),fe(e=>e&&e.length>0?mu(e):null)).subscribe(),gi}const[vi,gu]=T([]);function Zo(){const t=W.toObservable(Be.backgrounds.toArray());return vi().length===0&&t.pipe(H(1),ie(e=>e.length>0?Z(e):Z([])),ie(e=>e.length===0?W.post("/api/DnDInfo/Backgrounds",{}).pipe(H(1),Ae(n=>(console.error("Error: ",n),Z(null))),fe(n=>{n&&Be.backgrounds.bulkAdd(n)})):Z(e)),fe(e=>e&&e.length>0?gu(e):null)).subscribe(),vi}const[yi,vu]=T([]);function yu(){const t=W.toObservable(Be.items.toArray());return yi().length===0&&t.pipe(H(1),ie(e=>e.length>0?Z(e):Z([])),ie(e=>e.length===0?W.post("/api/DnDInfo/Items",{}).pipe(H(1),Ae(n=>(console.error("Error: ",n),Z(null))),fe(n=>{n&&Be.items.bulkAdd(n)})):Z(e)),fe(e=>e&&e.length>0?vu(e):null)).subscribe(),yi}const bu="_AppBody_1ckpc_1",_u={AppBody:bu};function wu(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l;const u=async(h=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(a=await rr(()=>import("./workbox-window.prod.es5-HOwwy-x7.js"),__vite__mapDeps([])).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o?.(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r?.()}),a.register({immediate:e}).then(h=>{i?i("/sw.js",h):s?.(h)}).catch(h=>{o?.(h)})}}return l=c(),u}function ea(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t,[a,l]=T(!1),[u,c]=T(!1),h=wu({immediate:e,onOfflineReady(){c(!0),r?.()},onNeedRefresh(){l(!0),n?.()},onRegistered:s,onRegisteredSW:i,onRegisterError:o});return{needRefresh:[a,l],offlineReady:[u,c],updateServiceWorker:h}}const $u="_Container_8liaz_1",Su="_Toast_8liaz_15",xu="_ToastMessage_8liaz_43",ku="_ToastButton_8liaz_51",Vt={Container:$u,Toast:Su,ToastMessage:xu,ToastButton:ku};var Cu=S("<span>App ready to work offline"),Eu=S("<button>Reload"),Pu=S("<div><div></div><button>Close"),Au=S("<div>"),Ou=S("<span>New content available, click on reload button to update.");const Ru=()=>{const{offlineReady:[t,e],needRefresh:[n,r],updateServiceWorker:s}=ea({onRegistered(o){console.log("SW Registered: ",o)},onRegisterError(o){console.log("SW registration error",o)}}),i=()=>{e(!1),r(!1)};return(()=>{var o=Au();return y(o,_(j,{get when(){return t()||n()},get children(){var a=Pu(),l=a.firstChild,u=l.nextSibling;return y(l,_(j,{get fallback(){return Ou()},get when(){return t()},get children(){return Cu()}})),y(a,_(j,{get when(){return n()},get children(){var c=Eu();return c.$$click=()=>s(!0),P(()=>O(c,Vt.ToastButton)),c}}),u),u.$$click=()=>i(),P(c=>{var h=Vt.Toast,d=Vt.Message,f=Vt.ToastButton;return h!==c.e&&O(a,c.e=h),d!==c.t&&O(l,c.t=d),f!==c.a&&O(u,c.a=f),c},{e:void 0,t:void 0,a:void 0}),a}})),P(()=>O(o,Vt.Container)),o})()};Ee(["click"]);const Bu="_header_q7g3p_1",Iu="_body_q7g3p_17",Tu="_totalPanel_q7g3p_22",Cr={header:Bu,body:Iu,totalPanel:Tu};var Lu=S("<div>"),ju=S("<div><div><span></span><span>");const dn=t=>{const[e,n]=T(!1),r=ne();return(()=>{var s=ju(),i=s.firstChild,o=i.firstChild,a=o.nextSibling;return xs(s,rn({get class(){return`${Cr.totalPanel} ${t.styles}`}},t),!1,!0),y(o,()=>t.children[0]),a.$$click=()=>n(l=>!l),y(a,_(j,{get when(){return!e()},children:""}),null),y(a,_(j,{get when(){return e()},children:""}),null),y(s,_(j,{get when(){return e()},get children(){var l=Lu();return y(l,()=>t.children[1]),P(()=>O(l,`${r.accent} ${Cr.body}`)),l}}),null),P(l=>{var u=`${r.accent} ${Cr.header}`,c=`${r.hover}`;return u!==l.e&&O(i,l.e=u),c!==l.t&&O(a,l.t=c),l},{e:void 0,t:void 0}),s})()};Ee(["click"]);var Du=S("<div>Welcome to my app. This is a work in progress."),Nu=S("<div>It'll be great eventually."),Ku=S("<div><h1>Home</h1><div>");const Fu=()=>{const t=ne();return Go(),Jo(),Xo(),Qo(),yu(),Zo(),(()=>{var e=Ku(),n=e.firstChild,r=n.nextSibling;return r.style.setProperty("width","30%"),y(r,_(dn,{get children(){return[Du(),(()=>{var s=Nu();return s.style.setProperty("padding","15px"),s})()]}})),y(e,_(Ru,{}),null),P(()=>O(e,`${t.accent} ${_u.AppBody}`)),e})()},Mu="_active_8eb29_1",qu="_inactive_8eb29_6",Vu="_navbar_8eb29_11",Ut={active:Mu,inactive:qu,navbar:Vu};var Mn=(t=>(t[t.DnD5e=0]="DnD5e",t[t.TOValient=1]="TOValient",t))(Mn||{});function Uu(t){const[e,n]=T([]),r=Mn.DnD5e;return P(()=>{switch(!0){case t().startsWith("/info"):const s=[{Name:"All",Link:"/info"},{Name:"Races",Link:"/info/races"},{Name:"Items",Link:"/info/items"},{Name:"Spells",Link:"/info/spells"},{Name:"Feats",Link:"/info/feats"},{Name:"Classes",Link:"/info/classes"}];r===Mn.DnD5e?s.push({Name:"Backgrounds",Link:"/info/backgrounds"}):r===Mn.TOValient&&s.push({Name:"Heritages",Link:"/info/heritages"}),n(s);break;case t().startsWith("/characters"):n([{Name:"All",Link:"/characters"},{Name:"View",Link:"/characters/view"},{Name:"Create",Link:"/characters/create"}]);break;case t().startsWith("/homebrew"):n([{Name:"All",Link:"/homebrew"},{Name:"View",Link:"/homebrew/view"},{Name:"Create",Link:"/homebrew/create"}]);break;default:n([]);break}}),e}function Wu(t,e){const n=document.getElementById("root"),r=s=>!t.contains(s.target)&&e()?.();n.addEventListener("click",r),Rt(()=>{n.removeEventListener("click",r)})}var zu=S("<div>");const Hu=t=>{const e=ne(),[n,r]=t.backgroundClick??T(!0);return _(Ua,{get children(){var s=zu();return Da(Wu,s,()=>()=>r(i=>!i)),y(s,()=>t.children),P(i=>{var o=t.width,a=t.height,l=`translate(${t.translate.x??"-50%"},${t.translate.y??"-50%"})`,u=`${e.popup} ${e.primary}`;return o!==i.e&&((i.e=o)!=null?s.style.setProperty("width",o):s.style.removeProperty("width")),a!==i.t&&((i.t=a)!=null?s.style.setProperty("height",a):s.style.removeProperty("height")),l!==i.a&&((i.a=l)!=null?s.style.setProperty("transform",l):s.style.removeProperty("transform")),u!==i.o&&O(s,i.o=u),i},{e:void 0,t:void 0,a:void 0,o:void 0}),s}})},Yu="_menuButton_frhu5_1",Gu="_menuButtons_frhu5_10",bi={menuButton:Yu,menuButtons:Gu};var Ju=S('<button type=button><svg width=32pt height=32pt version=1.1 viewBox="0 0 128 128"xmlns=http://www.w3.org/2000/svg><path d="m113.15 40.062c4.9922 0 8.5742-3.5859 8.5742-8.4492s-3.5859-8.7031-8.5742-8.7031h-98.176c-4.8633 0-8.7031 3.8398-8.7031 8.7031s3.8398 8.4492 8.7031 8.4492zm-98.176 47.875c-4.8633 0-8.7031 3.8398-8.7031 8.5742s3.8398 8.7031 8.7031 8.7031h98.305c4.9922 0 8.5742-3.9688 8.5742-8.7031s-3.5859-8.5742-8.5742-8.5742zm0-32.641c-4.8633 0-8.7031 3.8398-8.7031 8.7031s3.8398 8.7031 8.7031 8.7031h98.305c4.9922 0 8.5742-3.8398 8.5742-8.7031s-3.5859-8.7031-8.5742-8.7031z"></path></svg>'),Xu=S("<ul>"),Qu=S("<li><button>");const Zu=()=>{const[t,e]=T(!1),n=ne(),[r,s]=T(!1),i=[{name:"Login",condition:()=>!r(),action:()=>{s(!0)}},{name:"Register",condition:()=>!r(),action:()=>{}},{name:"Logout",condition:r,action:()=>{s(!1)}},{name:"Profile",condition:r,action:()=>{}},{name:"Settings",condition:()=>!0,action:()=>{}}];return[(()=>{var o=Ju();return o.$$click=()=>e(a=>!a),P(()=>O(o,`${n.accent} ${n.hover}`)),o})(),_(j,{get when(){return t()},get children(){return _(Hu,{width:"10%",height:"25%",translate:{x:"36vw",y:"-40vh"},backgroundClick:[t,e],get children(){var o=Xu();return y(o,_(U,{each:i,children:a=>_(j,{get when(){return a.condition()},get children(){var l=Qu(),u=l.firstChild;return lr(u,"click",a.action,!0),y(u,()=>a.name),P(c=>{var h=`${100/i.filter(b=>b.condition()).length}%`,d=`${n.hover}`,f=`${n.accent} ${bi.menuButton}`;return h!==c.e&&((c.e=h)!=null?l.style.setProperty("height",h):l.style.removeProperty("height")),d!==c.t&&O(l,c.t=d),f!==c.a&&O(u,c.a=f),c},{e:void 0,t:void 0,a:void 0}),l}})})),P(()=>O(o,`${bi.menuButtons}`)),o}})}})]};Ee(["click"]);var eh=S("<span>MySite"),th=S("<li><div>MySite"),nh=S("<div><ul>"),rh=S("<div><div><ul>"),sh=S("<button>"),_i=S("<li>");const ih=t=>{const e=ne();T(!1);const[n,r]=T(window.location.pathname),s=[{Name:"Home",Link:"/"},{Name:"Characters",Link:"/characters"},{Name:"Info",Link:"/info"},{Name:"Homebrew",Link:"/homebrew"}];let i=Uu(n);const[o,a]=t.list,[l,u]=T(!1);return P(()=>{u(!o())}),(()=>{var c=rh(),h=c.firstChild,d=h.firstChild;return y(h,_(j,{get when(){return!o()},get children(){return eh()}}),d),y(d,_(j,{get when(){return o()},get children(){return th()}}),null),y(d,_(U,{each:s,children:(f,b)=>_(j,{get when(){return!o()||b()===0||l()},get children(){var p=_i();return y(p,_(Gs,{onClick:()=>r(f.Link),get href(){return f.Link},get children(){return f.Name}}),null),y(p,_(j,{get when(){return J(()=>!!o())()&&b()===0},get children(){var v=sh();return v.$$click=()=>u(!l()),v.style.setProperty("background","none"),v.style.setProperty("color","white"),v.style.setProperty("font-size","1.5rem"),v.style.setProperty("padding","0 10px"),v.style.setProperty("width","min-content"),v.style.setProperty("margin-right","0"),y(v,()=>l()?"":""),v}}),null),P(()=>O(p,`${e.hover} ${n()==="/"&&f.Link==="/"||n().startsWith(f.Link)&&n()!=="/"&&f.Link!=="/"?Ut.active:Ut.inactive}`)),p}})}),null),y(h,_(Zu,{}),null),y(c,_(j,{get when(){return i().length>0},get children(){var f=nh(),b=f.firstChild;return y(b,_(U,{get each(){return i()},children:p=>(()=>{var v=_i();return y(v,_(Gs,{onClick:()=>r(p.Link),get href(){return p.Link},get children(){return p.Name}})),P(()=>O(v,`${e.hover} ${n()===p.Link?Ut.active:Ut.inactive}`)),v})()})),P(()=>O(f,t.style)),f}}),null),P(f=>{var b=Ut.navbar,p=o()?{margin:"0 auto",width:"100%"}:{},v=`${t.style}`,g=o()?{margin:"0 auto",width:"min-content"}:{};return b!==f.e&&O(c,f.e=b),f.t=Kr(h,p,f.t),v!==f.a&&O(h,f.a=v),f.o=Kr(d,g,f.o),f},{e:void 0,t:void 0,a:void 0,o:void 0}),c})()};Ee(["click"]);var oh=S("<div><h1>Homebrew");const ah=()=>{const t=ne();return(()=>{var e=oh();return P(()=>O(e,`${t.accent}`)),e})()},lh="_sidebar_kzjue_1",ch="_body_kzjue_27",uh="_bodyMenu_kzjue_48",bs={sidebar:lh,body:ch,bodyMenu:uh};var hh=S("<div><ul>"),dh=S("<li><a>");const _t=()=>{const t=ne(),[e,n]=T([]);return n([{Name:"Classes",Link:"/homebrew/create/classes"},{Name:"Race",Link:"/homebrew/create/races"},{Name:"Backgrounds",Link:"/homebrew/create/backgrounds"},{Name:"Feats",Link:"/homebrew/create/feats"},{Name:"Spell",Link:"/homebrew/create/spells"},{Name:"Items",Link:"/homebrew/create/items"}]),(()=>{var r=hh(),s=r.firstChild;return y(s,_(U,{get each(){return e()},children:i=>(()=>{var o=dh(),a=o.firstChild;return y(a,()=>i.Name),P(l=>{var u=`${t.hover}`,c=i.Link;return u!==l.e&&O(o,l.e=u),c!==l.t&&tt(a,"href",l.t=c),l},{e:void 0,t:void 0}),o})()})),P(()=>O(r,`${t.accent} ${bs.sidebar}`)),r})()};var fh=S("<div><h1>Create</h1><div>"),ph=S("<a><div><p>"),mh=S("<div>");const gh=()=>{const t=ne(),e=[{name:"Classes"},{name:"Races"},{name:"Backgrounds"},{name:"Feats"},{name:"Spells"},{name:"Items"}],[n,r]=T(e);return[_(_t,{}),(()=>{var s=fh(),i=s.firstChild,o=i.nextSibling;return y(o,_(U,{get each(){return n()},children:(a,l)=>[(()=>{var u=ph(),c=u.firstChild,h=c.firstChild;return y(h,()=>a.name),P(d=>{var f=`${t.accent}`,b=`/homebrew/create/${a.name.toLowerCase()}`,p=`${t.hover}`;return f!==d.e&&O(u,d.e=f),b!==d.t&&tt(u,"href",d.t=b),p!==d.a&&O(c,d.a=p),d},{e:void 0,t:void 0,a:void 0}),u})(),_(j,{get when(){return l()===2},get children(){var u=mh();return u.style.setProperty("height","0"),u.style.setProperty("flex-basis","100%"),u}})]})),P(a=>{var l=`${t.accent} ${bs.body}`,u=`${bs.bodyMenu} `;return l!==a.e&&O(s,a.e=l),u!==a.t&&O(o,a.t=u),a},{e:void 0,t:void 0}),s})()]};var vh=S("<div><h1>View");const yh=()=>{const t=ne();return(()=>{var e=vh();return P(()=>O(e,`${t.accent}`)),e})()},bh="_body_p2t3d_1",_h={body:bh};var wh=S("<div><h1>classes");const $h=()=>{const t=ne();return[_(_t,{}),(()=>{var e=wh();return P(()=>O(e,`${t.accent} ${_h.body}`)),e})()]},Sh="_body_p2t3d_1",xh={body:Sh};var kh=S("<div><h1>items");const Ch=()=>{const t=ne();return[_(_t,{}),(()=>{var e=kh();return P(()=>O(e,`${t.accent} ${xh.body}`)),e})()]},Eh="_body_1vcxj_1",Ph="_name_1vcxj_22",Ah="_featHomebrew_1vcxj_26",Oh="_featName_1vcxj_1",Rh="_removeChipButton_1vcxj_40",Bh="_preRequisites_1vcxj_47",Ih="_Description_1vcxj_61",Th="_chipBar_1vcxj_75",lt={body:Eh,name:Ph,featHomebrew:Ah,featName:Oh,removeChipButton:Rh,preRequisites:Bh,Description:Ih,chipBar:Th},ta=()=>{const t=Go();return J(()=>[...t()])},Q=new Yo("homebrew"),[wi,Lh]=T([]),na=()=>{const t=Xo(),e=W.toObservable(Q.feats.toArray());return wi().length===0&&e.pipe(H(1),fe(r=>{r.length>0&&Lh(r)})).subscribe(),J(()=>[...t(),...wi()])};class jh{classes;setClasses;homebrewClasses$=W.toObservable(Q.classes.toArray());items;setItems;homebrewItems$=W.toObservable(Q.items.toArray());feats;setFeats;homebrewFeats$=W.toObservable(Q.feats.toArray());spells;setSpells;homebrewSpells$=W.toObservable(Q.spells.toArray());backgrounds;setBackgrounds;homebrewBackgrounds$=W.toObservable(Q.backgrounds.toArray());races;setRaces;homebrewRaces$=W.toObservable(Q.races.toArray());constructor(e=[],n=[],r=[],s=[],i=[],o=[]){[this.classes,this.setClasses]=T(e),[this.items,this.setItems]=T(n),[this.feats,this.setFeats]=T(r),[this.spells,this.setSpells]=T(s),[this.backgrounds,this.setBackgrounds]=T(i),[this.races,this.setRaces]=T(o),this.homebrewClasses$.pipe(H(1),fe(a=>this.setClasses(l=>[...l,...a]))).subscribe(),this.homebrewItems$.pipe(H(1),fe(a=>this.setItems(l=>[...l,...a]))).subscribe(),this.homebrewFeats$.pipe(H(1),fe(a=>this.setFeats(l=>[...l,...a]))).subscribe(),this.homebrewSpells$.pipe(H(1),fe(a=>this.setSpells(l=>[...l,...a]))).subscribe(),this.homebrewBackgrounds$.pipe(H(1),fe(a=>this.setBackgrounds(l=>[...l,...a]))).subscribe(),this.homebrewRaces$.pipe(H(1),fe(a=>this.setRaces(l=>[...l,...a]))).subscribe()}addClass=e=>{this.classes().findIndex(n=>n.name===e.name)===-1&&(this.setClasses(n=>[...n,e]),this.addClassToDB(e).subscribe())};addClassToDB=e=>W.toObservable(Q.classes.add(e)).pipe(H(1),Ae(n=>(console.error("Failed to add class to LocalDb",n),Z(null))));updateClass(e){const n=this.classes().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.classes();r[n]=e,this.setClasses([...r])}updateClassesInDB=()=>{this.homebrewClasses$.pipe(H(1),ie(e=>W.toObservable(Q.classes.bulkPut(this.classes())))).subscribe()};removeClass=e=>{const n=this.classes().findIndex(s=>s.name===e);if(n===-1)return;const r=this.classes();r.splice(n,1),this.setClasses([...r]),W.toObservable(Q.classes.clear()).pipe(H(1),ie(()=>W.toObservable(Q.classes.bulkAdd(this.classes())))).subscribe()};addItem=e=>{this.items().findIndex(n=>n.name===e.name)===-1&&(this.setItems(n=>[...n,e]),this.addItemToDB(e).subscribe())};addItemToDB=e=>W.toObservable(Q.items.add(e)).pipe(H(1),Ae(n=>(console.error("Failed to add item to LocalDb",n),Z(null))));updateItem=e=>{const n=this.items().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.items();r[n]=e,this.setItems([...r])};updateItemsInDB=()=>{this.homebrewItems$.pipe(H(1),ie(e=>W.toObservable(Q.items.bulkPut(this.items())))).subscribe()};removeItem=e=>{const n=this.items().findIndex(s=>s.name===e);if(n===-1)return;const r=this.items();r.splice(n,1),this.setItems([...r]),W.toObservable(Q.items.clear()).pipe(H(1),ie(()=>W.toObservable(Q.items.bulkAdd(this.items())))).subscribe()};addFeat=e=>{this.feats().findIndex(n=>n.name===e.name)===-1&&(this.setFeats(n=>[...n,e]),this.addFeatToDB(e).subscribe())};addFeatToDB=e=>W.toObservable(Q.feats.add(e)).pipe(H(1),Ae(n=>(console.error("Failed to add feat to LocalDb",n),Z(null))));updateFeat=e=>{const n=this.feats().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.feats();r[n]=e,this.setFeats([...r])};updateFeatsInDB=()=>{this.homebrewFeats$.pipe(H(1),ie(e=>W.toObservable(Q.feats.bulkPut(this.feats())))).subscribe()};removeFeat=e=>{const n=this.feats().findIndex(s=>s.name===e);if(n===-1)return;const r=this.feats();r.splice(n,1),this.setFeats([...r]),W.toObservable(Q.feats.clear()).pipe(H(1),ie(()=>W.toObservable(Q.feats.bulkAdd(this.feats())))).subscribe()};addSpell=e=>{this.spells().findIndex(n=>n.name===e.name)===-1&&(this.setSpells(n=>[...n,e]),this.addSpellToDB(e).subscribe())};addSpellToDB=e=>W.toObservable(Q.spells.add(e)).pipe(H(1),Ae(n=>(console.error("Failed to add spell to LocalDb",n),Z(null))));updateSpell=e=>{const n=this.spells().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.spells();r[n]=e,this.setSpells([...r])};updateSpellsInDB=()=>{this.homebrewSpells$.pipe(H(1),ie(e=>W.toObservable(Q.spells.bulkPut(this.spells())))).subscribe()};removeSpell=e=>{const n=this.spells().findIndex(s=>s.name===e);if(n===-1)return;const r=this.spells();r.splice(n,1),this.setSpells([...r]),W.toObservable(Q.spells.clear()).pipe(H(1),ie(()=>W.toObservable(Q.spells.bulkAdd(this.spells())))).subscribe()};addBackground=e=>{this.backgrounds().findIndex(n=>n.name===e.name)===-1&&(this.setBackgrounds(n=>[...n,e]),this.addBackgroundToDB(e).subscribe())};addBackgroundToDB=e=>W.toObservable(Q.backgrounds.add(e)).pipe(H(1),Ae(n=>(console.error("Failed to add background to LocalDb",n),Z(null))));updateBackground=e=>{const n=this.backgrounds().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.backgrounds();r[n]=e,this.setBackgrounds([...r]),this.updateBackgroundsInDB()};updateBackgroundsInDB=()=>{this.homebrewBackgrounds$.pipe(H(1),ie(e=>W.toObservable(Q.backgrounds.bulkPut(this.backgrounds())))).subscribe()};removeBackground=e=>{const n=this.backgrounds().findIndex(s=>s.name===e);if(n===-1)return;const r=this.backgrounds();r.splice(n,1),this.setBackgrounds([...r]),W.toObservable(Q.backgrounds.clear()).pipe(H(1),ie(()=>W.toObservable(Q.backgrounds.bulkAdd(this.backgrounds())))).subscribe()};addRace=e=>{this.races().findIndex(n=>n.name===e.name)===-1&&(this.setRaces(n=>[...n,e]),this.addRaceToDB(e).subscribe())};addRaceToDB=e=>W.toObservable(Q.races.add(e)).pipe(H(1),Ae(n=>(console.error("Failed to add race to db",n),Z(null))));updateRace=e=>{const n=this.races().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.races();r[n]=e,this.setRaces([...r]),this.updateRacesInDB().subscribe()};updateRacesInDB=()=>this.homebrewRaces$.pipe(H(1),ie(e=>W.toObservable(Q.races.bulkPut(this.races()))));removeRace=e=>{const n=this.races().findIndex(s=>s.name===e);if(n===-1)return;const r=this.races().splice(n,1);this.setRaces([...r]),W.toObservable(Q.races.clear()).pipe(H(1),ie(()=>W.toObservable(Q.races.bulkAdd(this.races())))).subscribe()}}var Dh=S("<div><select><option value=STR>Strength</option><option value=DEX>Dexterity</option><option value=CON>Constitution</option><option value=INT>Intelligence</option><option value=WIS>Wisdom</option><option value=CHA>Charisma</option></select><input type=number>"),Nh=S("<div><select>"),Kh=S("<div><select></select><input type=number>"),Fh=S("<div>"),Mh=S("<div><h1>Feats</h1><div class=featHomebrew><div><h2>Add Name</h2><input type=text id=featName></div><div><h2>Add Pre-Requisites</h2><div><select><option>Ability Score</option><option>Class</option><option>Class Level</option><option>Classes</option></select><button>Add</button></div><div><span> : </span></div></div><div><h2>Description</h2><textarea id=featDescription name=featDescription></textarea></div><button>Add Feat"),$i=S("<option>"),qh=S("<span> : <!> <button>X"),Ze=(t=>(t[t.AbilityScore=0]="AbilityScore",t[t.Class=1]="Class",t[t.CharacterLevel=2]="CharacterLevel",t[t.ClassArray=3]="ClassArray",t))(Ze||{});const Vh=()=>{const t=ne(),e=ta();na();const n=new jh,r=new Dl({}),[s,i]=T([]),[o,a]=T(0),[l,u]=T(""),[c,h]=T("str"),[d,f]=T("0"),[b,p]=T(""),[v,g]=T(!1),m=()=>{i([]),a(0),u(""),h("str"),f("0"),p("")},w=$=>{switch(o()){case 0:i(x=>[...x,{info:{className:"",subclassName:"",level:0,type:Ze[0],other:""},name:c(),value:d()}]);break;case 1:i(x=>[...x,{info:{className:"",subclassName:"",level:0,type:Ze[1],other:""},name:c(),value:d()}]);break;case 2:i(x=>[...x,{info:{className:"",subclassName:"",level:0,type:Ze[2],other:""},name:c(),value:d()}]);break}};return P(()=>{switch(o()){case 0:h("STR"),f("0");break;case 1:h("Class"),f("Barbarian");break;case 2:h("Barbarian"),f("0");break;case 3:h(""),f("");break}}),P(()=>{const $={};$.name=l(),$.preReqs=s(),$.desc=[b()],r.next($)}),P(()=>{v()&&(n.addFeat(r.value),g(!1),m())}),[_(_t,{}),(()=>{var $=Mh(),x=$.firstChild,E=x.nextSibling,C=E.firstChild,D=C.firstChild,k=D.nextSibling,L=C.nextSibling,B=L.firstChild,A=B.nextSibling,R=A.firstChild,M=R.firstChild,ae=M.nextSibling,N=ae.nextSibling,V=N.nextSibling,z=R.nextSibling,F=A.nextSibling,re=F.firstChild,_e=re.firstChild,we=L.nextSibling,le=we.firstChild,De=le.nextSibling,Ft=we.nextSibling;return k.addEventListener("change",Y=>u(Y.currentTarget.value)),R.addEventListener("change",Y=>a(()=>+Y.currentTarget.value)),y(A,_(Yn,{get children(){return[_(Oe,{get when(){return o()===0},get children(){var Y=Dh(),Ce=Y.firstChild,ge=Ce.nextSibling;return Ce.addEventListener("change",he=>h(he.currentTarget.value)),ge.addEventListener("change",he=>f(he.currentTarget.value)),Y}}),_(Oe,{get when(){return o()===1},get children(){var Y=Nh(),Ce=Y.firstChild;return Ce.addEventListener("change",ge=>{h("Class"),f(ge.currentTarget.value)}),y(Ce,_(U,{get each(){return e()},children:ge=>(()=>{var he=$i();return y(he,()=>ge.name),P(()=>he.value=ge.name),he})()})),Y}}),_(Oe,{get when(){return o()===2},get children(){var Y=Kh(),Ce=Y.firstChild,ge=Ce.nextSibling;return Ce.addEventListener("change",he=>h(he.currentTarget.value)),y(Ce,_(U,{get each(){return e()},children:he=>(()=>{var Ne=$i();return y(Ne,()=>he.name),P(()=>Ne.value=he.name),Ne})()})),ge.addEventListener("change",he=>f(he.currentTarget.value)),Y}}),_(Oe,{get when(){return o()===3},get children(){return Fh()}})]}}),z),z.$$click=w,y(re,c,_e),y(re,d,null),y(F,_(U,{get each(){return s()},children:(Y,Ce)=>(()=>{var ge=qh(),he=ge.firstChild,Ne=he.nextSibling,vn=Ne.nextSibling,Mt=vn.nextSibling;return y(ge,()=>Y.name,he),y(ge,()=>Y.value,Ne),Mt.$$click=()=>i(Te=>Te.filter((wt,yn)=>yn!==Ce())),P(Te=>{var wt=`${t.tertiary}`,yn=`${t.hover} ${lt.removeChipButton}`;return wt!==Te.e&&O(ge,Te.e=wt),yn!==Te.t&&O(Mt,Te.t=yn),Te},{e:void 0,t:void 0}),ge})()}),null),De.addEventListener("change",Y=>p(Y.currentTarget.value)),Ft.$$click=()=>g(!0),P(Y=>{var Ce=`${t.accent} ${lt.body}`,ge=`${lt.name}`,he=`${lt.preRequisites}`,Ne=s().length>=10,vn=`${lt.chipBar}`,Mt=`${t.tertiary}`,Te=`${lt.Description}`,wt=`${lt.addButton}`;return Ce!==Y.e&&O($,Y.e=Ce),ge!==Y.t&&O(C,Y.t=ge),he!==Y.a&&O(L,Y.a=he),Ne!==Y.o&&(z.disabled=Y.o=Ne),vn!==Y.i&&O(F,Y.i=vn),Mt!==Y.n&&O(re,Y.n=Mt),Te!==Y.s&&O(we,Y.s=Te),wt!==Y.h&&O(Ft,Y.h=wt),Y},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),P(()=>k.value=l()),P(()=>R.value=o()),P(()=>M.value=0),P(()=>ae.value=1),P(()=>N.value=2),P(()=>V.value=3),P(()=>De.value=b()),$})()]};Ee(["click"]);const Uh="_body_p2t3d_1",Wh={body:Uh};var zh=S("<div><h1>backgrounds");const Hh=()=>{const t=ne();return[_(_t,{}),(()=>{var e=zh();return P(()=>O(e,`${t.accent} ${Wh.body}`)),e})()]},Yh="_body_p2t3d_1",Gh={body:Yh};var Jh=S("<div><h1>spells");const Xh=()=>{const t=ne();return[_(_t,{}),(()=>{var e=Jh();return P(()=>O(e,`${t.accent} ${Gh.body}`)),e})()]},Qh="_body_p2t3d_1",Zh={body:Qh};var ed=S("<div><h1>races");const td=()=>{const t=ne();return[_(_t,{}),(()=>{var e=ed();return P(()=>O(e,`${t.accent} ${Zh.body}`)),e})()]},nd="_SpellsBody_ump1u_1",rd="_materials_needed_ump1u_1",sd="_TableRow_ump1u_32",id="_headerBar_ump1u_64",Er={SpellsBody:nd,materials_needed:rd,TableRow:sd,headerBar:id},od="_TableRow_41syk_1",ad={TableRow:od};var ld=S("<td><strong>Materials:</strong> "),cd=S("<td><strong>higher levels:"),ud=S("<td><textarea></textarea>"),hd=S("<tr><td><h2><strong></strong></h2></td><td><strong>Level:</strong> </td><td><strong>School:</strong> </td><td><strong>Casting time:</strong> </td><td><strong>Range:</strong> </td><td><strong>Components:</strong> </td><td><strong>Duration:</strong> </td><td><strong>Classes:</strong> </td><td><strong>Subclasses:</strong> </td><td><strong>Description:</strong></td><td><textarea name=spell_desc>");const dd=t=>{const e=t.spell.isMaterial,n=t.spell.isSomatic,r=t.spell.isVerbal;function s(){let o=[],a=[];return r&&o.push("V"),n&&o.push("S"),e&&o.push("M"),a.push(o.join(", ")),e&&a.push(t.spell.materials_Needed),a}let i=s();return(()=>{var o=hd(),a=o.firstChild,l=a.firstChild,u=l.firstChild,c=a.nextSibling,h=c.firstChild;h.nextSibling;var d=c.nextSibling,f=d.firstChild;f.nextSibling;var b=d.nextSibling,p=b.firstChild;p.nextSibling;var v=b.nextSibling,g=v.firstChild;g.nextSibling;var m=v.nextSibling,w=m.firstChild;w.nextSibling;var $=m.nextSibling,x=$.firstChild;x.nextSibling;var E=$.nextSibling,C=E.firstChild;C.nextSibling;var D=E.nextSibling,k=D.firstChild;k.nextSibling;var L=D.nextSibling,B=L.nextSibling,A=B.firstChild;return y(u,()=>t.spell.name),y(c,()=>t.spell.level,null),y(d,()=>t.spell.school,null),y(b,()=>t.spell.castingTime,null),y(v,()=>t.spell.range,null),y(m,()=>i[0],null),y(o,_(j,{when:e,get children(){var R=ld(),M=R.firstChild;return M.nextSibling,y(R,()=>i[1],null),R}}),$),y($,()=>t.spell.duration,null),y(E,()=>t.spell.classes.join(", "),null),y(D,()=>t.spell.subClasses.join(", "),null),y(A,()=>t.spell.desc),y(o,_(j,{get when(){return!!t.spell.higherLevel},get children(){return cd()}}),null),y(o,_(j,{get when(){return!!t.spell.higherLevel},get children(){var R=ud(),M=R.firstChild;return y(M,()=>t.spell.higherLevel),R}}),null),P(()=>O(o,`${ad.TableRow}`)),o})()};var fd=S("<div><button></button><button></button><select></select><span> / </span><button></button><button>"),pd=S("<option>");const ra=t=>{const[e,n]=T(1),[r,s]=T(10),i=t.setPaginatedItems,o=ne(),a=J(()=>t.items().slice((e()-1)*r(),e()*r())),l=J(()=>Math.ceil(t.items().length/r())),u=[10,20,50,100];return P(()=>{i(a())}),(()=>{var c=fd(),h=c.firstChild,d=h.nextSibling,f=d.nextSibling,b=f.nextSibling,p=b.firstChild,v=b.nextSibling,g=v.nextSibling;return h.$$click=()=>n(1),d.$$click=()=>n(e()-1),f.addEventListener("change",m=>s(+m.currentTarget.value)),y(f,_(U,{each:u,children:m=>(()=>{var w=pd();return w.value=m,y(w,m),w})()})),y(b,e,p),y(b,l,null),v.$$click=()=>n(e()+1),g.$$click=()=>n(l()),P(m=>{var w=`${o.accent} `,$=e()===1,x=e()===1,E=e()===l(),C=e()===l();return w!==m.e&&O(c,m.e=w),$!==m.t&&(h.disabled=m.t=$),x!==m.a&&(d.disabled=m.a=x),E!==m.o&&(v.disabled=m.o=E),C!==m.i&&(g.disabled=m.i=C),m},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),c})()};Ee(["click"]);const md="_chip_1bifh_1",gd={chip:md};var vd=S("<span> : <!> <button>x");const yd=t=>{const e=ne();return(()=>{var n=vd(),r=n.firstChild,s=r.nextSibling,i=s.nextSibling,o=i.nextSibling;return y(n,()=>t.key,r),y(n,()=>t.value,s),lr(o,"click",t.clear,!0),P(()=>O(n,`${e.tertiary} ${gd.chip}`)),n})()};Ee(["click"]);const bd="_searchBar_176b5_1",_d="_booleanSelect_176b5_39",wd="_chipBar_176b5_67",Pr={searchBar:bd,booleanSelect:_d,chipBar:wd};var $d=S("<button>Clear All");const Sd=t=>{const e=ne();return(()=>{var n=$d();return lr(n,"click",t.clear,!0),P(()=>O(n,`${e.accent}`)),n})()};Ee(["click"]);function Ar(t){return t.replace(/[_-]/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}var xd=S("<select>"),kd=S("<select><option value=0>0</option><option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option><option value=7>7</option><option value=8>8</option><option value=9>9"),Si=S('<input id=searchBar placeholder="Search Spells..."type=text>'),Cd=S("<div id=booleanBar><span><label for=falsebox></label><input type=checkbox id=booleanCheckbox>"),Ed=S("<div>"),Pd=S("<div><div><span><select id=chipDropdown>"),xi=S("<option>"),Ad=S('<svg><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z">');const Od=t=>{const[e,n]=T({key:"",value:""}),[r,s]=T("name"),[i,o]=T(""),[a,l]=T(!1),[u,c]=T([]);T(!1),ne(),document.getElementById("booleanCheckbox");const h=["Abjuration","Conjuration","Divination","Enchantment","Evocation","Illusion","Necromancy","Transmutation"];P(()=>{t.setSearchResults(t.spellsSrd().filter(f=>f&&u().length>0?!u().map(p=>{const v=f[p.key];if(v)switch(!0){case typeof v=="string":return v.toLowerCase().includes(p.value.toLowerCase());case Array.isArray(v):return v.join(" ").toLowerCase().includes(p.value.toLowerCase());case typeof v=="boolean":return` ${v} `.toLowerCase().includes(p.value.toLowerCase())}return!1}).includes(!1):!0))}),P(()=>{typeof t.spellsSrd()[0][r()]=="boolean"&&o(`${a()}`)}),P(()=>{c(f=>e().key?[...f,e()]:f),o(""),document.getElementById("searchBar")&&(document.getElementById("searchBar").value="")});const d=f=>{switch(f){case"name":return"Name";case"level":return"Level";case"school":return"School";case"castingTime":return"Casting Time";case"range":return"Range";case"duration":return"Duration";case"concentration":return"Conc";case"ritual":return"Ritual";case"damageType":return"Dmg Type";case"isMaterial":return"Material";case"isSomatic":return"Somatic";case"isVerbal":return"Verbal";case"classes":return"Classes";case"desc":return"Desc";case"subClasses":return"Subclasses"}};return(()=>{var f=Pd(),b=f.firstChild,p=b.firstChild,v=p.firstChild;return y(b,_(Rd,{onClick:()=>n(g=>({key:r(),value:Ar(i())}))}),p),v.addEventListener("change",g=>s(g.target.value)),y(v,_(U,{get each(){return Object.keys(t.spellsSrd()[0]).filter(g=>!["materials_Needed","higherLevel","page"].includes(g))},children:g=>(()=>{var m=xi();return m.value=g,y(m,()=>d(g)),m})()})),y(b,_(Yn,{get children(){return[_(Oe,{get when(){return typeof t.spellsSrd()[0][r()]=="string"},get children(){return _(Yn,{get fallback(){return(()=>{var g=Si();return g.$$keydown=m=>{m.key==="Enter"&&n(w=>({key:r(),value:Ar(m.currentTarget.value)}))},g.addEventListener("change",m=>o(m.currentTarget.value)),P(()=>g.value=i()),g})()},get children(){return[_(Oe,{get when(){return r()==="school"},get children(){var g=xd();return g.addEventListener("change",m=>o(m.currentTarget.value)),y(g,_(U,{each:h,children:m=>(()=>{var w=xi();return w.value=m,y(w,m),w})()})),g}}),_(Oe,{get when(){return r()==="level"},get children(){var g=kd();return g.addEventListener("change",m=>o(m.currentTarget.value)),g}})]}})}}),_(Oe,{get when(){return Array.isArray(t.spellsSrd()[0][r()])},get children(){var g=Si();return g.$$keydown=m=>{m.key==="Enter"&&n(w=>({key:r(),value:Ar(m.currentTarget.value)}))},g.addEventListener("change",m=>o(m.currentTarget.value)),P(()=>g.value=i()),g}}),_(Oe,{get when(){return typeof t.spellsSrd()[0][r()]=="boolean"},get children(){var g=Cd(),m=g.firstChild,w=m.firstChild,$=w.nextSibling;return y(w,_(j,{get when(){return a()===!1},children:"false"}),null),y(w,_(j,{get when(){return a()===!0},children:"true"}),null),$.addEventListener("change",()=>{l(!a()),o(`${a()}`)}),P(()=>O(g,`${Pr.booleanSelect}`)),P(()=>$.checked=a()),g}})]}}),null),y(f,_(j,{get when(){return u().length>0},get children(){var g=Ed();return y(g,_(Sd,{clear:()=>c([])}),null),y(g,_(U,{get each(){return u()},children:(m,w)=>_(yd,{get key(){return d(m.key)??""},get value(){return m.value},clear:()=>c($=>$.filter((x,E)=>E!==w()))})}),null),P(()=>O(g,`${Pr.chipBar}`)),g}}),null),P(()=>O(b,`${Pr.searchBar}`)),f})()},Rd=t=>(()=>{var e=Ad();return xs(e,rn(t,{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 50 50"}),!0,!0),e})();Ee(["keydown"]);const Bd=()=>{const t=Jo();return J(()=>[...t()])};var Id=S("<div><h1>Spells</h1><table><tbody></tbody></table><div>"),Td=S("<span><i>"),Ld=S("<tr><td><span><span></span><span><i></i></span></span><span></span></td><td><button>"),jd=S("<hr>");const Dd=()=>{const t=ne(),e=Bd(),[n,r]=T([]),[s,i]=T([]),[o,a]=T([]),l=h=>u(h)?r(n().filter(d=>d!==h)):r([...n(),h]),u=h=>n().includes(h),c=h=>{switch(h){case"0":return"Cantrip";case"1":return"1st";case"2":return"2nd";case"3":return"3rd";default:return`${h}th`}};return(()=>{var h=Id(),d=h.firstChild,f=d.nextSibling,b=f.firstChild,p=f.nextSibling;return y(h,_(Od,{searchResults:o,setSearchResults:a,spellsSrd:e}),f),y(b,_(U,{get each(){return s()},children:(v,g)=>[(()=>{var m=Ld(),w=m.firstChild,$=w.firstChild,x=$.firstChild,E=x.nextSibling,C=E.firstChild,D=$.nextSibling,k=w.nextSibling,L=k.firstChild;return y(x,()=>v.name),y(C,()=>v.school),y($,_(j,{get when(){return v.concentration},get children(){var B=Td(),A=B.firstChild;return y(A,()=>v.duration),B}}),null),y(D,()=>c(v.level)),L.$$click=()=>l(g()),y(L,()=>u(g())?"":""),P(B=>{var A=`${Er.TableRow}`,R=Er.headerBar;return A!==B.e&&O(m,B.e=A),R!==B.t&&O(w,B.t=R),B},{e:void 0,t:void 0}),m})(),_(j,{get when(){return u(g())},get children(){return _(dd,{spell:v})}}),jd()]})),y(p,_(ra,{items:o,setPaginatedItems:i})),P(v=>{var g=`${t.accent} ${Er.SpellsBody}`,m=`${t.table}`;return g!==v.e&&O(h,v.e=g),m!==v.t&&O(f,v.t=m),v},{e:void 0,t:void 0}),h})()};Ee(["click"]);const Nd="_featsList_1hcnd_1",Kd="_PreReqsBar_1hcnd_17",Fd="_body_1hcnd_29",Or={featsList:Nd,PreReqsBar:Kd,body:Fd},Md="_featSearch_qhpg9_1",qd={featSearch:Md};var Vd=S('<div><input id=FeatSearchBar type=text placeholder="Search Feats...">');const Ud=t=>{const[e,n]=T("");return P(()=>{t.setSearchRes(t.items().filter(r=>{if(r)return r.name.toLowerCase().includes(e().toLowerCase())}))}),(()=>{var r=Vd(),s=r.firstChild;return s.addEventListener("change",i=>n(i.currentTarget.value)),P(()=>O(r,qd.featSearch)),P(()=>s.value=e()),r})()};var Wd=S("<div><div><h1>Feats</h1><ol>"),zd=S("<li> <button></button>"),ki=S("<div>"),Ci=S("<br>"),Hd=S("<div>Description:"),Rr=S("<span>"),Yd=S("<div>Ability Score Requirement: "),Gd=S("<span> of "),Jd=S("<div>Class Requirement:"),Xd=S("<div>class level Requirement:"),Qd=S("<span> "),Zd=S("<div>classes Requirement:");const ef=()=>{const[t,e]=T([]),[n,r]=T([]),[s,i]=T([]),o=c=>s().includes(c),a=c=>o(c)?i(s().filter(h=>h!==c)):i([...s(),c]),l=ne(),u=na();return(()=>{var c=Wd(),h=c.firstChild,d=h.firstChild,f=d.nextSibling;return y(h,_(Ud,{items:u,setSearchRes:r}),f),y(f,_(U,{get each(){return n()},children:(b,p)=>[(()=>{var v=zd(),g=v.firstChild,m=g.nextSibling;return y(v,()=>b.name,g),m.$$click=()=>a(p()),y(m,()=>o(p())?"":""),v})(),_(j,{get when(){return o(p())},get children(){return[(()=>{var v=ki();return y(v,_(U,{get each(){return b.preReqs},children:g=>(()=>{var m=ki();return y(m,_(Yn,{get children(){return[_(Oe,{get when(){return g.info.type===Ze[0]},get children(){return[Yd(),(()=>{var w=Gd(),$=w.firstChild;return y(w,()=>g.name,$),y(w,()=>g.value,null),w})()]}}),_(Oe,{get when(){return g.info.type===Ze[1]},get children(){return[Jd(),(()=>{var w=Rr();return y(w,()=>g.value),w})()]}}),_(Oe,{get when(){return g.info.type===Ze[2]},get children(){return[Xd(),(()=>{var w=Qd(),$=w.firstChild;return y(w,()=>g.name,$),y(w,()=>g.value,null),w})()]}}),_(Oe,{get when(){return g.info.type===Ze[3]},get children(){return[Zd(),(()=>{var w=Rr();return y(w,()=>g.name),w})()]}})]}})),m})()})),P(()=>O(v,`${Or.PreReqsBar}`)),v})(),Ci(),Hd(),(()=>{var v=Rr();return y(v,_(U,{get each(){return b.desc},children:(g,m)=>[g,Ci()]})),v})()]}})]})),y(h,_(ra,{items:u,setPaginatedItems:e}),null),P(b=>{var p=`${l.accent} ${Or.featsList}`,v=`${Or.body}`;return p!==b.e&&O(c,b.e=p),v!==b.t&&O(h,b.t=v),b},{e:void 0,t:void 0}),c})()};Ee(["click"]);const tf=()=>{const t=Qo();return J(()=>[...t()])},nf="_sidebar_u5l8d_9",rf="_sidebar_shown_u5l8d_37",sf="_wrapper_u5l8d_43",of="_thePage_u5l8d_48",af="_outerStyles_u5l8d_59",lf="_fixed_u5l8d_68",cf="_flexrow_u5l8d_82",uf="_wrap_u5l8d_43",hf="_abilityscore_u5l8d_92",df="_sideBarBtn_u5l8d_99",ff="_animate_u5l8d_113",pf="_slidein_u5l8d_1",Pn={sidebar:nf,sidebar_shown:rf,wrapper:sf,thePage:of,outerStyles:af,fixed:lf,flexrow:cf,wrap:uf,abilityscore:hf,sideBarBtn:df,animate:ff,slidein:pf};var mf=S('<svg width=50 height=40 viewBox="0 0 50 50"xmlns=http://www.w3.org/2000/svg><path d="M 15 5 L 35 5 L 35 45 L 25 35 L 15 45 Z"fill=none stroke=white stroke-width=2>');const gf=t=>{let e=t.styles;return(()=>{var n=mf();return P(()=>tt(n,"class",`${e.banner}`)),n})()};var vf=S("<div> "),yf=S("<button>"),bf=S("<button>subraces"),_f=S("<div>"),wf=S("<div id=raceSideBar><div><span></span> <span></span><br>");const $f=t=>{const[e,n]=T(!1),r=ne();let s=t.dndSrdRaces,i=t.styles,o=t.toggleRow,a=t.hasIndex;const l=async u=>{const c=document.getElementById(u);c?c.scrollIntoView({behavior:"smooth"}):(console.log("element not found"),console.log(` found : ${c}`))};return[_(j,{get when(){return e()===!0},get children(){var u=vf();return u.firstChild,y(u,_(U,{get each(){return s()},children:(c,h)=>(()=>{var d=wf(),f=d.firstChild,b=f.firstChild,p=b.nextSibling,v=p.nextSibling;return b.$$click=()=>o(h()),y(b,_(gf,{styles:i})),v.$$click=()=>l(c.name),y(v,()=>c.name),y(d,_(j,{get when(){return a(h())},get children(){return[" ",(()=>{var g=_f();return y(g,_(j,{get when(){return c.subRaces.length>0},get children(){return[(()=>{var m=bf();return m.$$click=()=>l(c.subRaces[0].name),m})()," "]}})),P(()=>O(g,`${i.sidebar_shown}`)),g})()]}}),null),P(g=>{var m=`${i.sidebar}`,w=`${i.flexrow}`;return m!==g.e&&O(d,g.e=m),w!==g.t&&O(f,g.t=w),g},{e:void 0,t:void 0}),d})()}),null),P(()=>O(u,`${r.accent} ${i.fixed}`)),u}}),(()=>{var u=yf();return u.$$click=()=>n(!e()),P(()=>O(u,`${i.sideBarBtn}`)),u})()]};Ee(["click"]);const Sf="_subrace_1t2pp_1",xf={subrace:Sf};var kf=S("<div><h3>Sub Races"),ct=S("<br>"),Ei=S("<div>"),Cf=S("<span>languages:"),Br=S("<span>"),Ef=S("<h3>languages to choose from"),Pf=S("<div><span>name: </span><br><br><span>Ability Score increases:</span><br>"),Af=S("<span><br><span></span> <span></span><br>"),Of=S("<span>: ");const Rf=t=>{ne();let e=t.race;return _(j,{get when(){return e.subRaces.length>0},get children(){return _(dn,{get children(){return[kf(),(()=>{var n=Ei();return y(n,_(j,{get when(){return e.subRaces.length>0},get children(){return[ct(),(()=>{var r=Ei();return y(r,_(U,{get each(){return e.subRaces},children:s=>[(()=>{var i=Pf(),o=i.firstChild;o.firstChild;var a=o.nextSibling,l=a.nextSibling,u=l.nextSibling,c=u.nextSibling;return y(o,()=>s.name,null),y(i,_(j,{get when(){return s.abilityBonuses.length>0},get children(){return _(U,{get each(){return s.abilityBonuses},children:h=>(()=>{var d=Af(),f=d.firstChild,b=f.nextSibling,p=b.nextSibling,v=p.nextSibling;return y(b,()=>h.name),y(v,()=>h.value),d})()})}}),c),y(i,_(j,{get when(){return s.traits.length>0},get children(){return _(U,{get each(){return s.traits},children:h=>[ct(),(()=>{var d=Of(),f=d.firstChild;return y(d,()=>h.name,f),d})(),ct(),(()=>{var d=Br();return y(d,()=>h.value),d})(),ct()]})}}),c),y(i,_(j,{get when(){return s.languages.length>0},get children(){return[Cf(),ct(),(()=>{var h=Br();return y(h,()=>s.languages.join(", ")),h})()]}}),null),y(i,_(j,{get when(){return s.languageChoice.choices.length>0},get children(){return[Ef(),_(U,{get each(){return s.languageChoice.choices},children:h=>[(()=>{var d=Br();return y(d,h),d})(),ct()]})]}}),null),P(h=>{var d=`${s.name}`,f=`${xf.subrace}`;return d!==h.e&&tt(i,"id",h.e=d),f!==h.t&&O(i,h.t=f),h},{e:void 0,t:void 0}),i})(),ct()]})),r})()]}})),n})()]}})}})};var Bf=S("<div>"),If=S("<div><h1></h1><h2> traits</h2><div><h3>Ability Score Increases: </h3><div></div><h3>Age:</h3><span></span><h3>Alignment:</h3><span></span><h3>Size:</h3><span></span><h3>Speed:</h3><span>ft</span><h3>Race Specific Traits:</h3><span></span><h3>Proficiencies</h3><div></div><h3>Languages:</h3><br>"),Tf=S("<hr>"),Ir=S("<br>"),Tr=S("<span>"),Lf=S("<div>: ");const jf=t=>{let e=t.styles,n=t.dndSrdRaces;return(()=>{var r=Bf();return y(r,_(U,{get each(){return n()},children:(s,i)=>[(()=>{var o=If(),a=o.firstChild,l=a.nextSibling,u=l.firstChild,c=l.nextSibling,h=c.firstChild,d=h.nextSibling,f=d.nextSibling,b=f.nextSibling,p=b.nextSibling,v=p.nextSibling,g=v.nextSibling,m=g.nextSibling,w=m.nextSibling,$=w.nextSibling,x=$.firstChild,E=$.nextSibling,C=E.nextSibling,D=C.nextSibling,k=D.nextSibling,L=k.nextSibling,B=L.nextSibling;return y(a,()=>s.name),y(l,()=>s.name,u),y(d,_(U,{get each(){return s.abilityBonuses},children:A=>[Ir(),(()=>{var R=Tr();return y(R,()=>A.name),R})()," ",(()=>{var R=Tr();return y(R,()=>A.value),R})(),Ir()]})),y(b,()=>s.age),y(v,()=>s.alignment),y(m,()=>s.sizeDescription),y($,()=>s.speed,x),y(C,_(U,{get each(){return s.traits},children:A=>[(()=>{var R=Lf(),M=R.firstChild;return y(R,()=>A.name,M),y(R,_(U,{get each(){return A.value},children:ae=>(()=>{var N=Tr();return y(N,ae),P(()=>O(N,`${e.wrap}`)),N})()}),null),R})(),Ir()]})),y(k,()=>s.startingProficencies.map(A=>A.value).join(`
`)),y(c,()=>s.languageDesc,B),y(c,_(Rf,{styles:e,race:s}),null),P(A=>{var R=`${s.name}`,M=`${e.abilityscore}`,ae=`${e.wrap}`,N=`${e.wrap}`,V=`${e.wrap}`;return R!==A.e&&tt(a,"id",A.e=R),M!==A.t&&O(d,A.t=M),ae!==A.a&&O(b,A.a=ae),N!==A.o&&O(v,A.o=N),V!==A.i&&O(m,A.i=V),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),o})(),_(j,{get when(){return i()!==n().length-1},get children(){var o=Tf();return o.style.setProperty("width","100%"),o}})]})),P(()=>O(r,`${e.thePage}`)),r})()};var Df=S("<div id=racesComp><h1>Races</h1><div>");const Nf=()=>{const t=tf(),e=ne(),[n,r]=T([]),s=o=>i(o)?r(n().filter(a=>a!==o)):r([...n(),o]),i=o=>n().includes(o);return P(()=>{console.log(t())}),[_($f,{dndSrdRaces:t,styles:Pn,toggleRow:s,hasIndex:i}),(()=>{var o=Df(),a=o.firstChild,l=a.nextSibling;return y(l,_(jf,{styles:Pn,dndSrdRaces:t})),P(u=>{var c=`${e.accent} ${Pn.outerStyles}`,h=`${Pn.wrapper}`;return c!==u.e&&O(o,u.e=c),h!==u.t&&O(l,u.t=h),u},{e:void 0,t:void 0}),o})()]},Kf=()=>{const t=Zo();return J(()=>[...t()])},Ff="_allBackgrounds_sz14l_1",Mf="_backgrounds_sz14l_12",qf="_feature_sz14l_17",Vf="_totalPanel_sz14l_21",Uf="_body_sz14l_25",Wt={allBackgrounds:Ff,backgrounds:Mf,feature:qf,totalPanel:Vf,body:Uf};var Wf=S("<div><h1>Backgrounds</h1><div></div>"),zf=S("<div>"),Hf=S("<div><h2></h2><div></div><h3></h3><h3>choose: </h3><div></div><br><h3>Starting Equipment</h3><div></div><br><div></div><h3>Skill Proficiencies</h3><div>"),Yf=S("<span><h3></h3><br><span>"),zt=S("<br>"),Lr=S("<span>"),Gf=S("<h3>Choose: "),Jf=S("<span> ");const Xf=()=>{const t=ne(),e=Kf();return(()=>{var n=Wf(),r=n.firstChild,s=r.nextSibling;return s.style.setProperty("width","50%"),y(s,_(U,{get each(){return e()},children:i=>_(dn,{styles:Wt,get children(){return[(()=>{var o=zf();return y(o,()=>i.name),o})(),(()=>{var o=Hf(),a=o.firstChild,l=a.nextSibling,u=l.nextSibling,c=u.nextSibling;c.firstChild;var h=c.nextSibling,d=h.nextSibling,f=d.nextSibling,b=f.nextSibling,p=b.nextSibling,v=p.nextSibling,g=v.nextSibling,m=g.nextSibling;return y(a,()=>i.name),y(l,_(U,{get each(){return i.feature},children:w=>[(()=>{var $=Yf(),x=$.firstChild,E=x.nextSibling,C=E.nextSibling;return y(x,()=>w.name),y(C,()=>w.value),P(()=>O(C,`${Wt.feature}`)),$})(),zt()]})),y(u,()=>i.languageChoice.type),y(c,()=>i.languageChoice.choose,null),y(h,_(U,{get each(){return i.languageChoice.choices},children:w=>[(()=>{var $=Lr();return y($,w),$})(),zt()]})),y(b,_(U,{get each(){return i.startingEquipment},children:w=>[(()=>{var $=Lr();return y($,()=>w.item),$})(),zt()]})),y(v,_(U,{get each(){return i.startingEquipmentChoices},children:w=>[(()=>{var $=Gf();return $.firstChild,y($,()=>w.choose,null),$})(),_(U,{get each(){return w.choices},children:$=>[(()=>{var x=Jf(),E=x.firstChild;return y(x,()=>$.quantity,E),y(x,()=>$.item,null),x})(),zt()]})]})),y(m,_(U,{get each(){return i.startingProficiencies},children:w=>[(()=>{var $=Lr();return y($,()=>w.value),$})(),zt()]})),P(()=>O(o,`${Wt.body}`)),o})()]}})})),P(i=>{var o=`${t.accent} ${Wt.allBackgrounds}`,a=`${Wt.backgrounds}`;return o!==i.e&&O(n,i.e=o),a!==i.t&&O(s,i.t=a),i},{e:void 0,t:void 0}),n})()};function Qf(t){return t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}const Zf="_feature_fg9e7_1",ep="_table_fg9e7_5",tp="_tableRow_fg9e7_9",np="_tableCell_fg9e7_13",An={feature:Zf,table:ep,tableRow:tp,tableCell:np};var rp=S("<table><thead><tr><th>Level</th><th>PB</th><th>Features</th></tr></thead><tbody>"),sp=S("<th>"),ip=S("<tr><td></td><td></td><td>"),op=S("<td><span>");const ap=t=>{const e=t.Class,n=s=>{switch(t.Class.name.toLowerCase()){case"rogue":case"monk":if(!Number.isNaN(+s))return s;const i=JSON.parse(s);return`${JSON.parse(i).DiceCount}d${JSON.parse(i).DiceValue}`}return s},r=s=>t.Class.name.toLowerCase()==="sorcerer"?s.slice(1):s;return(()=>{var s=rp(),i=s.firstChild,o=i.firstChild,a=o.firstChild,l=a.nextSibling;l.nextSibling;var u=i.nextSibling;return y(o,_(U,{get each(){return r(Object.keys(e().classLevels[0].classSpecific))},children:c=>(()=>{var h=sp();return y(h,()=>Qf(c)),h})()}),null),y(u,_(U,{get each(){return e().classLevels.sort((c,h)=>c.info.level-h.info.level)},children:c=>(()=>{var h=ip(),d=h.firstChild,f=d.nextSibling,b=f.nextSibling;return h.style.setProperty("border","1px solid white"),y(d,()=>c.info.level),y(f,()=>c.profBonus),y(b,()=>c.features.map(p=>p.name).join(", ")),y(h,_(U,{get each(){return r(Object.keys(c.classSpecific))},children:p=>(()=>{var v=op(),g=v.firstChild;return y(g,()=>n(c.classSpecific[p])),v})()}),null),P(p=>{var v=`${An.tableRow}`,g=`${An.feature}`;return v!==p.e&&O(h,p.e=v),g!==p.t&&O(b,p.t=g),p},{e:void 0,t:void 0}),h})()})),P(c=>{var h=`${An.table}`,d=`${An.tableRow}`;return h!==c.e&&O(s,c.e=h),d!==c.t&&O(o,c.t=d),c},{e:void 0,t:void 0}),s})()},lp="_CenterPage_1r963_1",cp="_eachPage_1r963_8",up="_Center_1r963_1",hp="_CenterTable_1r963_18",Ht={CenterPage:lp,eachPage:cp,Center:up,CenterTable:hp};var dp=S("<div><h2>Skills"),Pi=S("<div><br>"),fp=S("<div><h2>Starting Equipment"),pp=S("<div><div><h1></h1><div></div><h2>Proficiencies</h2><span>Armor: <!> </span> <span></span><br><span>Weapons: <!> </span><br><span>Tools:</span><br><br><span>Saving Throws: </span><br><br><br><hr><div><select></select></div>"),$e=S("<br>"),mp=S("<span>Choose: "),Yt=S("<span>"),gp=S("<h3>choice 1"),On=S("<span>choose: "),Rn=S("<span>or"),jr=S("<div><br><br><span>"),vp=S("<h3>choice 2"),yp=S("<h3>choice 3"),bp=S("<h3>choice 4"),_p=S("<div><br><span>"),wp=S("<option>");const $p=()=>{const t=ne(),e=ta(),[n,r]=il();n.name||r({name:e()[0].name});const s=e().filter(a=>a.name.toLowerCase()===(n.name||e()[0].name.toLowerCase()))[0],[i,o]=T(s);return P(()=>{r({name:i().name})}),(()=>{var a=pp(),l=a.firstChild,u=l.firstChild,c=u.nextSibling,h=c.nextSibling,d=h.nextSibling,f=d.firstChild,b=f.nextSibling;b.nextSibling;var p=d.nextSibling,v=p.nextSibling,g=v.nextSibling,m=g.nextSibling,w=m.firstChild,$=w.nextSibling;$.nextSibling;var x=m.nextSibling,E=x.nextSibling;E.firstChild;var C=E.nextSibling,D=C.nextSibling,k=D.nextSibling;k.firstChild;var L=k.nextSibling,B=L.nextSibling,A=B.nextSibling,R=A.nextSibling,M=R.nextSibling,ae=M.firstChild;return y(u,()=>i().name),y(c,_(ap,{Class:i})),y(d,()=>i().proficiencies.filter(N=>N.includes("armor")).join(", "),b),y(v,_(j,{get when(){return i().proficiencies.filter(N=>N==="Shields")},children:"& Shields"})),y(m,()=>i().proficiencies.filter(N=>N.includes("weapons")).join(", "),$),y(E,_(j,{get when(){return J(()=>!i().proficiencies.includes("Thieves' Tools"))()&&!i().proficiencies.includes("Herbalism Kit")},children:"None"}),null),y(E,_(j,{get when(){return!i().proficiencies.includes("Kit")},get children(){return i().proficiencies.filter(N=>N.includes("Kit"))}}),null),y(E,_(j,{get when(){return!i().proficiencies.includes("Tools")},get children(){return i().proficiencies.filter(N=>N.includes("Tools")).join(", ")}}),null),y(k,()=>i().savingThrows.join(", "),null),y(l,_(dn,{get class(){return`${Ht.Center}`},style:{width:"50%"},get children(){return[dp(),(()=>{var N=Pi(),V=N.firstChild;return y(N,_(j,{get when(){return i().proficiencyChoices.length>0},get children(){return _(U,{get each(){return i().proficiencyChoices},children:z=>[$e(),(()=>{var F=mp();return F.firstChild,y(F,()=>z.choose,null),F})(),$e(),_(U,{get each(){return z.choices},children:F=>[(()=>{var re=Yt();return y(re,F),re})(),$e()]})]})}}),V),N})()]}}),A),y(l,_(dn,{get class(){return`${Ht.Center}`},style:{width:"50%"},get children(){return[fp(),(()=>{var N=Pi();return N.firstChild,y(N,_(j,{get when(){return i().startingEquipment.choice1.length>=1},get children(){return _(U,{get each(){return i().startingEquipment.choice1},children:(V,z)=>(()=>{var F=jr(),re=F.firstChild,_e=re.nextSibling,we=_e.nextSibling;return y(F,_(j,{get when(){return z()<1},get children(){return gp()}}),re),y(F,_(j,{get when(){return z()<1},get children(){var le=On();return le.firstChild,y(le,()=>V.choose,null),le}}),_e),y(we,_(U,{get each(){return V.choices},children:(le,De)=>[$e(),(()=>{var Ft=Yt();return y(Ft,()=>le.item),Ft})(),$e()]})),y(F,_(j,{get when(){return z()<=0},get children(){return[$e(),Rn()]}}),null),F})()})}}),null),y(N,_(j,{get when(){return i().startingEquipment.choice2},get children(){return _(U,{get each(){return i().startingEquipment.choice2},children:(V,z)=>(()=>{var F=jr(),re=F.firstChild,_e=re.nextSibling,we=_e.nextSibling;return y(F,_(j,{get when(){return z()<1},get children(){return vp()}}),re),y(F,_(j,{get when(){return z()<1},get children(){var le=On();return le.firstChild,y(le,()=>V.choose,null),le}}),_e),y(we,_(U,{get each(){return V.choices},children:le=>[$e(),(()=>{var De=Yt();return y(De,()=>le.item),De})(),$e()]})),y(F,_(j,{get when(){return z()<=0},get children(){return[$e(),Rn()]}}),null),F})()})}}),null),y(N,_(j,{get when(){return i().startingEquipment.choice3},get children(){return _(U,{get each(){return i().startingEquipment.choice3},children:(V,z)=>(()=>{var F=jr(),re=F.firstChild,_e=re.nextSibling,we=_e.nextSibling;return y(F,_(j,{get when(){return z()<1},get children(){return yp()}}),re),y(F,_(j,{get when(){return z()<1},get children(){var le=On();return le.firstChild,y(le,()=>V.choose,null),le}}),_e),y(we,_(U,{get each(){return V.choices},children:le=>[$e(),(()=>{var De=Yt();return y(De,()=>le.item),De})(),$e()]})),y(F,_(j,{get when(){return z()<=0},get children(){return[$e(),Rn()]}}),null),F})()})}}),null),y(N,_(j,{get when(){return i().startingEquipment.choice4},get children(){return _(U,{get each(){return i().startingEquipment.choice4},children:(V,z)=>(()=>{var F=_p(),re=F.firstChild,_e=re.nextSibling;return y(F,_(j,{get when(){return z()<1},get children(){return bp()}}),re),y(F,_(j,{get when(){return z()<1},get children(){var we=On();return we.firstChild,y(we,()=>V.choose,null),we}}),_e),y(_e,_(U,{get each(){return V.choices},children:we=>[$e(),(()=>{var le=Yt();return y(le,()=>we.item),le})(),$e()]})),y(F,_(j,{get when(){return z()<=0},get children(){return[$e(),Rn()]}}),null),F})()})}}),null),N})()]}}),R),R.style.setProperty("width","100%"),ae.addEventListener("change",N=>o(JSON.parse(N.target.value))),y(ae,_(U,{get each(){return e()},children:N=>(()=>{var V=wp();return y(V,()=>N.name),P(()=>V.value=JSON.stringify(N)),V})()})),P(N=>{var V=`${t.accent} ${Ht.CenterPage}`,z=`${Ht.eachPage}`,F=`${Ht.CenterTable}`;return V!==N.e&&O(a,N.e=V),z!==N.t&&O(l,N.t=z),F!==N.a&&O(c,N.a=F),N},{e:void 0,t:void 0,a:void 0}),P(()=>ae.value=JSON.stringify(i())),a})()};var Sp=S("<div>");const sa=Ss(()=>rr(()=>import("./characters-vnmpmpM-.js"),__vite__mapDeps([0,1,2]))),ia=Ss(()=>rr(()=>import("./create-50UZm1MY.js"),__vite__mapDeps([3,2]))),oa=Ss(()=>rr(()=>import("./view-DwWWeqf7.js"),__vite__mapDeps([4,1,5]))),xp=document.getElementById("root"),kp=60*1e3,{needRefresh:Cp,offlineReady:Ep,updateServiceWorker:Op}=ea({onRegisteredSW(t,e){e&&setInterval(()=>{sa.preload(),ia.preload(),oa.preload(),e.update()},kp)},onRegisterError(t){console.log("SW registration error",t)},onNeedRefresh(){console.log("onNeedRefresh")},onOfflineReady(){console.log("onOfflineReady")}}),Pp=t=>{const e=ne(),n=function(){let o=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(o=!0)}(navigator.userAgent||navigator.vendor),o},r=()=>i(window.matchMedia("only screen and (max-width: 768px)").matches);window.addEventListener("resize",r),P(()=>{console.log("updateServiceWorker.needRefresh: ",Cp[0]())}),P(()=>{console.log("updateServiceWorker.offlineReady: ",Ep[0]())});const[s,i]=T(n());return P(()=>{const o=!!(n()||window.innerWidth<=768);i(o)}),(()=>{var o=Sp();return o.style.setProperty("height","100vh"),y(o,_(ih,{list:[s,i],get style(){return e.accent}}),null),y(o,()=>t.children,null),P(()=>O(o,e.primary)),o})()};Ta(()=>_($l,{root:Pp,get children(){return[_(ce,{path:"/",component:Fu}),_(ce,{path:"/characters",get children(){return[_(ce,{path:"/",component:sa}),_(ce,{path:"/view",component:oa}),_(ce,{path:"/create",component:ia})]}}),_(ce,{path:"/info",get children(){return[_(ce,{path:"/races",component:Nf}),_(ce,{path:"/spells",component:Dd}),_(ce,{path:"/feats",component:ef}),_(ce,{path:"/classes",component:$p}),_(ce,{path:"/backgrounds",component:Xf})]}}),_(ce,{path:"/homebrew",get children(){return[_(ce,{path:"/",component:ah}),_(ce,{path:"/view",component:yh}),_(ce,{path:"/create",get children(){return[_(ce,{path:"/",component:gh}),_(ce,{path:"/classes",component:$h}),_(ce,{path:"/items",component:Ch}),_(ce,{path:"/feats",component:Vh}),_(ce,{path:"/backgrounds",component:Hh}),_(ce,{path:"/spells",component:Xh}),_(ce,{path:"/races",component:td})]}})]}})]}}),xp);export{U as F,P as a,O as b,_ as c,T as d,J as e,yu as f,ta as g,Bd as h,y as i,na as j,tf as k,Kf as l,Ap as m,il as n,tt as s,S as t,ne as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/characters-vnmpmpM-.js","assets/useCharacters-Hof3LmfC.js","assets/characters-i2fzY9Kk.css","assets/create-50UZm1MY.js","assets/view-DwWWeqf7.js","assets/view-aa-IgBHj.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
