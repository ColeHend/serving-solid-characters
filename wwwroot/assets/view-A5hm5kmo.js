import{c as M,f as O,h as D,j as F,k as j,l as q,m as J,g as U,u as E,n as V,b as d,i as s,a as f,s as X,F as W,d as C,t as h,o as Y,p as Z,e as ee}from"./index-ckoNpsDa.js";const te=e=>M(()=>{O(),D(),F();const r=j();q(),J();const m=r().filter(n=>n.name.toLowerCase()===e()?.race.toLowerCase())[0];let l={str:e()?.stats.str,dex:e()?.stats.dex,con:e()?.stats.con,int:e()?.stats.int,wis:e()?.stats.wis,cha:e()?.stats.cha};if(m&&m.abilityBonuses.length>0){m.abilityBonuses.forEach(c=>{Object.keys(l).forEach(o=>{c.name.toLowerCase()===o&&(l[o]+=c.value)})});const n=m.subRaces?.filter(c=>c.name.toLowerCase()===e()?.subrace?.toLowerCase())[0];n&&n.abilityBonuses.forEach(c=>{Object.keys(l).forEach(o=>{c.name.toLowerCase()===o&&(l[o]+=c.value)})})}return l}),ae="_mainBody_1x0kc_1",se={mainBody:ae},re="_statBlocks_1g289_1",ie={statBlocks:re},ne="_statStyle_1qcla_1",le="_stat_1qcla_1",ce="_secondBox_1qcla_51",L={statStyle:ne,stat:le,secondBox:ce};var oe=h("<div><div><span><span></span><ul><li></li><li></li></ul></span></div><div><ul><li> Saving Throw: "),ue=h("<li><span></span><label> <!> </label><span><u>_<!>_"),fe=h("<u>✓✓ "),me=h("<u>✓_ "),de=h("<u>__");const R=[{name:"Acrobatics",proficient:!0,expertise:!1},{name:"Animal Handling",proficient:!1,expertise:!1},{name:"Arcana",proficient:!1,expertise:!1},{name:"Athletics",proficient:!1,expertise:!1},{name:"Deception",proficient:!1,expertise:!1},{name:"History",proficient:!1,expertise:!1},{name:"Insight",proficient:!1,expertise:!1},{name:"Intimidation",proficient:!1,expertise:!1},{name:"Investigation",proficient:!1,expertise:!1},{name:"Medicine",proficient:!1,expertise:!1},{name:"Nature",proficient:!1,expertise:!1},{name:"Perception",proficient:!1,expertise:!1},{name:"Performance",proficient:!1,expertise:!1},{name:"Persuasion",proficient:!1,expertise:!1},{name:"Religion",proficient:!1,expertise:!1},{name:"Sleight of Hand",proficient:!1,expertise:!1},{name:"Stealth",proficient:!1,expertise:!1},{name:"Survival",proficient:!1,expertise:!1}],v=e=>{const i=t=>Math.floor((t-10)/2),[r,m]=U(),l=M(()=>E(r().theme)),[n,c]=V(R);d(()=>{c(R.map(t=>(e.skills.includes(t.name)&&(t={...t,proficient:!0}),e.expertise?.includes(t.name)&&(t={...t,proficient:!0,expertise:!0}),t)))});const o=t=>{switch(t){case"Strength":return["Athletics"];case"Dexterity":return["Acrobatics","Sleight of Hand","Stealth"];case"Constitution":return[];case"Intelligence":return["Arcana","History","Investigation","Nature","Religion"];case"Wisdom":return["Animal Handling","Insight","Medicine","Perception","Survival"];case"Charisma":return["Deception","Intimidation","Performance","Persuasion"];default:return[]}},_=t=>{let u=i(e.stat);return t.proficient&&(u+=e.proficientMod),t.expertise&&(u+=e.proficientMod),u};return(()=>{var t=oe(),u=t.firstChild,g=u.firstChild,$=g.firstChild,I=$.nextSibling,p=I.firstChild,y=p.nextSibling,P=u.nextSibling,b=P.firstChild,x=b.firstChild,k=x.firstChild;return s($,()=>i(e.stat)),s(p,()=>e.stat),s(y,()=>e.name),s(x,()=>e.name,k),s(b,f(W,{get each(){return n().filter(a=>o(e.name).includes(a.name))},children:a=>(()=>{var B=ue(),w=B.firstChild,S=w.nextSibling,A=S.firstChild,G=A.nextSibling;G.nextSibling;var T=S.nextSibling,H=T.firstChild,z=H.firstChild,N=z.nextSibling;return N.nextSibling,s(w,(()=>{var K=M(()=>!!a.proficient);return()=>K()?(()=>{var Q=M(()=>!!a.expertise);return()=>Q()?fe():me()})():de()})()),s(S,()=>a.name,G),s(H,()=>_(a),N),d(()=>X(S,"for",a.name)),B})()}),null),d(a=>{var B=`${L.statStyle}`,w=`${L.stat}`,S=`${l().accent}`,A=`${L.secondBox}`;return B!==a.e&&C(t,a.e=B),w!==a.t&&C(u,a.t=w),S!==a.a&&C($,a.a=S),A!==a.o&&C(P,a.o=A),a},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()};var he=h("<div>");const ge=e=>{E();const i=r=>Math.ceil(r/4)+1;return(()=>{var r=he();return s(r,f(v,{get stat(){return e.fullStats().str},name:"Strength",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),s(r,f(v,{get stat(){return e.fullStats().dex},name:"Dexterity",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),s(r,f(v,{get stat(){return e.fullStats().con},name:"Constitution",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),s(r,f(v,{get stat(){return e.fullStats().int},name:"Intelligence",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),s(r,f(v,{get stat(){return e.fullStats().wis},name:"Wisdom",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),s(r,f(v,{get stat(){return e.fullStats().cha},name:"Charisma",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),d(()=>C(r,`${ie.statBlocks}`)),r})()};var xe=h("<div><h1>Characters View</h1><div><div><select></select></div><div><div><h2>Stats"),Se=h("<option>");const ve=()=>{const[e,i]=U(),r=M(()=>E(e().theme));Y();const[m,l]=Z(),[n,c]=ee();m.name||l({name:n()[0].name});const o=n().filter(g=>g.name.toLowerCase()===(m.name||n()[0].name).toLowerCase())[0],[_,t]=V(o),u=te(_);return O(),D(),F(),j(),q(),J(),d(()=>{l({name:_().name})}),(()=>{var g=xe(),$=g.firstChild,I=$.nextSibling,p=I.firstChild,y=p.firstChild,P=p.nextSibling,b=P.firstChild;return b.firstChild,y.addEventListener("change",x=>t(()=>JSON.parse(x.target.value))),s(y,f(W,{get each(){return n()},children:x=>(()=>{var k=Se();return s(k,()=>x.name),d(()=>k.value=JSON.stringify(x)),k})()})),s(b,f(ge,{fullStats:u,currentCharacter:_}),null),d(()=>C(g,`${r().accent} ${se.mainBody}`)),d(()=>y.value=JSON.stringify(_())),g})()};export{ve as default};
