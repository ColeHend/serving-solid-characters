(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const _c="modulepreload",wc=function(e){return"/"+e},_a={},ds=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");s=Promise.all(n.map(a=>{if(a=wc(a),a in _a)return;_a[a]=!0;const l=a.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const d=i[f];if(d.href===a&&(!l||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":_c,l||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),l)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},fe={context:void 0,registry:void 0};function Gn(e){fe.context=e}const $c=(e,t)=>e===t,Zr=Symbol("solid-proxy"),Cc=Symbol("solid-track"),Xr={equals:$c};let bl=Sl;const Nt=1,Qr=2,yl={owned:null,cleanups:null,context:null,owner:null},ks={};var ge=null;let Ps=null,Sc=null,be=null,et=null,Ot=null,fs=0;function kn(e,t){const n=be,r=ge,s=e.length===0,i=t===void 0?r:t,a=s?yl:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=s?e:()=>e(()=>Fe(()=>vs(a)));ge=a,be=null;try{return Bt(l,!0)}finally{be=n,ge=r}}function L(e,t){t=t?Object.assign({},Xr,t):Xr;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Cl(n,s));return[$l.bind(n),r]}function wa(e,t,n){const r=ms(e,t,!0,Nt);Bn(r)}function D(e,t,n){const r=ms(e,t,!1,Nt);Bn(r)}function _l(e,t,n){bl=Tc;const r=ms(e,t,!1,Nt);(!n||!n.render)&&(r.user=!0),Ot?Ot.push(r):Bn(r)}function F(e,t,n){n=n?Object.assign({},Xr,n):Xr;const r=ms(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Bn(r),$l.bind(r)}function xc(e){return e&&typeof e=="object"&&"then"in e}function kc(e,t,n){let r,s,i;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,s=e,i=t||{}):(r=e,s=t,i=n||{});let a=null,l=ks,o=null,u=!1,c="initialValue"in i,f=typeof r=="function"&&F(r);const d=new Set,[m,_]=(i.storage||L)(i.initialValue),[v,p]=L(void 0),[y,b]=L(void 0,{equals:!1}),[$,k]=L(c?"ready":"unresolved");if(fe.context){o=`${fe.context.id}${fe.context.count++}`;let C;i.ssrLoadFrom==="initial"?l=i.initialValue:fe.load&&(C=fe.load(o))&&(l=C)}function x(C,A,P,O){return a===C&&(a=null,O!==void 0&&(c=!0),(C===l||A===l)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(O,{value:A})),l=ks,I(A,P)),A}function I(C,A){Bt(()=>{A===void 0&&_(()=>C),k(A!==void 0?"errored":c?"ready":"unresolved"),p(A);for(const P of d.keys())P.decrement();d.clear()},!1)}function S(){const C=Ac,A=m(),P=v();if(P!==void 0&&!a)throw P;return be&&!be.user&&C&&wa(()=>{y(),a&&(C.resolved||d.has(C)||(C.increment(),d.add(C)))}),A}function U(C=!0){if(C!==!1&&u)return;u=!1;const A=f?f():r;if(A==null||A===!1){x(a,Fe(m));return}const P=l!==ks?l:Fe(()=>s(A,{value:m(),refetching:C}));return xc(P)?(a=P,"value"in P?(P.status==="success"?x(a,P.value,void 0,A):x(a,void 0,void 0,A),P):(u=!0,queueMicrotask(()=>u=!1),Bt(()=>{k(c?"refreshing":"pending"),b()},!1),P.then(O=>x(P,O,void 0,A),O=>x(P,void 0,kl(O),A)))):(x(a,P,void 0,A),P)}return Object.defineProperties(S,{state:{get:()=>$()},error:{get:()=>v()},loading:{get(){const C=$();return C==="pending"||C==="refreshing"}},latest:{get(){if(!c)return S();const C=v();if(C&&!a)throw C;return m()}}}),f?wa(()=>U(!1)):U(!1),[S,{refetch:U,mutate:_}]}function Fe(e){if(be===null)return e();const t=be;be=null;try{return e()}finally{be=t}}function wl(e,t,n){const r=Array.isArray(e);let s,i=n&&n.defer;return a=>{let l;if(r){l=Array(e.length);for(let u=0;u<e.length;u++)l[u]=e[u]()}else l=e();if(i){i=!1;return}const o=Fe(()=>t(l,s,a));return s=l,o}}function Pc(e){_l(()=>Fe(e))}function hn(e){return ge===null||(ge.cleanups===null?ge.cleanups=[e]:ge.cleanups.push(e)),e}function es(){return ge}function Bi(e,t){const n=ge,r=be;ge=e,be=null;try{return Bt(t,!0)}catch(s){Ni(s)}finally{ge=n,be=r}}function Lc(e){const t=be,n=ge;return Promise.resolve().then(()=>{be=t,ge=n;let r;return Bt(e,!1),be=ge=null,r?r.done:void 0})}function Ri(e,t){const n=Symbol("context");return{id:n,Provider:Ic(n),defaultValue:e}}function Te(e){return ge&&ge.context&&ge.context[e.id]!==void 0?ge.context[e.id]:e.defaultValue}function gs(e){const t=F(e),n=F(()=>Zs(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Ac;function $l(){if(this.sources&&this.state)if(this.state===Nt)Bn(this);else{const e=et;et=null,Bt(()=>ns(this),!1),et=e}if(be){const e=this.observers?this.observers.length:0;be.sources?(be.sources.push(this),be.sourceSlots.push(e)):(be.sources=[this],be.sourceSlots=[e]),this.observers?(this.observers.push(be),this.observerSlots.push(be.sources.length-1)):(this.observers=[be],this.observerSlots=[be.sources.length-1])}return this.value}function Cl(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Bt(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],a=Ps&&Ps.running;a&&Ps.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?et.push(i):Ot.push(i),i.observers&&xl(i)),a||(i.state=Nt)}if(et.length>1e6)throw et=[],new Error},!1)),t}function Bn(e){if(!e.fn)return;vs(e);const t=fs;Ec(e,e.value,t)}function Ec(e,t,n){let r;const s=ge,i=be;be=ge=e;try{r=e.fn(t)}catch(a){return e.pure&&(e.state=Nt,e.owned&&e.owned.forEach(vs),e.owned=null),e.updatedAt=n+1,Ni(a)}finally{be=i,ge=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Cl(e,r):e.value=r,e.updatedAt=n)}function ms(e,t,n,r=Nt,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:ge,context:ge?ge.context:null,pure:n};return ge===null||ge!==yl&&(ge.owned?ge.owned.push(i):ge.owned=[i]),i}function ts(e){if(e.state===0)return;if(e.state===Qr)return ns(e);if(e.suspense&&Fe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<fs);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Nt)Bn(e);else if(e.state===Qr){const r=et;et=null,Bt(()=>ns(e,t[0]),!1),et=r}}function Bt(e,t){if(et)return e();let n=!1;t||(et=[]),Ot?n=!0:Ot=[],fs++;try{const r=e();return Oc(n),r}catch(r){n||(Ot=null),et=null,Ni(r)}}function Oc(e){if(et&&(Sl(et),et=null),e)return;const t=Ot;Ot=null,t.length&&Bt(()=>bl(t),!1)}function Sl(e){for(let t=0;t<e.length;t++)ts(e[t])}function Tc(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:ts(r)}if(fe.context){if(fe.count){fe.effects||(fe.effects=[]),fe.effects.push(...e.slice(0,n));return}else fe.effects&&(e=[...fe.effects,...e],n+=fe.effects.length,delete fe.effects);Gn()}for(t=0;t<n;t++)ts(e[t])}function ns(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const s=r.state;s===Nt?r!==t&&(!r.updatedAt||r.updatedAt<fs)&&ts(r):s===Qr&&ns(r,t)}}}function xl(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Qr,n.pure?et.push(n):Ot.push(n),n.observers&&xl(n))}}function vs(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),a=n.observerSlots.pop();r<s.length&&(i.sourceSlots[a]=r,s[r]=i,n.observerSlots[r]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)vs(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function kl(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ni(e,t=ge){throw kl(e)}function Zs(e){if(typeof e=="function"&&!e.length)return Zs(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Zs(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Ic(e,t){return function(r){let s;return D(()=>s=Fe(()=>(ge.context={...ge.context,[e]:r.value},gs(()=>r.children))),void 0),s}}const Bc=Symbol("fallback");function $a(e){for(let t=0;t<e.length;t++)e[t]()}function Rc(e,t,n={}){let r=[],s=[],i=[],a=0,l=t.length>1?[]:null;return hn(()=>$a(i)),()=>{let o=e()||[],u,c;return o[Cc],Fe(()=>{let d=o.length,m,_,v,p,y,b,$,k,x;if(d===0)a!==0&&($a(i),i=[],r=[],s=[],a=0,l&&(l=[])),n.fallback&&(r=[Bc],s[0]=kn(I=>(i[0]=I,n.fallback())),a=1);else if(a===0){for(s=new Array(d),c=0;c<d;c++)r[c]=o[c],s[c]=kn(f);a=d}else{for(v=new Array(d),p=new Array(d),l&&(y=new Array(d)),b=0,$=Math.min(a,d);b<$&&r[b]===o[b];b++);for($=a-1,k=d-1;$>=b&&k>=b&&r[$]===o[k];$--,k--)v[k]=s[$],p[k]=i[$],l&&(y[k]=l[$]);for(m=new Map,_=new Array(k+1),c=k;c>=b;c--)x=o[c],u=m.get(x),_[c]=u===void 0?-1:u,m.set(x,c);for(u=b;u<=$;u++)x=r[u],c=m.get(x),c!==void 0&&c!==-1?(v[c]=s[u],p[c]=i[u],l&&(y[c]=l[u]),c=_[c],m.set(x,c)):i[u]();for(c=b;c<d;c++)c in v?(s[c]=v[c],i[c]=p[c],l&&(l[c]=y[c],l[c](c))):s[c]=kn(f);s=s.slice(0,a=d),r=o.slice(0)}return s});function f(d){if(i[c]=d,l){const[m,_]=L(c);return l[c]=_,t(o[c],m)}return t(o[c])}}}function h(e,t){return Fe(()=>e(t||{}))}function Sr(){return!0}const Xs={get(e,t,n){return t===Zr?n:e.get(t)},has(e,t){return t===Zr?!0:e.has(t)},set:Sr,deleteProperty:Sr,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Sr,deleteProperty:Sr}},ownKeys(e){return e.keys()}};function Ls(e){return(e=typeof e=="function"?e():e)?e:{}}function Nc(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function ct(...e){let t=!1;for(let a=0;a<e.length;a++){const l=e[a];t=t||!!l&&Zr in l,e[a]=typeof l=="function"?(t=!0,F(l)):l}if(t)return new Proxy({get(a){for(let l=e.length-1;l>=0;l--){const o=Ls(e[l])[a];if(o!==void 0)return o}},has(a){for(let l=e.length-1;l>=0;l--)if(a in Ls(e[l]))return!0;return!1},keys(){const a=[];for(let l=0;l<e.length;l++)a.push(...Object.keys(Ls(e[l])));return[...new Set(a)]}},Xs);const n={},r=Object.create(null);for(let a=e.length-1;a>=0;a--){const l=e[a];if(!l)continue;const o=Object.getOwnPropertyNames(l);for(let u=o.length-1;u>=0;u--){const c=o[u];if(c==="__proto__"||c==="constructor")continue;const f=Object.getOwnPropertyDescriptor(l,c);if(!r[c])r[c]=f.get?{enumerable:!0,configurable:!0,get:Nc.bind(n[c]=[f.get.bind(l)])}:f.value!==void 0?f:void 0;else{const d=n[c];d&&(f.get?d.push(f.get.bind(l)):f.value!==void 0&&d.push(()=>f.value))}}}const s={},i=Object.keys(r);for(let a=i.length-1;a>=0;a--){const l=i[a],o=r[l];o&&o.get?Object.defineProperty(s,l,o):s[l]=o?o.value:void 0}return s}function Yt(e,...t){if(Zr in e){const s=new Set(t.length>1?t.flat():t[0]),i=t.map(a=>new Proxy({get(l){return a.includes(l)?e[l]:void 0},has(l){return a.includes(l)&&l in e},keys(){return a.filter(l=>l in e)}},Xs));return i.push(new Proxy({get(a){return s.has(a)?void 0:e[a]},has(a){return s.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!s.has(a))}},Xs)),i}const n={},r=t.map(()=>({}));for(const s of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,s),a=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let l=!1,o=0;for(const u of t)u.includes(s)&&(l=!0,a?r[o][s]=i.value:Object.defineProperty(r[o],s,i)),++o;l||(a?n[s]=i.value:Object.defineProperty(n,s,i))}return[...r,n]}function Di(e){let t,n;const r=s=>{const i=fe.context;if(i){const[l,o]=L();fe.count||(fe.count=0),fe.count++,(n||(n=e())).then(u=>{Gn(i),fe.count--,o(()=>u.default),Gn()}),t=l}else if(!t){const[l]=kc(()=>(n||(n=e())).then(o=>o.default));t=l}let a;return F(()=>(a=t())&&Fe(()=>{if(!i)return a(s);const l=fe.context;Gn(i);const o=a(s);return Gn(l),o}))};return r.preload=()=>n||((n=e()).then(s=>t=()=>s.default),n),r}const Pl=e=>`Stale read from <${e}>.`;function K(e){const t="fallback"in e&&{fallback:()=>e.fallback};return F(Rc(()=>e.each,e.children,t||void 0))}function H(e){const t=e.keyed,n=F(()=>e.when,void 0,{equals:(r,s)=>t?r===s:!r==!s});return F(()=>{const r=n();if(r){const s=e.children;return typeof s=="function"&&s.length>0?Fe(()=>s(t?r:()=>{if(!Fe(n))throw Pl("Show");return e.when})):s}return e.fallback},void 0,void 0)}function sr(e){let t=!1;const n=(i,a)=>(t?i[1]===a[1]:!i[1]==!a[1])&&i[2]===a[2],r=gs(()=>e.children),s=F(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let a=0;a<i.length;a++){const l=i[a].when;if(l)return t=!!i[a].keyed,[a,l,i[a]]}return[-1]},void 0,{equals:n});return F(()=>{const[i,a,l]=s();if(i<0)return e.fallback;const o=l.children;return typeof o=="function"&&o.length>0?Fe(()=>o(t?a:()=>{if(Fe(s)[0]!==i)throw Pl("Match");return l.when})):o},void 0,void 0)}function ot(e){return e}const Dc=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],jc=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Dc]),Mc=new Set(["innerHTML","textContent","innerText","children"]),Fc=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Kc=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Uc(e,t){const n=Kc[e];return typeof n=="object"?n[t]?n.$:void 0:n}const qc=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Hc={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Vc(e,t,n){let r=n.length,s=t.length,i=r,a=0,l=0,o=t[s-1].nextSibling,u=null;for(;a<s||l<i;){if(t[a]===n[l]){a++,l++;continue}for(;t[s-1]===n[i-1];)s--,i--;if(s===a){const c=i<r?l?n[l-1].nextSibling:n[i-l]:o;for(;l<i;)e.insertBefore(n[l++],c)}else if(i===l)for(;a<s;)(!u||!u.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[i-1]&&n[l]===t[s-1]){const c=t[--s].nextSibling;e.insertBefore(n[l++],t[a++].nextSibling),e.insertBefore(n[--i],c),t[s]=n[i]}else{if(!u){u=new Map;let f=l;for(;f<i;)u.set(n[f],f++)}const c=u.get(t[a]);if(c!=null)if(l<c&&c<i){let f=a,d=1,m;for(;++f<s&&f<i&&!((m=u.get(t[f]))==null||m!==c+d);)d++;if(d>c-l){const _=t[a];for(;l<c;)e.insertBefore(n[l++],_)}else e.replaceChild(n[l++],t[a++])}else a++;else t[a++].remove()}}}const Ca="_$DX_DELEGATE";function zc(e,t,n,r={}){let s;return kn(i=>{s=i,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{s(),t.textContent=""}}function w(e,t,n){let r;const s=()=>{const a=document.createElement("template");return a.innerHTML=e,n?a.content.firstChild.firstChild:a.content.firstChild},i=t?()=>Fe(()=>document.importNode(r||(r=s()),!0)):()=>(r||(r=s())).cloneNode(!0);return i.cloneNode=i,i}function dt(e,t=window.document){const n=t[Ca]||(t[Ca]=new Set);for(let r=0,s=e.length;r<s;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,Zc))}}function Ye(e,t,n){fe.context||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function Jc(e,t,n,r){fe.context||(r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r))}function B(e,t){fe.context||(t==null?e.removeAttribute("class"):e.className=t)}function ji(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const s=n[0];e.addEventListener(t,n[0]=i=>s.call(e,n[1],i))}else e.addEventListener(t,n)}function Wc(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let i,a;for(i=0,a=s.length;i<a;i++){const l=s[i];!l||l==="undefined"||t[l]||(Sa(e,l,!1),delete n[l])}for(i=0,a=r.length;i<a;i++){const l=r[i],o=!!t[l];!l||l==="undefined"||n[l]===o||!o||(Sa(e,l,!0),n[l]=o)}return n}function Mi(e,t,n){if(!t)return n?Ye(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let s,i;for(i in n)t[i]==null&&r.removeProperty(i),delete n[i];for(i in t)s=t[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function vt(e,t={},n,r){const s={};return r||D(()=>s.children=On(e,t.children,s.children)),D(()=>t.ref&&t.ref(e)),D(()=>Gc(e,t,n,!0,s,!0)),s}function rs(e,t,n){return Fe(()=>e(t,n))}function g(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return On(e,t,r,n);D(s=>On(e,t(),s,n),r)}function Gc(e,t,n,r,s={},i=!1){t||(t={});for(const a in s)if(!(a in t)){if(a==="children")continue;s[a]=xa(e,a,null,s[a],n,i)}for(const a in t){if(a==="children"){r||On(e,t.children);continue}const l=t[a];s[a]=xa(e,a,l,s[a],n,i)}}function Yc(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Sa(e,t,n){const r=t.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)e.classList.toggle(r[s],n)}function xa(e,t,n,r,s,i){let a,l,o,u,c;if(t==="style")return Mi(e,n,r);if(t==="classList")return Wc(e,n,r);if(n===r)return r;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);r&&e.removeEventListener(f,r),n&&e.addEventListener(f,n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);r&&e.removeEventListener(f,r,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),d=qc.has(f);if(!d&&r){const m=Array.isArray(r)?r[0]:r;e.removeEventListener(f,m)}(d||n)&&(ji(e,f,n,d),d&&dt([f]))}else if(t.slice(0,5)==="attr:")Ye(e,t.slice(5),n);else if((c=t.slice(0,5)==="prop:")||(o=Mc.has(t))||!s&&((u=Uc(t,e.tagName))||(l=jc.has(t)))||(a=e.nodeName.includes("-"))){if(c)t=t.slice(5),l=!0;else if(fe.context)return n;t==="class"||t==="className"?B(e,n):a&&!l&&!o?e[Yc(t)]=n:e[u||t]=n}else{const f=s&&t.indexOf(":")>-1&&Hc[t.split(":")[0]];f?Jc(e,f,t,n):Ye(e,Fc[t]||t,n)}return n}function Zc(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),fe.registry&&!fe.done&&(fe.done=_$HY.done=!0);n;){const r=n[t];if(r&&!n.disabled){const s=n[`${t}Data`];if(s!==void 0?r.call(n,s,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function On(e,t,n,r,s){if(fe.context){!n&&(n=[...e.childNodes]);let l=[];for(let o=0;o<n.length;o++){const u=n[o];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():l.push(u)}n=l}for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,i==="string"||i==="number"){if(fe.context)return n;if(i==="number"&&(t=t.toString()),a){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=yn(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||i==="boolean"){if(fe.context)return n;n=yn(e,n,r)}else{if(i==="function")return D(()=>{let l=t();for(;typeof l=="function";)l=l();n=On(e,l,n,r)}),()=>n;if(Array.isArray(t)){const l=[],o=n&&Array.isArray(n);if(Qs(l,t,n,s))return D(()=>n=On(e,l,n,r,!0)),()=>n;if(fe.context){if(!l.length)return n;if(r===void 0)return[...e.childNodes];let u=l[0],c=[u];for(;(u=u.nextSibling)!==r;)c.push(u);return n=c}if(l.length===0){if(n=yn(e,n,r),a)return n}else o?n.length===0?ka(e,l,r):Vc(e,n,l):(n&&yn(e),ka(e,l));n=l}else if(t.nodeType){if(fe.context&&t.parentNode)return n=a?[t]:t;if(Array.isArray(n)){if(a)return n=yn(e,n,r,t);yn(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Qs(e,t,n,r){let s=!1;for(let i=0,a=t.length;i<a;i++){let l=t[i],o=n&&n[i],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))s=Qs(e,l,o)||s;else if(u==="function")if(r){for(;typeof l=="function";)l=l();s=Qs(e,Array.isArray(l)?l:[l],Array.isArray(o)?o:[o])||s}else e.push(l),s=!0;else{const c=String(l);o&&o.nodeType===3&&o.data===c?e.push(o):e.push(document.createTextNode(c))}}return s}function ka(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function yn(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let i=!1;for(let a=t.length-1;a>=0;a--){const l=t[a];if(s!==l){const o=l.parentNode===e;!i&&!a?o?e.replaceChild(s,l):e.insertBefore(s,n):o&&l.remove()}else i=!0}}else e.insertBefore(s,n);return[s]}const Xc=!1,Qc="http://www.w3.org/2000/svg";function eu(e,t=!1){return t?document.createElementNS(Qc,e):document.createElement(e)}function Ll(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,s=es();let i,a=!!fe.context;return _l(()=>{a&&(es().user=a=!1),i||(i=Bi(s,()=>F(()=>e.children)));const l=r();if(l instanceof HTMLHeadElement){const[o,u]=L(!1),c=()=>u(!0);kn(f=>g(l,()=>o()?f():i(),null)),hn(c)}else{const o=eu(e.isSVG?"g":"div",e.isSVG),u=t&&o.attachShadow?o.attachShadow({mode:"open"}):o;Object.defineProperty(o,"_$host",{get(){return n.parentNode},configurable:!0}),g(u,i),l.appendChild(o),e.ref&&e.ref(o),hn(()=>l.removeChild(o))}},void 0,{render:!a}),n}function Al(){let e=new Set;function t(s){return e.add(s),()=>e.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const a={to:s,options:i,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const l of e)l.listener({...a,from:l.location,retry:o=>{o&&(n=!0),l.navigate(s,{...i,resolve:!1})}});return!a.defaultPrevented}return{subscribe:t,confirm:r}}let ei;function Fi(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),ei=window.history.state._depth}Fi();function tu(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function nu(e,t){let n=!1;return()=>{const r=ei;Fi();const s=r==null?null:ei-r;if(n){n=!1;return}s&&t(s)?(n=!0,window.history.go(-s)):e()}}const ru=/^(?:[a-z0-9]+:)?\/\//i,su=/^\/+|(\/)\/+$/g,El="http://sr";function an(e,t=!1){const n=e.replace(su,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Kr(e,t,n){if(ru.test(t))return;const r=an(e),s=n&&an(n);let i="";return!s||t.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+an(t,!i)}function iu(e,t){if(e==null)throw new Error(t);return e}function au(e,t){return an(e).replace(/\/*(\*.*)?$/g,"")+an(t)}function Ol(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function lu(e,t,n){const[r,s]=e.split("/*",2),i=r.split("/").filter(Boolean),a=i.length;return l=>{const o=l.split("/").filter(Boolean),u=o.length-a;if(u<0||u>0&&s===void 0&&!t)return null;const c={path:a?"":"/",params:{}},f=d=>n===void 0?void 0:n[d];for(let d=0;d<a;d++){const m=i[d],_=o[d],v=m[0]===":",p=v?m.slice(1):m;if(v&&As(_,f(p)))c.params[p]=_;else if(v||!As(_,m))return null;c.path+=`/${_}`}if(s){const d=u?o.slice(-u).join("/"):"";if(As(d,f(s)))c.params[s]=d;else return null}return c}}function As(e,t){const n=r=>r.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function ou(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Tl(e){const t=new Map,n=es();return new Proxy({},{get(r,s){return t.has(s)||Bi(n,()=>t.set(s,F(()=>e()[s]))),t.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function cu(e,t){const n=new URLSearchParams(e);Object.entries(t).forEach(([s,i])=>{i==null||i===""?n.delete(s):n.set(s,String(i))});const r=n.toString();return r?`?${r}`:""}function Il(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const s=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=t[1]),r=r.slice(t[0].length);return Il(r).reduce((i,a)=>[...i,...s.map(l=>l+a)],[])}const uu=100,Bl=Ri(),Ki=Ri(),dr=()=>iu(Te(Bl),"<A> and 'use' router primitives can be only used inside a Route."),hu=()=>Te(Ki)||dr().base,du=e=>{const t=hu();return F(()=>t.resolvePath(e()))},fu=e=>{const t=dr();return F(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},Rl=()=>dr().navigatorFactory(),Nl=()=>dr().location,hb=()=>dr().params,Zt=()=>{const e=Nl(),t=Rl(),n=(r,s)=>{const i=Fe(()=>e.pathname+cu(e.search,r)+e.hash);t(i,{scroll:!1,resolve:!1,...s})};return[e.query,n]};function gu(e,t=""){const{component:n,load:r,children:s,info:i}=e,a=!s||Array.isArray(s)&&!s.length,l={key:e,component:n,load:r,info:i};return Dl(e.path).reduce((o,u)=>{for(const c of Il(u)){const f=au(t,c);let d=a?f:f.split("/*",1)[0];d=d.split("/").map(m=>m.startsWith(":")||m.startsWith("*")?m:encodeURIComponent(m)).join("/"),o.push({...l,originalPath:u,pattern:d,matcher:lu(d,!a,e.matchFilters)})}return o},[])}function mu(e,t=0){return{routes:e,score:ou(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let s=e.length-1;s>=0;s--){const i=e[s],a=i.matcher(n);if(!a)return null;r.unshift({...a,route:i})}return r}}}function Dl(e){return Array.isArray(e)?e:[e]}function jl(e,t="",n=[],r=[]){const s=Dl(e);for(let i=0,a=s.length;i<a;i++){const l=s[i];if(l&&typeof l=="object"){l.hasOwnProperty("path")||(l.path="");const o=gu(l,t);for(const u of o){n.push(u);const c=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!c)jl(l.children,u.pattern,n,r);else{const f=mu([...n],r.length);r.push(f)}n.pop()}}}return n.length?r:r.sort((i,a)=>a.score-i.score)}function Es(e,t){for(let n=0,r=e.length;n<r;n++){const s=e[n].matcher(t);if(s)return s}return[]}function vu(e,t){const n=new URL(El),r=F(o=>{const u=e();try{return new URL(u,n)}catch{return console.error(`Invalid path ${u}`),o}},n,{equals:(o,u)=>o.href===u.href}),s=F(()=>r().pathname),i=F(()=>r().search,!0),a=F(()=>r().hash),l=()=>"";return{get pathname(){return s()},get search(){return i()},get hash(){return a()},get state(){return t()},get key(){return l()},query:Tl(wl(i,()=>Ol(r())))}}let Pt;function pu(){return Pt}function bu(e,t,n,r={}){const{signal:[s,i],utils:a={}}=e,l=a.parsePath||(O=>O),o=a.renderPath||(O=>O),u=a.beforeLeave||Al(),c=Kr("",r.base||"");if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!s().value&&i({value:c,replace:!0,scroll:!1});const[f,d]=L(!1),m=async O=>{d(!0);try{await Lc(O)}finally{d(!1)}},[_,v]=L(s().value),[p,y]=L(s().state),b=vu(_,p),$=[],k=L([]),x=F(()=>typeof r.transformUrl=="function"?Es(t(),r.transformUrl(b.pathname)):Es(t(),b.pathname)),I=Tl(()=>{const O=x(),M={};for(let T=0;T<O.length;T++)Object.assign(M,O[T].params);return M}),S={pattern:c,path:()=>c,outlet:()=>null,resolvePath(O){return Kr(c,O)}};return D(()=>{const{value:O,state:M}=s();Fe(()=>{m(()=>{Pt="native",O!==_()&&v(O),y(M),k[1]([])}).then(()=>{Pt=void 0})})}),{base:S,location:b,params:I,isRouting:f,renderPath:o,parsePath:l,navigatorFactory:C,matches:x,beforeLeave:u,preloadRoute:P,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:k};function U(O,M,T){Fe(()=>{if(typeof M=="number"){M&&(a.go?a.go(M):console.warn("Router integration does not support relative routing"));return}const{replace:q,resolve:N,scroll:R,state:Z}={replace:!1,resolve:!0,scroll:!0,...T},j=N?O.resolvePath(M):Kr("",M);if(j===void 0)throw new Error(`Path '${M}' is not a routable path`);if($.length>=uu)throw new Error("Too many redirects");const W=_();if((j!==W||Z!==p())&&!Xc){if(u.confirm(j,T)){const re=$.push({value:W,replace:q,scroll:R,state:p()});m(()=>{Pt="navigate",v(j),y(Z),k[1]([])}).then(()=>{$.length===re&&(Pt=void 0,A({value:j,state:Z}))})}}})}function C(O){return O=O||Te(Ki)||S,(M,T)=>U(O,M,T)}function A(O){const M=$[0];M&&((O.value!==M.value||O.state!==M.state)&&i({...O,replace:M.replace,scroll:M.scroll}),$.length=0)}function P(O,M){const T=Es(t(),O.pathname),q=Pt;Pt="preload";for(let N in T){const{route:R,params:Z}=T[N];R.component&&R.component.preload&&R.component.preload();const{load:j}=R;M&&j&&Bi(n(),()=>j({params:Z,location:{pathname:O.pathname,search:O.search,hash:O.hash,query:Ol(O),state:null,key:""},intent:"preload"}))}Pt=q}}function yu(e,t,n,r){const{base:s,location:i,params:a}=e,{pattern:l,component:o,load:u}=r().route,c=F(()=>r().path);o&&o.preload&&o.preload();const f=u?u({params:a,location:i,intent:Pt||"initial"}):void 0;return{parent:t,pattern:l,path:c,outlet:()=>o?h(o,{params:a,location:i,data:f,get children(){return n()}}):n(),resolvePath(m){return Kr(s.path(),m,c())}}}const _u=e=>t=>{const{base:n}=t,r=gs(()=>t.children),s=F(()=>jl(r(),t.base||""));let i;const a=bu(e,s,()=>i,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(a),h(Bl.Provider,{value:a,get children(){return h(wu,{routerState:a,get root(){return t.root},get load(){return t.rootLoad},get children(){return[F(()=>(i=es())&&null),h($u,{routerState:a,get branches(){return s()}})]}})}})};function wu(e){const t=e.routerState.location,n=e.routerState.params,r=F(()=>e.load&&Fe(()=>{e.load({params:n,location:t,intent:pu()||"initial"})}));return h(H,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:s=>h(s,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function $u(e){const t=[];let n;const r=F(wl(e.routerState.matches,(s,i,a)=>{let l=i&&s.length===i.length;const o=[];for(let u=0,c=s.length;u<c;u++){const f=i&&i[u],d=s[u];a&&f&&d.route.key===f.route.key?o[u]=a[u]:(l=!1,t[u]&&t[u](),kn(m=>{t[u]=m,o[u]=yu(e.routerState,o[u-1]||e.routerState.base,Pa(()=>r()[u+1]),()=>e.routerState.matches()[u])}))}return t.splice(s.length).forEach(u=>u()),a&&l?a:(n=o[0],o)}));return Pa(()=>r()&&n)()}const Pa=e=>()=>h(H,{get when(){return e()},keyed:!0,children:t=>h(Ki.Provider,{value:t,get children(){return t.outlet()}})}),Ce=e=>{const t=gs(()=>e.children);return ct(e,{get children(){return t()}})};function Cu([e,t],n,r){return[n?()=>n(e()):e,r?s=>t(r(s)):t]}function Su(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function xu(e){let t=!1;const n=s=>typeof s=="string"?{value:s}:s,r=Cu(L(n(e.get()),{equals:(s,i)=>s.value===i.value&&s.state===i.state}),void 0,s=>(!t&&e.set(s),s));return e.init&&hn(e.init((s=e.get())=>{t=!0,r[1](n(s)),t=!1})),_u({signal:r,create:e.create,utils:e.utils})}function ku(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Pu(e,t){const n=Su(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Lu=new Map;function Au(e=!0,t=!1,n="/_server",r){return s=>{const i=s.base.path(),a=s.navigatorFactory(s.base);let l={};function o(v){return v.namespaceURI==="http://www.w3.org/2000/svg"}function u(v){if(v.defaultPrevented||v.button!==0||v.metaKey||v.altKey||v.ctrlKey||v.shiftKey)return;const p=v.composedPath().find(I=>I instanceof Node&&I.nodeName.toUpperCase()==="A");if(!p||t&&!p.hasAttribute("link"))return;const y=o(p),b=y?p.href.baseVal:p.href;if((y?p.target.baseVal:p.target)||!b&&!p.hasAttribute("state"))return;const k=(p.getAttribute("rel")||"").split(/\s+/);if(p.hasAttribute("download")||k&&k.includes("external"))return;const x=y?new URL(b,document.baseURI):new URL(b);if(!(x.origin!==window.location.origin||i&&x.pathname&&!x.pathname.toLowerCase().startsWith(i.toLowerCase())))return[p,x]}function c(v){const p=u(v);if(!p)return;const[y,b]=p,$=s.parsePath(b.pathname+b.search+b.hash),k=y.getAttribute("state");v.preventDefault(),a($,{resolve:!1,replace:y.hasAttribute("replace"),scroll:!y.hasAttribute("noscroll"),state:k&&JSON.parse(k)})}function f(v){const p=u(v);if(!p)return;const[y,b]=p;typeof r=="function"&&(b.pathname=r(b.pathname)),l[b.pathname]||s.preloadRoute(b,y.getAttribute("preload")!=="false")}function d(v){const p=u(v);if(!p)return;const[y,b]=p;typeof r=="function"&&(b.pathname=r(b.pathname)),!l[b.pathname]&&(l[b.pathname]=setTimeout(()=>{s.preloadRoute(b,y.getAttribute("preload")!=="false"),delete l[b.pathname]},200))}function m(v){const p=u(v);if(!p)return;const[,y]=p;typeof r=="function"&&(y.pathname=r(y.pathname)),l[y.pathname]&&(clearTimeout(l[y.pathname]),delete l[y.pathname])}function _(v){if(v.defaultPrevented)return;let p=v.submitter&&v.submitter.hasAttribute("formaction")?v.submitter.getAttribute("formaction"):v.target.getAttribute("action");if(!p)return;if(!p.startsWith("https://action/")){const b=new URL(p,El);if(p=s.parsePath(b.pathname+b.search),!p.startsWith(n))return}if(v.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const y=Lu.get(p);if(y){v.preventDefault();const b=new FormData(v.target);v.submitter&&v.submitter.name&&b.append(v.submitter.name,v.submitter.value),y.call({r:s,f:v.target},b)}}dt(["click","submit"]),document.addEventListener("click",c),e&&(document.addEventListener("mouseover",d),document.addEventListener("mouseout",m),document.addEventListener("focusin",f),document.addEventListener("touchstart",f)),document.addEventListener("submit",_),hn(()=>{document.removeEventListener("click",c),e&&(document.removeEventListener("mouseover",d),document.removeEventListener("mouseout",m),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",_)})}}function Eu(e){const t=()=>{const r=window.location.pathname+window.location.search;return{value:e.transformUrl?e.transformUrl(r)+window.location.hash:r+window.location.hash,state:window.history.state}},n=Al();return xu({get:t,set({value:r,replace:s,scroll:i,state:a}){s?window.history.replaceState(tu(a),"",r):window.history.pushState(a,"",r),Pu(window.location.hash.slice(1),i),Fi()},init:r=>ku(window,"popstate",nu(r,s=>{if(s&&s<0)return!n.confirm(s);{const i=t();return!n.confirm(i.value,{state:i.state})}})),create:Au(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}var Ou=w("<a>");function rn(e){e=ct({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=Yt(e,["href","state","class","activeClass","inactiveClass","end"]),n=du(()=>e.href),r=fu(n),s=Nl(),i=F(()=>{const a=n();if(a===void 0)return[!1,!1];const l=an(a.split(/[?#]/,1)[0]).toLowerCase(),o=an(s.pathname).toLowerCase();return[e.end?l===o:o.startsWith(l),l===o]});return(()=>{var a=Ou();return vt(a,ct(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!i()[0],[e.activeClass]:i()[0],...t.classList}},link:"",get"aria-current"(){return i()[1]?"page":void 0}}),!1,!1),a})()}var ti=function(e,t){return ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ti(e,t)};function Rn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ti(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Tu(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(c){try{u(r.next(c))}catch(f){a(f)}}function o(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?i(c.value):s(c.value).then(l,o)}u((r=r.apply(e,t||[])).next())})}function Ml(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(c){return o([u,c])}}function o(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Tn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ni(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function ri(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Pn(e){return this instanceof Pn?(this.v=e,this):new Pn(e)}function Iu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(d){r[d]&&(s[d]=function(m){return new Promise(function(_,v){i.push([d,m,_,v])>1||l(d,m)})})}function l(d,m){try{o(r[d](m))}catch(_){f(i[0][3],_)}}function o(d){d.value instanceof Pn?Promise.resolve(d.value.v).then(u,c):f(i[0][2],d)}function u(d){l("next",d)}function c(d){l("throw",d)}function f(d,m){d(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Bu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Tn=="function"?Tn(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(l,o){a=e[i](a),s(l,o,a.done,a.value)})}}function s(i,a,l,o){Promise.resolve(o).then(function(u){i({value:u,done:l})},a)}}function Ne(e){return typeof e=="function"}function Fl(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Os=Fl(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,s){return s+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function si(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ps=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,s,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var l=Tn(a),o=l.next();!o.done;o=l.next()){var u=o.value;u.remove(this)}}catch(v){t={error:v}}finally{try{o&&!o.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(Ne(c))try{c()}catch(v){i=v instanceof Os?v.errors:[v]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=Tn(f),m=d.next();!m.done;m=d.next()){var _=m.value;try{La(_)}catch(v){i=i??[],v instanceof Os?i=ri(ri([],ni(i)),ni(v.errors)):i.push(v)}}}catch(v){r={error:v}}finally{try{m&&!m.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}}if(i)throw new Os(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)La(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&si(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&si(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Kl=ps.EMPTY;function Ul(e){return e instanceof ps||e&&"closed"in e&&Ne(e.remove)&&Ne(e.add)&&Ne(e.unsubscribe)}function La(e){Ne(e)?e():e.unsubscribe()}var ql={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Hl={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,ri([e,t],ni(n)))},clearTimeout:function(e){var t=Hl.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Vl(e){Hl.setTimeout(function(){throw e})}function Aa(){}function Ur(e){e()}var Ui=function(e){Rn(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Ul(n)&&n.add(r)):r.destination=ju,r}return t.create=function(n,r,s){return new ii(n,r,s)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ps),Ru=Function.prototype.bind;function Ts(e,t){return Ru.call(e,t)}var Nu=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){xr(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){xr(r)}else xr(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){xr(n)}},e}(),ii=function(e){Rn(t,e);function t(n,r,s){var i=e.call(this)||this,a;if(Ne(n)||!n)a={next:n??void 0,error:r??void 0,complete:s??void 0};else{var l;i&&ql.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return i.unsubscribe()},a={next:n.next&&Ts(n.next,l),error:n.error&&Ts(n.error,l),complete:n.complete&&Ts(n.complete,l)}):a=n}return i.destination=new Nu(a),i}return t}(Ui);function xr(e){Vl(e)}function Du(e){throw e}var ju={closed:!0,next:Aa,error:Du,complete:Aa},qi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function zl(e){return e}function Mu(e){return e.length===0?zl:e.length===1?e[0]:function(n){return e.reduce(function(r,s){return s(r)},n)}}var it=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var s=this,i=Ku(t)?t:new ii(t,n,r);return Ur(function(){var a=s,l=a.operator,o=a.source;i.add(l?l.call(i,o):o?s._subscribe(i):s._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Ea(n),new n(function(s,i){var a=new ii({next:function(l){try{t(l)}catch(o){i(o),a.unsubscribe()}},error:i,complete:s});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[qi]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Mu(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Ea(t),new t(function(r,s){var i;n.subscribe(function(a){return i=a},function(a){return s(a)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function Ea(e){var t;return(t=e??ql.Promise)!==null&&t!==void 0?t:Promise}function Fu(e){return e&&Ne(e.next)&&Ne(e.error)&&Ne(e.complete)}function Ku(e){return e&&e instanceof Ui||Fu(e)&&Ul(e)}function Uu(e){return Ne(e?.lift)}function mn(e){return function(t){if(Uu(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dn(e,t,n,r,s){return new qu(e,t,n,r,s)}var qu=function(e){Rn(t,e);function t(n,r,s,i,a,l){var o=e.call(this,n)||this;return o.onFinalize=a,o.shouldUnsubscribe=l,o._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:e.prototype._next,o._error=i?function(u){try{i(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=s?function(){try{s()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,o}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Ui),Hu=Fl(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Jl=function(e){Rn(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Oa(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Hu},t.prototype.next=function(n){var r=this;Ur(function(){var s,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Tn(r.currentObservers),l=a.next();!l.done;l=a.next()){var o=l.value;o.next(n)}}catch(u){s={error:u}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}}})},t.prototype.error=function(n){var r=this;Ur(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var s=r.observers;s.length;)s.shift().error(n)}})},t.prototype.complete=function(){var n=this;Ur(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,s=this,i=s.hasError,a=s.isStopped,l=s.observers;return i||a?Kl:(this.currentObservers=null,l.push(n),new ps(function(){r.currentObservers=null,si(l,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,s=r.hasError,i=r.thrownError,a=r.isStopped;s?n.error(i):a&&n.complete()},t.prototype.asObservable=function(){var n=new it;return n.source=this,n},t.create=function(n,r){return new Oa(n,r)},t}(it),Oa=function(e){Rn(t,e);function t(n,r){var s=e.call(this)||this;return s.destination=n,s.source=r,s}return t.prototype.next=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,n)},t.prototype.error=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&s!==void 0?s:Kl},t}(Jl),Vu=function(e){Rn(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,s=n.thrownError,i=n._value;if(r)throw s;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Jl),zu=new it(function(e){return e.complete()});function Ju(e){return e&&Ne(e.schedule)}function Wu(e){return e[e.length-1]}function Gu(e){return Ju(Wu(e))?e.pop():void 0}var Wl=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Gl(e){return Ne(e?.then)}function Yl(e){return Ne(e[qi])}function Zl(e){return Symbol.asyncIterator&&Ne(e?.[Symbol.asyncIterator])}function Xl(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Yu(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ql=Yu();function eo(e){return Ne(e?.[Ql])}function to(e){return Iu(this,arguments,function(){var n,r,s,i;return Ml(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Pn(n.read())];case 3:return r=a.sent(),s=r.value,i=r.done,i?[4,Pn(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Pn(s)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function no(e){return Ne(e?.getReader)}function Nn(e){if(e instanceof it)return e;if(e!=null){if(Yl(e))return Zu(e);if(Wl(e))return Xu(e);if(Gl(e))return Qu(e);if(Zl(e))return ro(e);if(eo(e))return eh(e);if(no(e))return th(e)}throw Xl(e)}function Zu(e){return new it(function(t){var n=e[qi]();if(Ne(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Xu(e){return new it(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Qu(e){return new it(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Vl)})}function eh(e){return new it(function(t){var n,r;try{for(var s=Tn(e),i=s.next();!i.done;i=s.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}t.complete()})}function ro(e){return new it(function(t){nh(e,t).catch(function(n){return t.error(n)})})}function th(e){return ro(to(e))}function nh(e,t){var n,r,s,i;return Tu(this,void 0,void 0,function(){var a,l;return Ml(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),n=Bu(e),o.label=1;case 1:return[4,n.next()];case 2:if(r=o.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=o.sent(),s={error:l},[3,11];case 6:return o.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Vt(e,t,n,r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var i=t.schedule(function(){n(),s?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!s)return i}function so(e,t){return t===void 0&&(t=0),mn(function(n,r){n.subscribe(dn(r,function(s){return Vt(r,e,function(){return r.next(s)},t)},function(){return Vt(r,e,function(){return r.complete()},t)},function(s){return Vt(r,e,function(){return r.error(s)},t)}))})}function io(e,t){return t===void 0&&(t=0),mn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function rh(e,t){return Nn(e).pipe(io(t),so(t))}function sh(e,t){return Nn(e).pipe(io(t),so(t))}function ih(e,t){return new it(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ah(e,t){return new it(function(n){var r;return Vt(n,t,function(){r=e[Ql](),Vt(n,t,function(){var s,i,a;try{s=r.next(),i=s.value,a=s.done}catch(l){n.error(l);return}a?n.complete():n.next(i)},0,!0)}),function(){return Ne(r?.return)&&r.return()}})}function ao(e,t){if(!e)throw new Error("Iterable cannot be null");return new it(function(n){Vt(n,t,function(){var r=e[Symbol.asyncIterator]();Vt(n,t,function(){r.next().then(function(s){s.done?n.complete():n.next(s.value)})},0,!0)})})}function lh(e,t){return ao(to(e),t)}function oh(e,t){if(e!=null){if(Yl(e))return rh(e,t);if(Wl(e))return ih(e,t);if(Gl(e))return sh(e,t);if(Zl(e))return ao(e,t);if(eo(e))return ah(e,t);if(no(e))return lh(e,t)}throw Xl(e)}function ch(e,t){return t?oh(e,t):Nn(e)}function we(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Gu(e);return ch(e,n)}function uh(e,t){return mn(function(n,r){var s=0;n.subscribe(dn(r,function(i){r.next(e.call(t,i,s++))}))})}function hh(e,t,n,r,s,i,a,l){var o=[],u=0,c=0,f=!1,d=function(){f&&!o.length&&!u&&t.complete()},m=function(v){return u<r?_(v):o.push(v)},_=function(v){i&&t.next(v),u++;var p=!1;Nn(n(v,c++)).subscribe(dn(t,function(y){s?.(y),i?m(y):t.next(y)},function(){p=!0},void 0,function(){if(p)try{u--;for(var y=function(){var b=o.shift();a?Vt(t,a,function(){return _(b)}):_(b)};o.length&&u<r;)y();d()}catch(b){t.error(b)}}))};return e.subscribe(dn(t,m,function(){f=!0,d()})),function(){l?.()}}function ai(e,t,n){return n===void 0&&(n=1/0),Ne(t)?ai(function(r,s){return uh(function(i,a){return t(r,i,s,a)})(Nn(e(r,s)))},n):(typeof t=="number"&&(n=t),mn(function(r,s){return hh(r,s,e,n)}))}function vn(e){return mn(function(t,n){var r=null,s=!1,i;r=t.subscribe(dn(n,void 0,void 0,function(a){i=Nn(e(a,vn(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Se(e,t){return Ne(t)?ai(e,t,1):ai(e,1)}function oe(e){return e<=0?function(){return zu}:mn(function(t,n){var r=0;t.subscribe(dn(n,function(s){++r<=e&&(n.next(s),e<=r&&n.complete())}))})}function je(e,t,n){var r=Ne(e)||t||n?{next:e,error:t,complete:n}:e;return r?mn(function(s,i){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var l=!0;s.subscribe(dn(i,function(o){var u;(u=r.next)===null||u===void 0||u.call(r,o),i.next(o)},function(){var o;l=!1,(o=r.complete)===null||o===void 0||o.call(r),i.complete()},function(o){var u;l=!1,(u=r.error)===null||u===void 0||u.call(r,o),i.error(o)},function(){var o,u;l&&((o=r.unsubscribe)===null||o===void 0||o.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):zl}class dh{loggedIn=L({});tokenValue=L("");set token(t){this.tokenValue[1](t),this.loggedIn[1]({Authorization:`Bearer ${t}`})}get token(){return this.tokenValue[0]}clearToken(){this.loggedIn[1]({Authorization:""})}toObservable(t){return new it(n=>{t.then(r=>{n.next(r)}).catch(r=>n.error(r)).finally(()=>n.complete())})}post(t,n,r){return new it(s=>{fetch(t,{method:"POST",headers:{"Content-Type":"application/json",...r?.headers,...this.loggedIn[0]()},body:JSON.stringify(n)}).then(i=>{if(!i.ok)throw new Error(i.statusText);return i.json()}).then(i=>{s.next(i)}).catch(i=>s.error(i)).finally(()=>s.complete())})}get(t,n){return new it(r=>{fetch(t,{method:"GET",headers:{"Content-Type":"application/json",...n?.headers,...this.loggedIn[0]()}}).then(s=>{if(!s.ok)throw new Error(s.statusText);return s.json()}).then(s=>{r.next(s)}).catch(s=>r.error(s)).finally(()=>r.complete())})}}const te=new dh,ke=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Me=Object.keys,Qe=Array.isArray;function at(e,t){return typeof t!="object"||Me(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||ke.Promise||(ke.Promise=Promise);const ir=Object.getPrototypeOf,fh={}.hasOwnProperty;function ht(e,t){return fh.call(e,t)}function In(e,t){typeof t=="function"&&(t=t(ir(e))),(typeof Reflect>"u"?Me:Reflect.ownKeys)(t).forEach(n=>{Tt(e,n,t[n])})}const lo=Object.defineProperty;function Tt(e,t,n,r){lo(e,t,at(n&&ht(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ln(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Tt(e.prototype,"constructor",e),{extend:In.bind(null,e.prototype)}}}}const gh=Object.getOwnPropertyDescriptor;function Hi(e,t){let n;return gh(e,t)||(n=ir(e))&&Hi(n,t)}const mh=[].slice;function ss(e,t,n){return mh.call(e,t,n)}function oo(e,t){return t(e)}function Yn(e){if(!e)throw new Error("Assertion Failed")}function co(e){ke.setImmediate?setImmediate(e):setTimeout(e,0)}function uo(e,t){return e.reduce((n,r,s)=>{var i=t(r,s);return i&&(n[i[0]]=i[1]),n},{})}function It(e,t){if(ht(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,s=t.length;r<s;++r){var i=It(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(a!==-1){var l=e[t.substr(0,a)];return l===void 0?void 0:It(l,t.substr(a+1))}}function yt(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Yn(typeof n!="string"&&"length"in n);for(var r=0,s=t.length;r<s;++r)yt(e,t[r],n[r])}else{var i=t.indexOf(".");if(i!==-1){var a=t.substr(0,i),l=t.substr(i+1);if(l==="")n===void 0?Qe(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var o=e[a];o&&ht(e,a)||(o=e[a]={}),yt(o,l,n)}}else n===void 0?Qe(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ho(e){var t={};for(var n in e)ht(e,n)&&(t[n]=e[n]);return t}const vh=[].concat;function fo(e){return vh.apply([],e)}const go="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fo([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>ke[e]),ph=go.map(e=>ke[e]);uo(go,e=>[e,!0]);let Ut=null;function fr(e){Ut=typeof WeakMap<"u"&&new WeakMap;const t=li(e);return Ut=null,t}function li(e){if(!e||typeof e!="object")return e;let t=Ut&&Ut.get(e);if(t)return t;if(Qe(e)){t=[],Ut&&Ut.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(li(e[n]))}else if(ph.indexOf(e.constructor)>=0)t=e;else{const i=ir(e);for(var s in t=i===Object.prototype?{}:Object.create(i),Ut&&Ut.set(e,t),e)ht(e,s)&&(t[s]=li(e[s]))}return t}const{toString:bh}={};function oi(e){return bh.call(e).slice(8,-1)}const ci=typeof Symbol<"u"?Symbol.iterator:"@@iterator",yh=typeof ci=="symbol"?function(e){var t;return e!=null&&(t=e[ci])&&t.apply(e)}:function(){return null},Sn={};function At(e){var t,n,r,s;if(arguments.length===1){if(Qe(e))return e.slice();if(this===Sn&&typeof e=="string")return[e];if(s=yh(e)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Vi=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ct=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function mo(e,t){Ct=e,vo=t}var vo=()=>!0;const _h=!new Error("").stack;function pn(){if(_h)try{throw pn.arguments,new Error}catch(e){return e}return new Error}function ui(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(vo).map(r=>`
`+r).join("")):""}var po=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],zi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(po),wh={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function An(e,t){this._e=pn(),this.name=e,this.message=t}function bo(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,s)=>s.indexOf(n)===r).join(`
`)}function is(e,t,n,r){this._e=pn(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=bo(e,t)}function Xn(e,t){this._e=pn(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=bo(e,t)}Ln(An).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ui(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Ln(is).from(An),Ln(Xn).from(An);var Ji=zi.reduce((e,t)=>(e[t]=t+"Error",e),{});const $h=An;var Q=zi.reduce((e,t)=>{var n=t+"Error";function r(s,i){this._e=pn(),this.name=n,s?typeof s=="string"?(this.message=`${s}${i?`
 `+i:""}`,this.inner=i||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=wh[t]||n,this.inner=null)}return Ln(r).from($h),e[t]=r,e},{});Q.Syntax=SyntaxError,Q.Type=TypeError,Q.Range=RangeError;var Ta=po.reduce((e,t)=>(e[t+"Error"]=Q[t],e),{}),qr=zi.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Q[t]),e),{});function _e(){}function ar(e){return e}function Ch(e,t){return e==null||e===ar?t:function(n){return t(e(n))}}function fn(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Sh(e,t){return e===_e?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?fn(r,this.onsuccess):r),s&&(this.onerror=this.onerror?fn(s,this.onerror):s),i!==void 0?i:n}}function xh(e,t){return e===_e?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?fn(n,this.onsuccess):n),r&&(this.onerror=this.onerror?fn(r,this.onerror):r)}}function kh(e,t){return e===_e?t:function(n){var r=e.apply(this,arguments);at(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?fn(s,this.onsuccess):s),i&&(this.onerror=this.onerror?fn(i,this.onerror):i),r===void 0?a===void 0?void 0:a:at(r,a)}}function Ph(e,t){return e===_e?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Wi(e,t){return e===_e?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}qr.ModifyError=is,qr.DexieError=An,qr.BulkError=Xn;var lr={};const yo=100,[hi,as,di]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,ir(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,ir(t),e]})(),_o=as&&as.then,Hr=hi&&hi.constructor,Gi=!!di;var fi=!1,Lh=di?()=>{di.then(kr)}:ke.setImmediate?setImmediate.bind(null,kr):ke.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{kr(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(kr,0)},Qn=function(e,t){Zn.push([e,t]),ls&&(Lh(),ls=!1)},gi=!0,ls=!0,ln=[],Vr=[],mi=null,vi=ar,En={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ra,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Ra(e[0],e[1])}catch{}})}},Y=En,Zn=[],on=0,zr=[];function z(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=_e,this._lib=!1;var t=this._PSD=Y;if(Ct&&(this._stackHolder=pn(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==lr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&bi(this,this._value))}this._state=null,this._value=null,++t.ref,$o(this,e)}const pi={get:function(){var e=Y,t=os;function n(r,s){var i=!e.global&&(e!==Y||t!==os);const a=i&&!Rt();var l=new z((o,u)=>{Yi(this,new wo(cs(r,e,i,a),cs(s,e,i,a),o,u,e))});return Ct&&xo(l,this),l}return n.prototype=lr,n},set:function(e){Tt(this,"then",e&&e.prototype===lr?pi:{get:function(){return e},set:pi.set})}};function wo(e,t,n,r,s){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=s}function $o(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&gr();n&&typeof n.then=="function"?$o(e,(s,i)=>{n instanceof z?n._then(s,i):n.then(s,i)}):(e._state=!0,e._value=n,Co(e)),r&&mr()}},bi.bind(null,e))}catch(n){bi(e,n)}}function bi(e,t){if(Vr.push(t),e._state===null){var n=e._lib&&gr();t=vi(t),e._state=!1,e._value=t,Ct&&t!==null&&typeof t=="object"&&!t._promise&&function(r,s,i){try{r.apply(null,i)}catch(a){s&&s(a)}}(()=>{var r=Hi(t,"stack");t._promise=e,Tt(t,"stack",{get:()=>fi?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){ln.some(s=>s._value===r._value)||ln.push(r)}(e),Co(e),n&&mr()}}function Co(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Yi(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),on===0&&(++on,Qn(()=>{--on==0&&Zi()},[]))}function Yi(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++on,Qn(Ah,[n,e,t])}else e._listeners.push(t)}function Ah(e,t,n){try{mi=t;var r,s=t._value;t._state?r=e(s):(Vr.length&&(Vr=[]),r=e(s),Vr.indexOf(s)===-1&&function(i){for(var a=ln.length;a;)if(ln[--a]._value===i._value)return void ln.splice(a,1)}(t)),n.resolve(r)}catch(i){n.reject(i)}finally{mi=null,--on==0&&Zi(),--n.psd.ref||n.psd.finalize()}}function So(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var s,i,a=e._value;a!=null?(s=a.name||"Error",i=a.message||a,r=ui(a,0)):(s=a,i=""),t.push(s+(i?": "+i:"")+r)}return Ct&&((r=ui(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&So(e._prev,t,n)),t}function xo(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function kr(){gr()&&mr()}function gr(){var e=gi;return gi=!1,ls=!1,e}function mr(){var e,t,n;do for(;Zn.length>0;)for(e=Zn,Zn=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Zn.length>0);gi=!0,ls=!0}function Zi(){var e=ln;ln=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=zr.slice(0),n=t.length;n;)t[--n]()}function Pr(e){return new z(lr,!1,e)}function Oe(e,t){var n=Y;return function(){var r=gr(),s=Y;try{return Wt(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{Wt(s,!1),r&&mr()}}}In(z.prototype,{then:pi,_then:function(e,t){Yi(this,new wo(null,null,e,t,Y))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Pr(r)):this.then(null,r=>r&&r.name===t?n(r):Pr(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Pr(t)))},stack:{get:function(){if(this._stack)return this._stack;try{fi=!0;var e=So(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{fi=!1}}},timeout:function(e,t){return e<1/0?new z((n,r)=>{var s=setTimeout(()=>r(new Q.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Tt(z.prototype,Symbol.toStringTag,"Dexie.Promise"),En.env=ko(),In(z,{all:function(){var e=At.apply(null,arguments).map(Lr);return new z(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((s,i)=>z.resolve(s).then(a=>{e[i]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof z)return e;if(e&&typeof e.then=="function")return new z((n,r)=>{e.then(n,r)});var t=new z(lr,!0,e);return xo(t,mi),t},reject:Pr,race:function(){var e=At.apply(null,arguments).map(Lr);return new z((t,n)=>{e.map(r=>z.resolve(r).then(t,n))})},PSD:{get:()=>Y,set:e=>Y=e},totalEchoes:{get:()=>os},newPSD:Jt,usePSD:jn,scheduler:{get:()=>Qn,set:e=>{Qn=e}},rejectionMapper:{get:()=>vi,set:e=>{vi=e}},follow:(e,t)=>new z((n,r)=>Jt((s,i)=>{var a=Y;a.unhandleds=[],a.onunhandled=i,a.finalize=fn(function(){(function(l){function o(){l(),zr.splice(zr.indexOf(o),1)}zr.push(o),++on,Qn(()=>{--on==0&&Zi()},[])})(()=>{this.unhandleds.length===0?s():i(this.unhandleds[0])})},a.finalize),e()},t,n,r))}),Hr&&(Hr.allSettled&&Tt(z,"allSettled",function(){const e=At.apply(null,arguments).map(Lr);return new z(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((s,i)=>z.resolve(s).then(a=>r[i]={status:"fulfilled",value:a},a=>r[i]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),Hr.any&&typeof AggregateError<"u"&&Tt(z,"any",function(){const e=At.apply(null,arguments).map(Lr);return new z((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach((i,a)=>z.resolve(i).then(l=>t(l),l=>{s[a]=l,--r||n(new AggregateError(s))}))})}));const Xe={awaits:0,echoes:0,id:0};var Eh=0,Jr=[],Is=0,os=0,Oh=0;function Jt(e,t,n,r){var s=Y,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++Oh;var a=En.env;i.env=Gi?{Promise:z,PromiseProp:{value:z,configurable:!0,writable:!0},all:z.all,race:z.race,allSettled:z.allSettled,any:z.any,resolve:z.resolve,reject:z.reject,nthen:Ia(a.nthen,i),gthen:Ia(a.gthen,i)}:{},t&&at(i,t),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=jn(i,e,n,r);return i.ref===0&&i.finalize(),l}function Dn(){return Xe.id||(Xe.id=++Eh),++Xe.awaits,Xe.echoes+=yo,Xe.id}function Rt(){return!!Xe.awaits&&(--Xe.awaits==0&&(Xe.id=0),Xe.echoes=Xe.awaits*yo,!0)}function Lr(e){return Xe.echoes&&e&&e.constructor===Hr?(Dn(),e.then(t=>(Rt(),t),t=>(Rt(),qe(t)))):e}function Th(e){++os,Xe.echoes&&--Xe.echoes!=0||(Xe.echoes=Xe.id=0),Jr.push(Y),Wt(e,!0)}function Ih(){var e=Jr[Jr.length-1];Jr.pop(),Wt(e,!1)}function Wt(e,t){var n=Y;if((t?!Xe.echoes||Is++&&e===Y:!Is||--Is&&e===Y)||Po(t?Th.bind(null,e):Ih),e!==Y&&(Y=e,n===En&&(En.env=ko()),Gi)){var r=En.env.Promise,s=e.env;as.then=s.nthen,r.prototype.then=s.gthen,(n.global||e.global)&&(Object.defineProperty(ke,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function ko(){var e=ke.Promise;return Gi?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(ke,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:as.then,gthen:e.prototype.then}:{}}function jn(e,t,n,r,s){var i=Y;try{return Wt(e,!0),t(n,r,s)}finally{Wt(i,!1)}}function Po(e){_o.call(hi,e)}function cs(e,t,n,r){return typeof e!="function"?e:function(){var s=Y;n&&Dn(),Wt(t,!0);try{return e.apply(this,arguments)}finally{Wt(s,!1),r&&Po(Rt)}}}function Ia(e,t){return function(n,r){return e.call(this,cs(n,t),cs(r,t))}}(""+_o).indexOf("[native code]")===-1&&(Dn=Rt=_e);const Ba="unhandledrejection";function Ra(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,s={promise:t,reason:e};if(ke.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Ba,!0,!0),at(r,s)):ke.CustomEvent&&at(r=new CustomEvent(Ba,{detail:s}),s),r&&ke.dispatchEvent&&(dispatchEvent(r),!ke.PromiseRejectionEvent&&ke.onunhandledrejection))try{ke.onunhandledrejection(r)}catch{}Ct&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var qe=z.reject;function yi(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Y.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Ji.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>yi(e,t,n,r))):qe(i)}return s._promise(t,(i,a)=>Jt(()=>(Y.trans=s,r(i,a,s)))).then(i=>s._completion.then(()=>i))}if(e._state.openComplete)return qe(new Q.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return qe(new Q.DatabaseClosed);e.open().catch(_e)}return e._state.dbReadyPromise.then(()=>yi(e,t,n,r))}const Na="3.2.4",sn="￿",_i=-1/0,xt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Lo="String expected.",er=[],bs=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Bh=bs,Rh=bs,Ao=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),ys="__dbnames",Bs="readonly",Rs="readwrite";function gn(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Eo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ar(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=fr(t))[e],t)}class Nh{_trans(t,n,r){const s=this._tx||Y.trans,i=this.name;function a(o,u,c){if(!c.schema[i])throw new Q.NotFound("Table "+i+" not part of transaction");return n(c.idbtrans,c)}const l=gr();try{return s&&s.db===this.db?s===Y.trans?s._promise(t,a,r):Jt(()=>s._promise(t,a,r),{trans:s,transless:Y.transless||Y}):yi(this.db,t,[this.name],a)}finally{l&&mr()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(s=>this.hook.reading.fire(s))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Qe(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=Me(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>u.compound&&n.every(c=>u.keyPath.indexOf(c)>=0)&&u.keyPath.every(c=>n.indexOf(c)>=0))[0];if(r&&this.db._maxKey!==sn)return this.where(r.name).equals(r.keyPath.map(u=>t[u]));!r&&Ct&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:s}=this.schema,i=this.db._deps.indexedDB;function a(u,c){try{return i.cmp(u,c)===0}catch{return!1}}const[l,o]=n.reduce(([u,c],f)=>{const d=s[f],m=t[f];return[u||d,u||!d?gn(c,d&&d.multi?_=>{const v=It(_,f);return Qe(v)&&v.some(p=>a(m,p))}:_=>a(m,It(_,f))):c]},[null,null]);return l?this.where(l.name).equals(t[l.keyPath]).filter(o):r?this.filter(o):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Qe(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const s=Object.create(t.prototype);for(var i in r)if(ht(r,i))try{s[i]=r[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){at(this,t)})}add(t,n){const{auto:r,keyPath:s}=this.schema.primKey;let i=t;return s&&r&&(i=Ar(s)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[i]})).then(a=>a.numFailures?z.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{yt(t,s,a)}catch{}return a})}update(t,n){if(typeof t!="object"||Qe(t))return this.where(":id").equals(t).modify(n);{const r=It(t,this.schema.primKey.keyPath);if(r===void 0)return qe(new Q.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Me(n).forEach(s=>{yt(t,s,n[s])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:s}=this.schema.primKey;let i=t;return s&&r&&(i=Ar(s)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[i],keys:n!=null?[n]:null})).then(a=>a.numFailures?z.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{yt(t,s,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?z.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Eo})).then(t=>t.numFailures?z.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(s=>this.hook.reading.fire(s))))}bulkAdd(t,n,r){const s=Array.isArray(n)?n:void 0,i=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:o}=this.schema.primKey;if(o&&s)throw new Q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let c=o&&l?t.map(Ar(o)):t;return this.core.mutate({trans:a,type:"add",keys:s,values:c,wantResults:i}).then(({numFailures:f,results:d,lastResult:m,failures:_})=>{if(f===0)return i?d:m;throw new Xn(`${this.name}.bulkAdd(): ${f} of ${u} operations failed`,_)})})}bulkPut(t,n,r){const s=Array.isArray(n)?n:void 0,i=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:o}=this.schema.primKey;if(o&&s)throw new Q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let c=o&&l?t.map(Ar(o)):t;return this.core.mutate({trans:a,type:"put",keys:s,values:c,wantResults:i}).then(({numFailures:f,results:d,lastResult:m,failures:_})=>{if(f===0)return i?d:m;throw new Xn(`${this.name}.bulkPut(): ${f} of ${u} operations failed`,_)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:s,failures:i})=>{if(r===0)return s;throw new Xn(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function tr(e){var t={},n=function(a,l){if(l){for(var o=arguments.length,u=new Array(o-1);--o;)u[o-1]=arguments[o];return t[a].subscribe.apply(null,u),e}if(typeof a=="string")return t[a]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(a,l,o){if(typeof a!="object"){var u;l||(l=Ph),o||(o=_e);var c={subscribers:[],fire:o,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=l(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(d){return d!==f}),c.fire=c.subscribers.reduce(l,o)}};return t[a]=n[a]=c,c}Me(u=a).forEach(function(f){var d=u[f];if(Qe(d))i(f,u[f][0],u[f][1]);else{if(d!=="asap")throw new Q.InvalidArgument("Invalid event config");var m=i(f,ar,function(){for(var _=arguments.length,v=new Array(_);_--;)v[_]=arguments[_];m.subscribers.forEach(function(p){co(function(){p.apply(null,v)})})})}})}}function Hn(e,t){return Ln(t).from({prototype:e}),t}function _n(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ns(e,t){e.filter=gn(e.filter,t)}function Ds(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>gn(r(),t()):t,e.justLimit=n&&!r}function Wr(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Q.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Da(e,t,n){const r=Wr(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Er(e,t,n,r){const s=e.replayFilter?gn(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},a=(l,o,u)=>{if(!s||s(o,u,d=>o.stop(d),d=>o.fail(d))){var c=o.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),ht(i,f)||(i[f]=!0,t(l,o,u))}};return Promise.all([e.or._iterate(a,n),ja(Da(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return ja(Da(e,r,n),gn(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function ja(e,t,n,r){var s=Oe(r?(i,a,l)=>n(r(i),a,l):n);return e.then(i=>{if(i)return i.start(()=>{var a=()=>i.continue();t&&!t(i,l=>a=l,l=>{i.stop(l),a=_e},l=>{i.fail(l),a=_e})||s(i.value,i,l=>a=l),a()})})}function st(e,t){try{const n=Ma(e),r=Ma(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(s,i){const a=s.length,l=i.length,o=a<l?a:l;for(let u=0;u<o;++u)if(s[u]!==i[u])return s[u]<i[u]?-1:1;return a===l?0:a<l?-1:1}(Fa(e),Fa(t));case"Array":return function(s,i){const a=s.length,l=i.length,o=a<l?a:l;for(let u=0;u<o;++u){const c=st(s[u],i[u]);if(c!==0)return c}return a===l?0:a<l?-1:1}(e,t)}}catch{}return NaN}function Ma(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=oi(e);return n==="ArrayBuffer"?"binary":n}function Fa(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Dh{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,qe.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,qe.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=gn(n.algorithm,t)}_iterate(t,n){return Er(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&at(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Er(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,s=r.table.core;if(_n(r,!0))return s.count({trans:n,query:{index:Wr(r,s.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var i=0;return Er(r,()=>(++i,!1),n,s).then(()=>i)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),s=r[0],i=r.length-1;function a(u,c){return c?a(u[r[c]],c-1):u[s]}var l=this._ctx.dir==="next"?1:-1;function o(u,c){var f=a(u,i),d=a(c,i);return f<d?-l:f>d?l:0}return this.toArray(function(u){return u.sort(o)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&_n(r,!0)&&r.limit>0){const{valueMapper:s}=r,i=Wr(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:a})=>s?a.map(s):a)}{const s=[];return Er(r,i=>s.push(i),n,r.table.core).then(()=>s)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,_n(n)?Ds(n,()=>{var r=t;return(s,i)=>r===0||(r===1?(--r,!1):(i(()=>{s.advance(r),r=0}),!1))}):Ds(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Ds(this._ctx,()=>{var n=t;return function(r,s,i){return--n<=0&&s(i),n>=0}},!0),this}until(t,n){return Ns(this._ctx,function(r,s,i){return!t(r.value)||(s(i),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Ns(this._ctx,function(s){return t(s.value)}),n=this._ctx,r=t,n.isMatch=gn(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){t(s.key,s)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){t(s.primaryKey,s)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&_n(n,!0)&&n.limit>0)return this._read(s=>{var i=Wr(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:s})=>s).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Ns(this._ctx,function(s){var i=s.primaryKey.toString(),a=ht(r,i);return r[i]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var s;if(typeof t=="function")s=t;else{var i=Me(t),a=i.length;s=function(v){for(var p=!1,y=0;y<a;++y){var b=i[y],$=t[b];It(v,b)!==$&&(yt(v,b,$),p=!0)}return p}}const l=n.table.core,{outbound:o,extractKey:u}=l.schema.primaryKey,c=this.db._options.modifyChunkSize||200,f=[];let d=0;const m=[],_=(v,p)=>{const{failures:y,numFailures:b}=p;d+=v-b;for(let $ of Me(y))f.push(y[$])};return this.clone().primaryKeys().then(v=>{const p=y=>{const b=Math.min(c,v.length-y);return l.getMany({trans:r,keys:v.slice(y,y+b),cache:"immutable"}).then($=>{const k=[],x=[],I=o?[]:null,S=[];for(let C=0;C<b;++C){const A=$[C],P={value:fr(A),primKey:v[y+C]};s.call(P,P.value,P)!==!1&&(P.value==null?S.push(v[y+C]):o||st(u(A),u(P.value))===0?(x.push(P.value),o&&I.push(v[y+C])):(S.push(v[y+C]),k.push(P.value)))}const U=_n(n)&&n.limit===1/0&&(typeof t!="function"||t===js)&&{index:n.index,range:n.range};return Promise.resolve(k.length>0&&l.mutate({trans:r,type:"add",values:k}).then(C=>{for(let A in C.failures)S.splice(parseInt(A),1);_(k.length,C)})).then(()=>(x.length>0||U&&typeof t=="object")&&l.mutate({trans:r,type:"put",keys:I,values:x,criteria:U,changeSpec:typeof t!="function"&&t}).then(C=>_(x.length,C))).then(()=>(S.length>0||U&&t===js)&&l.mutate({trans:r,type:"delete",keys:S,criteria:U}).then(C=>_(S.length,C))).then(()=>v.length>y+b&&p(y+c))})};return p(0).then(()=>{if(f.length>0)throw new is("Error modifying one or more objects",f,d,m);return v.length})})})}delete(){var t=this._ctx,n=t.range;return _n(t)&&(t.isPrimKey&&!Rh||n.type===3)?this._write(r=>{const{primaryKey:s}=t.table.core.schema,i=n;return t.table.core.count({trans:r,query:{index:s,range:i}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:l,lastResult:o,results:u,numFailures:c})=>{if(c)throw new is("Could not delete some values",Object.keys(l).map(f=>l[f]),a-c);return a-c}))}):this.modify(js)}}const js=(e,t)=>t.value=null;function jh(e,t){return e<t?-1:e===t?0:1}function Mh(e,t){return e>t?-1:e===t?0:1}function ut(e,t,n){var r=e instanceof To?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function wn(e){return new e.Collection(e,()=>Oo("")).limit(0)}function Fh(e,t,n,r,s,i){for(var a=Math.min(e.length,r.length),l=-1,o=0;o<a;++o){var u=t[o];if(u!==r[o])return s(e[o],n[o])<0?e.substr(0,o)+n[o]+n.substr(o+1):s(e[o],r[o])<0?e.substr(0,o)+r[o]+n.substr(o+1):l>=0?e.substr(0,l)+t[l]+n.substr(l+1):null;s(e[o],u)<0&&(l=o)}return a<r.length&&i==="next"?e+n.substr(e.length):a<e.length&&i==="prev"?e.substr(0,n.length):l<0?null:e.substr(0,l)+r[l]+n.substr(l+1)}function Or(e,t,n,r){var s,i,a,l,o,u,c,f=n.length;if(!n.every(v=>typeof v=="string"))return ut(e,Lo);function d(v){s=function(y){return y==="next"?b=>b.toUpperCase():b=>b.toLowerCase()}(v),i=function(y){return y==="next"?b=>b.toLowerCase():b=>b.toUpperCase()}(v),a=v==="next"?jh:Mh;var p=n.map(function(y){return{lower:i(y),upper:s(y)}}).sort(function(y,b){return a(y.lower,b.lower)});l=p.map(function(y){return y.upper}),o=p.map(function(y){return y.lower}),u=v,c=v==="next"?"":r}d("next");var m=new e.Collection(e,()=>Kt(l[0],o[f-1]+r));m._ondirectionchange=function(v){d(v)};var _=0;return m._addAlgorithm(function(v,p,y){var b=v.key;if(typeof b!="string")return!1;var $=i(b);if(t($,o,_))return!0;for(var k=null,x=_;x<f;++x){var I=Fh(b,$,l[x],o[x],a,u);I===null&&k===null?_=x+1:(k===null||a(k,I)>0)&&(k=I)}return p(k!==null?function(){v.continue(k+c)}:y),!1}),m}function Kt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Oo(e){return{type:1,lower:e,upper:e}}class To{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||s)&&(!r||!s)?wn(this):new this.Collection(this,()=>Kt(t,n,!r,!s))}catch{return ut(this,xt)}}equals(t){return t==null?ut(this,xt):new this.Collection(this,()=>Oo(t))}above(t){return t==null?ut(this,xt):new this.Collection(this,()=>Kt(t,void 0,!0))}aboveOrEqual(t){return t==null?ut(this,xt):new this.Collection(this,()=>Kt(t,void 0,!1))}below(t){return t==null?ut(this,xt):new this.Collection(this,()=>Kt(void 0,t,!1,!0))}belowOrEqual(t){return t==null?ut(this,xt):new this.Collection(this,()=>Kt(void 0,t))}startsWith(t){return typeof t!="string"?ut(this,Lo):this.between(t,t+sn,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Or(this,(n,r)=>n.indexOf(r[0])===0,[t],sn)}equalsIgnoreCase(t){return Or(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=At.apply(Sn,arguments);return t.length===0?wn(this):Or(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=At.apply(Sn,arguments);return t.length===0?wn(this):Or(this,(n,r)=>r.some(s=>n.indexOf(s)===0),t,sn)}anyOf(){const t=At.apply(Sn,arguments);let n=this._cmp;try{t.sort(n)}catch{return ut(this,xt)}if(t.length===0)return wn(this);const r=new this.Collection(this,()=>Kt(t[0],t[t.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,t.sort(n)};let s=0;return r._addAlgorithm((i,a,l)=>{const o=i.key;for(;n(o,t[s])>0;)if(++s,s===t.length)return a(l),!1;return n(o,t[s])===0||(a(()=>{i.continue(t[s])}),!1)}),r}notEqual(t){return this.inAnyRange([[_i,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=At.apply(Sn,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return ut(this,xt)}const n=t.reduce((r,s)=>r?r.concat([[r[r.length-1][1],s]]):[[_i,s]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,s=this._ascending,i=this._descending,a=this._min,l=this._max;if(t.length===0)return wn(this);if(!t.every(b=>b[0]!==void 0&&b[1]!==void 0&&s(b[0],b[1])<=0))return ut(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Q.InvalidArgument);const o=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let c,f=s;function d(b,$){return f(b[0],$[0])}try{c=t.reduce(function(b,$){let k=0,x=b.length;for(;k<x;++k){const I=b[k];if(r($[0],I[1])<0&&r($[1],I[0])>0){I[0]=a(I[0],$[0]),I[1]=l(I[1],$[1]);break}}return k===x&&b.push($),b},[]),c.sort(d)}catch{return ut(this,xt)}let m=0;const _=u?b=>s(b,c[m][1])>0:b=>s(b,c[m][1])>=0,v=o?b=>i(b,c[m][0])>0:b=>i(b,c[m][0])>=0;let p=_;const y=new this.Collection(this,()=>Kt(c[0][0],c[c.length-1][1],!o,!u));return y._ondirectionchange=b=>{b==="next"?(p=_,f=s):(p=v,f=i),c.sort(d)},y._addAlgorithm((b,$,k)=>{for(var x=b.key;p(x);)if(++m,m===c.length)return $(k),!1;return!!function(I){return!_(I)&&!v(I)}(x)||(this._cmp(x,c[m][1])===0||this._cmp(x,c[m][0])===0||$(()=>{f===s?b.continue(c[m][0]):b.continue(c[m][1])}),!1)}),y}startsWithAnyOf(){const t=At.apply(Sn,arguments);return t.every(n=>typeof n=="string")?t.length===0?wn(this):this.inAnyRange(t.map(n=>[n,n+sn])):ut(this,"startsWithAnyOf() only works with strings")}}function $t(e){return Oe(function(t){return or(t),e(t.target.error),!1})}function or(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const cr="storagemutated",qt="x-storagemutated-1",Gt=tr(null,cr);class Kh{_lock(){return Yn(!Y.global),++this._reculock,this._reculock!==1||Y.global||(Y.lockOwnerFor=this),this}_unlock(){if(Yn(!Y.global),--this._reculock==0)for(Y.global||(Y.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{jn(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&Y.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Yn(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Q.DatabaseClosed(r);case"MissingAPIError":throw new Q.MissingAPI(r.message,r);default:throw new Q.OpenFailed(r)}if(!this.active)throw new Q.TransactionInactive;return Yn(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Oe(s=>{or(s),this._reject(t.error)}),t.onabort=Oe(s=>{or(s),this.active&&this._reject(new Q.Abort(t.error)),this.active=!1,this.on("abort").fire(s)}),t.oncomplete=Oe(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Gt.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return qe(new Q.ReadOnly("Transaction is readonly"));if(!this.active)return qe(new Q.TransactionInactive);if(this._locked())return new z((i,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(i,a)},Y])});if(r)return Jt(()=>{var i=new z((a,l)=>{this._lock();const o=n(a,l,this);o&&o.then&&o.then(a,l)});return i.finally(()=>this._unlock()),i._lib=!0,i});var s=new z((i,a)=>{var l=n(i,a,this);l&&l.then&&l.then(i,a)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=z.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=a)})()}var i=n._waitingFor;return new z((a,l)=>{r.then(o=>n._waitingQueue.push(Oe(a.bind(null,o))),o=>n._waitingQueue.push(Oe(l.bind(null,o)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Q.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(ht(n,t))return n[t];const r=this.schema[t];if(!r)throw new Q.NotFound("Table "+t+" not part of transaction");const s=new this.db.Table(t,r,this);return s.core=this.db.core.table(t),n[t]=s,s}}function wi(e,t,n,r,s,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(s?"++":"")+Io(t)}}function Io(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Bo(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:uo(n,r=>[r.name,r])}}let ur=e=>{try{return e.only([[]]),ur=()=>[[]],[[]]}catch{return ur=()=>sn,sn}};function $i(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>It(r,t)}(e):t=>It(t,e)}function Ka(e){return[].slice.call(e)}let Uh=0;function nr(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function qh(e,t,n){function r(o){if(o.type===3)return null;if(o.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:c,lowerOpen:f,upperOpen:d}=o;return u===void 0?c===void 0?null:t.upperBound(c,!!d):c===void 0?t.lowerBound(u,!!f):t.bound(u,c,!!f,!!d)}const{schema:s,hasGetAll:i}=function(o,u){const c=Ka(o.objectStoreNames);return{schema:{name:o.name,tables:c.map(f=>u.objectStore(f)).map(f=>{const{keyPath:d,autoIncrement:m}=f,_=Qe(d),v=d==null,p={},y={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v,compound:_,keyPath:d,autoIncrement:m,unique:!0,extractKey:$i(d)},indexes:Ka(f.indexNames).map(b=>f.index(b)).map(b=>{const{name:$,unique:k,multiEntry:x,keyPath:I}=b,S={name:$,compound:Qe(I),keyPath:I,unique:k,multiEntry:x,extractKey:$i(I)};return p[nr(I)]=S,S}),getIndexByKeyPath:b=>p[nr(b)]};return p[":id"]=y.primaryKey,d!=null&&(p[nr(d)]=y.primaryKey),y})},hasGetAll:c.length>0&&"getAll"in u.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=s.tables.map(o=>function(u){const c=u.name;return{name:c,schema:u,mutate:function({trans:f,type:d,keys:m,values:_,range:v}){return new Promise((p,y)=>{p=Oe(p);const b=f.objectStore(c),$=b.keyPath==null,k=d==="put"||d==="add";if(!k&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:x}=m||_||{length:1};if(m&&_&&m.length!==_.length)throw new Error("Given keys array must have same length as given values array.");if(x===0)return p({numFailures:0,failures:{},results:[],lastResult:void 0});let I;const S=[],U=[];let C=0;const A=O=>{++C,or(O)};if(d==="deleteRange"){if(v.type===4)return p({numFailures:C,failures:U,results:[],lastResult:void 0});v.type===3?S.push(I=b.clear()):S.push(I=b.delete(r(v)))}else{const[O,M]=k?$?[_,m]:[_,null]:[m,null];if(k)for(let T=0;T<x;++T)S.push(I=M&&M[T]!==void 0?b[d](O[T],M[T]):b[d](O[T])),I.onerror=A;else for(let T=0;T<x;++T)S.push(I=b[d](O[T])),I.onerror=A}const P=O=>{const M=O.target.result;S.forEach((T,q)=>T.error!=null&&(U[q]=T.error)),p({numFailures:C,failures:U,results:d==="delete"?m:S.map(T=>T.result),lastResult:M})};I.onerror=O=>{A(O),P(O)},I.onsuccess=P})},getMany:({trans:f,keys:d})=>new Promise((m,_)=>{m=Oe(m);const v=f.objectStore(c),p=d.length,y=new Array(p);let b,$=0,k=0;const x=S=>{const U=S.target;y[U._pos]=U.result,++k===$&&m(y)},I=$t(_);for(let S=0;S<p;++S)d[S]!=null&&(b=v.get(d[S]),b._pos=S,b.onsuccess=x,b.onerror=I,++$);$===0&&m(y)}),get:({trans:f,key:d})=>new Promise((m,_)=>{m=Oe(m);const v=f.objectStore(c).get(d);v.onsuccess=p=>m(p.target.result),v.onerror=$t(_)}),query:function(f){return d=>new Promise((m,_)=>{m=Oe(m);const{trans:v,values:p,limit:y,query:b}=d,$=y===1/0?void 0:y,{index:k,range:x}=b,I=v.objectStore(c),S=k.isPrimaryKey?I:I.index(k.name),U=r(x);if(y===0)return m({result:[]});if(f){const C=p?S.getAll(U,$):S.getAllKeys(U,$);C.onsuccess=A=>m({result:A.target.result}),C.onerror=$t(_)}else{let C=0;const A=p||!("openKeyCursor"in S)?S.openCursor(U):S.openKeyCursor(U),P=[];A.onsuccess=O=>{const M=A.result;return M?(P.push(p?M.value:M.primaryKey),++C===y?m({result:P}):void M.continue()):m({result:P})},A.onerror=$t(_)}})}(i),openCursor:function({trans:f,values:d,query:m,reverse:_,unique:v}){return new Promise((p,y)=>{p=Oe(p);const{index:b,range:$}=m,k=f.objectStore(c),x=b.isPrimaryKey?k:k.index(b.name),I=_?v?"prevunique":"prev":v?"nextunique":"next",S=d||!("openKeyCursor"in x)?x.openCursor(r($),I):x.openKeyCursor(r($),I);S.onerror=$t(y),S.onsuccess=Oe(U=>{const C=S.result;if(!C)return void p(null);C.___id=++Uh,C.done=!1;const A=C.continue.bind(C);let P=C.continuePrimaryKey;P&&(P=P.bind(C));const O=C.advance.bind(C),M=()=>{throw new Error("Cursor not stopped")};C.trans=f,C.stop=C.continue=C.continuePrimaryKey=C.advance=()=>{throw new Error("Cursor not started")},C.fail=Oe(y),C.next=function(){let T=1;return this.start(()=>T--?this.continue():this.stop()).then(()=>this)},C.start=T=>{const q=new Promise((R,Z)=>{R=Oe(R),S.onerror=$t(Z),C.fail=Z,C.stop=j=>{C.stop=C.continue=C.continuePrimaryKey=C.advance=M,R(j)}}),N=()=>{if(S.result)try{T()}catch(R){C.fail(R)}else C.done=!0,C.start=()=>{throw new Error("Cursor behind last entry")},C.stop()};return S.onsuccess=Oe(R=>{S.onsuccess=N,N()}),C.continue=A,C.continuePrimaryKey=P,C.advance=O,N(),q},p(C)},y)})},count({query:f,trans:d}){const{index:m,range:_}=f;return new Promise((v,p)=>{const y=d.objectStore(c),b=m.isPrimaryKey?y:y.index(m.name),$=r(_),k=$?b.count($):b.count();k.onsuccess=Oe(x=>v(x.target.result)),k.onerror=$t(p)})}}}(o)),l={};return a.forEach(o=>l[o.name]=o),{stack:"dbcore",transaction:e.transaction.bind(e),table(o){if(!l[o])throw new Error(`Table '${o}' not found`);return l[o]},MIN_KEY:-1/0,MAX_KEY:ur(t),schema:s}}function Ci({_novip:e},t){const n=t.db,r=function(s,i,{IDBKeyRange:a,indexedDB:l},o){return{dbcore:function(c,f){return f.reduce((d,{create:m})=>({...d,...m(d)}),c)}(qh(i,a,o),s.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(s=>{const i=s.name;e.core.schema.tables.some(a=>a.name===i)&&(s.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=s.core))})}function us({_novip:e},t,n,r){n.forEach(s=>{const i=r[s];t.forEach(a=>{const l=Hi(a,s);(!l||"value"in l&&l.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?Tt(a,s,{get(){return this.table(s)},set(o){lo(this,s,{value:o,writable:!0,configurable:!0,enumerable:!0})}}):a[s]=new e.Table(s,i))})})}function Si({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function Hh(e,t){return e._cfg.version-t._cfg.version}function Vh(e,t,n,r){const s=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,s);i.create(n),i._completion.catch(r);const a=i._reject.bind(i),l=Y.transless||Y;Jt(()=>{Y.trans=i,Y.transless=l,t===0?(Me(s).forEach(o=>{Ms(n,o,s[o].primKey,s[o].indexes)}),Ci(e,n),z.follow(()=>e.on.populate.fire(i)).catch(a)):function({_novip:o},u,c,f){const d=[],m=o._versions;let _=o._dbSchema=ki(o,o.idbdb,f),v=!1;const p=m.filter(b=>b._cfg.version>=u);function y(){return d.length?z.resolve(d.shift()(c.idbtrans)).then(y):z.resolve()}return p.forEach(b=>{d.push(()=>{const $=_,k=b._cfg.dbschema;Pi(o,$,f),Pi(o,k,f),_=o._dbSchema=k;const x=Ro($,k);x.add.forEach(S=>{Ms(f,S[0],S[1].primKey,S[1].indexes)}),x.change.forEach(S=>{if(S.recreate)throw new Q.Upgrade("Not yet support for changing primary key");{const U=f.objectStore(S.name);S.add.forEach(C=>xi(U,C)),S.change.forEach(C=>{U.deleteIndex(C.name),xi(U,C)}),S.del.forEach(C=>U.deleteIndex(C))}});const I=b._cfg.contentUpgrade;if(I&&b._cfg.version>u){Ci(o,f),c._memoizedTables={},v=!0;let S=ho(k);x.del.forEach(P=>{S[P]=$[P]}),Si(o,[o.Transaction.prototype]),us(o,[o.Transaction.prototype],Me(S),S),c.schema=S;const U=Vi(I);let C;U&&Dn();const A=z.follow(()=>{if(C=I(c),C&&U){var P=Rt.bind(null,null);C.then(P,P)}});return C&&typeof C.then=="function"?z.resolve(C):A.then(()=>C)}}),d.push($=>{(!v||!Bh)&&function(k,x){[].slice.call(x.db.objectStoreNames).forEach(I=>k[I]==null&&x.db.deleteObjectStore(I))}(b._cfg.dbschema,$),Si(o,[o.Transaction.prototype]),us(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),c.schema=o._dbSchema})}),y().then(()=>{var b,$;$=f,Me(b=_).forEach(k=>{$.db.objectStoreNames.contains(k)||Ms($,k,b[k].primKey,b[k].indexes)})})}(e,t,i,n).catch(a)})}function Ro(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const s=e[r],i=t[r];if(s){const a={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!bs)a.recreate=!0,n.change.push(a);else{const l=s.idxByName,o=i.idxByName;let u;for(u in l)o[u]||a.del.push(u);for(u in o){const c=l[u],f=o[u];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,i])}return n}function Ms(e,t,n,r){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>xi(s,i)),s}function xi(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ki(e,t,n){const r={};return ss(t.objectStoreNames,0).forEach(s=>{const i=n.objectStore(s);let a=i.keyPath;const l=wi(Io(a),a||"",!1,!1,!!i.autoIncrement,a&&typeof a!="string",!0),o=[];for(let c=0;c<i.indexNames.length;++c){const f=i.index(i.indexNames[c]);a=f.keyPath;var u=wi(f.name,a,!!f.unique,!!f.multiEntry,!1,a&&typeof a!="string",!1);o.push(u)}r[s]=Bo(s,l,o)}),r}function Pi({_novip:e},t,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const i=r[s],a=n.objectStore(i);e._hasGetAll="getAll"in a;for(let l=0;l<a.indexNames.length;++l){const o=a.indexNames[l],u=a.index(o).keyPath,c=typeof u=="string"?u:"["+ss(u).join("+")+"]";if(t[i]){const f=t[i].idxByName[c];f&&(f.name=o,delete t[i].idxByName[c],t[i].idxByName[o]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ke.WorkerGlobalScope&&ke instanceof ke.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class zh{_parseStoresSpec(t,n){Me(t).forEach(r=>{if(t[r]!==null){var s=t[r].split(",").map((a,l)=>{const o=(a=a.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(o)?o.match(/^\[(.*)\]$/)[1].split("+"):o;return wi(o,u||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),Qe(u),l===0)}),i=s.shift();if(i.multi)throw new Q.Schema("Primary key cannot be multi-valued");s.forEach(a=>{if(a.auto)throw new Q.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new Q.Schema("Index must have a name and cannot be an empty string")}),n[r]=Bo(r,i,s)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?at(this._cfg.storesSource,t):t;const r=n._versions,s={};let i={};return r.forEach(a=>{at(s,a._cfg.storesSource),i=a._cfg.dbschema={},a._parseStoresSpec(s,i)}),n._dbSchema=i,Si(n,[n._allTables,n,n.Transaction.prototype]),us(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Me(i),i),n._storeNames=Me(i),this}upgrade(t){return this._cfg.contentUpgrade=Wi(this._cfg.contentUpgrade||_e,t),this}}function Xi(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new zt(ys,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Qi(e){return e&&typeof e.databases=="function"}function Li(e){return Jt(function(){return Y.letThrough=!0,e()})}function Jh(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function Wh(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?qe(t.dbOpenError):e);Ct&&(t.openCanceller._stackHolder=pn()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function s(){if(t.openCanceller!==r)throw new Q.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,a=null,l=!1;return z.race([r,(typeof navigator>"u"?z.resolve():Jh()).then(()=>new z((o,u)=>{if(s(),!n)throw new Q.MissingAPI;const c=e.name,f=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!f)throw new Q.MissingAPI;f.onerror=$t(u),f.onblocked=Oe(e._fireOnBlocked),f.onupgradeneeded=Oe(d=>{if(a=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=or,a.abort(),f.result.close();const _=n.deleteDatabase(c);_.onsuccess=_.onerror=Oe(()=>{u(new Q.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{a.onerror=$t(u);var m=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;l=m<1,e._novip.idbdb=f.result,Vh(e,m/10,a,u)}},u),f.onsuccess=Oe(()=>{a=null;const d=e._novip.idbdb=f.result,m=ss(d.objectStoreNames);if(m.length>0)try{const v=d.transaction((_=m).length===1?_[0]:_,"readonly");t.autoSchema?function({_novip:p},y,b){p.verno=y.version/10;const $=p._dbSchema=ki(0,y,b);p._storeNames=ss(y.objectStoreNames,0),us(p,[p._allTables],Me($),$)}(e,d,v):(Pi(e,e._dbSchema,v),function(p,y){const b=Ro(ki(0,p.idbdb,y),p._dbSchema);return!(b.add.length||b.change.some($=>$.add.length||$.change.length))}(e,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ci(e,v)}catch{}var _;er.push(e),d.onversionchange=Oe(v=>{t.vcFired=!0,e.on("versionchange").fire(v)}),d.onclose=Oe(v=>{e.on("close").fire(v)}),l&&function({indexedDB:v,IDBKeyRange:p},y){!Qi(v)&&y!==ys&&Xi(v,p).put({name:y}).catch(_e)}(e._deps,c),o()},u)}))]).then(()=>(s(),t.onReadyBeingFired=[],z.resolve(Li(()=>e.on.ready.fire(e.vip))).then(function o(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(Wi,_e);return t.onReadyBeingFired=[],z.resolve(Li(()=>u(e.vip))).then(o)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(o=>{t.dbOpenError=o;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),qe(o)}).finally(()=>{t.openComplete=!0,i()})}function Ai(e){var t=i=>e.next(i),n=s(t),r=s(i=>e.throw(i));function s(i){return a=>{var l=i(a),o=l.value;return l.done?o:o&&typeof o.then=="function"?o.then(n,r):Qe(o)?Promise.all(o).then(n,r):n(o)}}return s(t)()}function Gh(e,t,n){var r=arguments.length;if(r<2)throw new Q.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];return n=s.pop(),[e,fo(s),n]}function No(e,t,n,r,s){return z.resolve().then(()=>{const i=Y.transless||Y,a=e._createTransaction(t,n,e._dbSchema,r),l={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===Ji.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>No(e,t,n,null,s))):qe(f)}const o=Vi(s);let u;o&&Dn();const c=z.follow(()=>{if(u=s.call(a,a),u)if(o){var f=Rt.bind(null,null);u.then(f,f)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=Ai(u))},l);return(u&&typeof u.then=="function"?z.resolve(u).then(f=>a.active?f:qe(new Q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(f=>(r&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),qe(f)))})}function Tr(e,t,n){const r=Qe(e)?e.slice():[e];for(let s=0;s<n;++s)r.push(t);return r}const Yh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,s={},i=[];function a(c,f,d){const m=nr(c),_=s[m]=s[m]||[],v=c==null?0:typeof c=="string"?1:c.length,p=f>0,y={...d,isVirtual:p,keyTail:f,keyLength:v,extractKey:$i(c),unique:!p&&d.unique};return _.push(y),y.isPrimaryKey||i.push(y),v>1&&a(v===2?c[0]:c.slice(0,v-1),f+1,d),_.sort((b,$)=>b.keyTail-$.keyTail),y}const l=a(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[l];for(const c of r.indexes)a(c.keyPath,0,c);function o(c){const f=c.query.index;return f.isVirtual?{...c,query:{index:f,range:(d=c.query.range,m=f.keyTail,{type:d.type===1?2:d.type,lower:Tr(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,m),lowerOpen:!0,upper:Tr(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,m),upperOpen:!0})}}:c;var d,m}return{...n,schema:{...r,primaryKey:l,indexes:i,getIndexByKeyPath:function(c){const f=s[nr(c)];return f&&f[0]}},count:c=>n.count(o(c)),query:c=>n.query(o(c)),openCursor(c){const{keyTail:f,isVirtual:d,keyLength:m}=c.query.index;return d?n.openCursor(o(c)).then(_=>_&&function(v){return Object.create(v,{continue:{value:function(y){y!=null?v.continue(Tr(y,c.reverse?e.MAX_KEY:e.MIN_KEY,f)):c.unique?v.continue(v.key.slice(0,m).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,f)):v.continue()}},continuePrimaryKey:{value(y,b){v.continuePrimaryKey(Tr(y,e.MAX_KEY,f),b)}},primaryKey:{get:()=>v.primaryKey},key:{get(){const y=v.key;return m===1?y[0]:y.slice(0,m)}},value:{get:()=>v.value}})}(_)):n.openCursor(c)}}}}}};function ea(e,t,n,r){return n=n||{},r=r||"",Me(e).forEach(s=>{if(ht(t,s)){var i=e[s],a=t[s];if(typeof i=="object"&&typeof a=="object"&&i&&a){const l=oi(i);l!==oi(a)?n[r+s]=t[s]:l==="Object"?ea(i,a,n,r+s+"."):i!==a&&(n[r+s]=t[s])}else i!==a&&(n[r+s]=t[s])}else n[r+s]=void 0}),Me(t).forEach(s=>{ht(e,s)||(n[r+s]=t[s])}),n}const Zh={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(i){const a=Y.trans,{deleting:l,creating:o,updating:u}=a.table(t).hook;switch(i.type){case"add":if(o.fire===_e)break;return a._promise("readwrite",()=>c(i),!0);case"put":if(o.fire===_e&&u.fire===_e)break;return a._promise("readwrite",()=>c(i),!0);case"delete":if(l.fire===_e)break;return a._promise("readwrite",()=>c(i),!0);case"deleteRange":if(l.fire===_e)break;return a._promise("readwrite",()=>function(d){return f(d.trans,d.range,1e4)}(i),!0)}return n.mutate(i);function c(d){const m=Y.trans,_=d.keys||function(v,p){return p.type==="delete"?p.keys:p.keys||p.values.map(v.extractKey)}(r,d);if(!_)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:_}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(v,p,y){return p.type==="add"?Promise.resolve([]):v.getMany({trans:p.trans,keys:y,cache:"immutable"})}(n,d,_).then(v=>{const p=_.map((y,b)=>{const $=v[b],k={onerror:null,onsuccess:null};if(d.type==="delete")l.fire.call(k,y,$,m);else if(d.type==="add"||$===void 0){const x=o.fire.call(k,y,d.values[b],m);y==null&&x!=null&&(y=x,d.keys[b]=y,r.outbound||yt(d.values[b],r.keyPath,y))}else{const x=ea($,d.values[b]),I=u.fire.call(k,x,y,$,m);if(I){const S=d.values[b];Object.keys(I).forEach(U=>{ht(S,U)?S[U]=I[U]:yt(S,U,I[U])})}}return k});return n.mutate(d).then(({failures:y,results:b,numFailures:$,lastResult:k})=>{for(let x=0;x<_.length;++x){const I=b?b[x]:_[x],S=p[x];I==null?S.onerror&&S.onerror(y[x]):S.onsuccess&&S.onsuccess(d.type==="put"&&v[x]?d.values[x]:I)}return{failures:y,results:b,numFailures:$,lastResult:k}}).catch(y=>(p.forEach(b=>b.onerror&&b.onerror(y)),Promise.reject(y)))})}function f(d,m,_){return n.query({trans:d,values:!1,query:{index:r,range:m},limit:_}).then(({result:v})=>c({type:"delete",keys:v,trans:d}).then(p=>p.numFailures>0?Promise.reject(p.failures[0]):v.length<_?{failures:[],numFailures:0,lastResult:void 0}:f(d,{...m,lower:v[v.length-1],lowerOpen:!0},_)))}}}}})};function Do(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let s=0,i=0;s<t.keys.length&&i<e.length;++s)st(t.keys[s],e[i])===0&&(r.push(n?fr(t.values[s]):t.values[s]),++i);return r.length===e.length?r:null}catch{return null}}const Xh={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const s=Do(r.keys,r.trans._cache,r.cache==="clone");return s?z.resolve(s):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?fr(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function ta(e){return!("from"in e)}const Lt=function(e,t){if(!this){const n=new Lt;return e&&"d"in e&&at(n,e),n}at(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function hr(e,t,n){const r=st(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(ta(e))return at(e,{from:t,to:n,d:1});const s=e.l,i=e.r;if(st(n,e.from)<0)return s?hr(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Ua(e);if(st(t,e.to)>0)return i?hr(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Ua(e);st(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),st(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;s&&!e.l&&hs(e,s),i&&a&&hs(e,i)}function hs(e,t){ta(t)||function n(r,{from:s,to:i,l:a,r:l}){hr(r,s,i),a&&n(r,a),l&&n(r,l)}(e,t)}function Qh(e,t){const n=Ei(t);let r=n.next();if(r.done)return!1;let s=r.value;const i=Ei(e);let a=i.next(s.from),l=a.value;for(;!r.done&&!a.done;){if(st(l.from,s.to)<=0&&st(l.to,s.from)>=0)return!0;st(s.from,l.from)<0?s=(r=n.next(l.from)).value:l=(a=i.next(s.from)).value}return!1}function Ei(e){let t=ta(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&st(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||st(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Ua(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const i=s==="r"?"l":"r",a={...e},l=e[s];e.from=l.from,e.to=l.to,e[s]=l[s],a[s]=l[i],e[i]=a,a.d=qa(a)}e.d=qa(e)}function qa({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}In(Lt.prototype,{add(e){return hs(this,e),this},addKey(e){return hr(this,e,e),this},addKeys(e){return e.forEach(t=>hr(this,t,t)),this},[ci](){return Ei(this)}});const ed={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Lt(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const s=e.table(r),{schema:i}=s,{primaryKey:a}=i,{extractKey:l,outbound:o}=a,u={...s,mutate:d=>{const m=d.trans,_=m.mutatedParts||(m.mutatedParts={}),v=I=>{const S=`idb://${t}/${r}/${I}`;return _[S]||(_[S]=new Lt)},p=v(""),y=v(":dels"),{type:b}=d;let[$,k]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const x=d.trans._cache;return s.mutate(d).then(I=>{if(Qe($)){b!=="delete"&&($=I.results),p.addKeys($);const S=Do($,x);S||b==="add"||y.addKeys($),(S||k)&&function(U,C,A,P){function O(M){const T=U(M.name||"");function q(R){return R!=null?M.extractKey(R):null}const N=R=>M.multiEntry&&Qe(R)?R.forEach(Z=>T.addKey(Z)):T.addKey(R);(A||P).forEach((R,Z)=>{const j=A&&q(A[Z]),W=P&&q(P[Z]);st(j,W)!==0&&(j!=null&&N(j),W!=null&&N(W))})}C.indexes.forEach(O)}(v,i,S,k)}else if($){const S={from:$.lower,to:$.upper};y.add(S),p.add(S)}else p.add(n),y.add(n),i.indexes.forEach(S=>v(S.name).add(n));return I})}},c=({query:{index:d,range:m}})=>{var _,v;return[d,new Lt((_=m.lower)!==null&&_!==void 0?_:e.MIN_KEY,(v=m.upper)!==null&&v!==void 0?v:e.MAX_KEY)]},f={get:d=>[a,new Lt(d.key)],getMany:d=>[a,new Lt().addKeys(d.keys)],count:c,query:c,openCursor:c};return Me(f).forEach(d=>{u[d]=function(m){const{subscr:_}=Y;if(_){const v=k=>{const x=`idb://${t}/${r}/${k}`;return _[x]||(_[x]=new Lt)},p=v(""),y=v(":dels"),[b,$]=f[d](m);if(v(b.name||"").add($),!b.isPrimaryKey){if(d!=="count"){const k=d==="query"&&o&&m.values&&s.query({...m,values:!1});return s[d].apply(this,arguments).then(x=>{if(d==="query"){if(o&&m.values)return k.then(({result:S})=>(p.addKeys(S),x));const I=m.values?x.result.map(l):x.result;m.values?p.addKeys(I):y.addKeys(I)}else if(d==="openCursor"){const I=x,S=m.values;return I&&Object.create(I,{key:{get:()=>(y.addKey(I.primaryKey),I.key)},primaryKey:{get(){const U=I.primaryKey;return y.addKey(U),U}},value:{get:()=>(S&&p.addKey(I.primaryKey),I.value)}})}return x})}y.add(n)}}return s[d].apply(this,arguments)}}),u}}}};class zt{constructor(t,n){this._middlewares={},this.verno=0;const r=zt.dependencies;this._options=n={addons:zt.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:s}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:_e,dbReadyPromise:null,cancelOpen:_e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;i.dbReadyPromise=new z(l=>{i.dbReadyResolve=l}),i.openCanceller=new z((l,o)=>{i.cancelOpen=o}),this._state=i,this.name=t,this.on=tr(this,"populate","blocked","versionchange","close",{ready:[Wi,_e]}),this.on.ready.subscribe=oo(this.on.ready.subscribe,l=>(o,u)=>{zt.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||z.resolve().then(o),u&&l(o);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(o),u&&l(o);else{l(o);const f=this;u||l(function d(){f.on.ready.unsubscribe(o),f.on.ready.unsubscribe(d)})}})}),this.Collection=(a=this,Hn(Dh.prototype,function(l,o){this.db=a;let u=Eo,c=null;if(o)try{u=o()}catch(_){c=_}const f=l._ctx,d=f.table,m=d.hook.reading.fire;this._ctx={table:d,index:f.index,isPrimKey:!f.index||d.schema.primKey.keyPath&&f.index===d.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:f.or,valueMapper:m!==ar?m:null}})),this.Table=function(l){return Hn(Nh.prototype,function(o,u,c){this.db=l,this._tx=c,this.name=o,this.schema=u,this.hook=l._allTables[o]?l._allTables[o].hook:tr(null,{creating:[Sh,_e],reading:[Ch,ar],updating:[kh,_e],deleting:[xh,_e]})})}(this),this.Transaction=function(l){return Hn(Kh.prototype,function(o,u,c,f,d){this.db=l,this.mode=o,this.storeNames=u,this.schema=c,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=tr(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new z((m,_)=>{this._resolve=m,this._reject=_}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},m=>{var _=this.active;return this.active=!1,this.on.error.fire(m),this.parent?this.parent._reject(m):_&&this.idbtrans&&this.idbtrans.abort(),qe(m)})})}(this),this.Version=function(l){return Hn(zh.prototype,function(o){this.db=l,this._cfg={version:o,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return Hn(To.prototype,function(o,u,c){this.db=l,this._ctx={table:o,index:u===":id"?null:u,or:c};const f=l._deps.indexedDB;if(!f)throw new Q.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(d,m)=>f.cmp(m,d),this._max=(d,m)=>f.cmp(d,m)>0?d:m,this._min=(d,m)=>f.cmp(d,m)<0?d:m,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${l.oldVersion/10}`)}),this._maxKey=ur(n.IDBKeyRange),this._createTransaction=(l,o,u,c)=>new this.Transaction(l,o,u,this._options.chromeTransactionDurability,c),this._fireOnBlocked=l=>{this.on("blocked").fire(l),er.filter(o=>o.name===this.name&&o!==this&&!o._state.vcFired).map(o=>o.on("versionchange").fire(l))},this.use(Yh),this.use(Zh),this.use(ed),this.use(Xh),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(l=>l(this))}version(t){if(isNaN(t)||t<.1)throw new Q.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(s=>s._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(Hh),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||Y.letThrough||this._vip)?t():new z((n,r)=>{if(this._state.openComplete)return r(new Q.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Q.DatabaseClosed);this.open().catch(_e)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:s}){s&&this.unuse({stack:t,name:s});const i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:r??10,name:s}),i.sort((a,l)=>a.level-l.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(s=>r?s.create!==r:!!n&&s.name!==n)),this}open(){return Wh(this)}_close(){const t=this._state,n=er.indexOf(this);if(n>=0&&er.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new z(r=>{t.dbReadyResolve=r}),t.openCanceller=new z((r,s)=>{t.cancelOpen=s})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Q.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new z((r,s)=>{const i=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=Oe(()=>{(function({indexedDB:l,IDBKeyRange:o},u){!Qi(l)&&u!==ys&&Xi(l,o).delete(u).catch(_e)})(this._deps,this.name),r()}),a.onerror=$t(s),a.onblocked=this._fireOnBlocked};if(t)throw new Q.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Me(this._allTables).map(t=>this._allTables[t])}transaction(){const t=Gh.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let s=Y.trans;s&&s.db===this&&t.indexOf("!")===-1||(s=null);const i=t.indexOf("?")!==-1;let a,l;t=t.replace("!","").replace("?","");try{if(l=n.map(u=>{var c=u instanceof this.Table?u.name:u;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t===Bs)a=Bs;else{if(t!="rw"&&t!=Rs)throw new Q.InvalidArgument("Invalid transaction mode: "+t);a=Rs}if(s){if(s.mode===Bs&&a===Rs){if(!i)throw new Q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&l.forEach(u=>{if(s&&s.storeNames.indexOf(u)===-1){if(!i)throw new Q.SubTransaction("Table "+u+" not included in parent transaction.");s=null}}),i&&s&&!s.active&&(s=null)}}catch(u){return s?s._promise(null,(c,f)=>{f(u)}):qe(u)}const o=No.bind(null,this,a,l,s,r);return s?s._promise(a,o,"lock"):Y.trans?jn(Y.transless,()=>this._whenReady(o)):this._whenReady(o)}table(t){if(!ht(this._allTables,t))throw new Q.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const td=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class nd{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[td](){return this}}function jo(e,t){return Me(t).forEach(n=>{hs(e[n]||(e[n]=new Lt),t[n])}),e}function rd(e){let t,n=!1;const r=new nd(s=>{const i=Vi(e);let a=!1,l={},o={};const u={get closed(){return a},unsubscribe:()=>{a=!0,Gt.storagemutated.unsubscribe(m)}};s.start&&s.start(u);let c=!1,f=!1;function d(){return Me(o).some(v=>l[v]&&Qh(l[v],o[v]))}const m=v=>{jo(l,v),d()&&_()},_=()=>{if(c||a)return;l={};const v={},p=function(y){i&&Dn();const b=()=>Jt(e,{subscr:y,trans:null}),$=Y.trans?jn(Y.transless,b):b();return i&&$.then(Rt,Rt),$}(v);f||(Gt(cr,m),f=!0),c=!0,Promise.resolve(p).then(y=>{n=!0,t=y,c=!1,a||(d()?_():(l={},o=v,s.next&&s.next(y)))},y=>{c=!1,n=!1,s.error&&s.error(y),u.unsubscribe()})};return _(),u});return r.hasValue=()=>n,r.getValue=()=>t,r}let Oi;try{Oi={indexedDB:ke.indexedDB||ke.mozIndexedDB||ke.webkitIndexedDB||ke.msIndexedDB,IDBKeyRange:ke.IDBKeyRange||ke.webkitIDBKeyRange}}catch{Oi={indexedDB:null,IDBKeyRange:null}}const en=zt;function Gr(e){let t=Et;try{Et=!0,Gt.storagemutated.fire(e)}finally{Et=t}}In(en,{...qr,delete:e=>new en(e,{addons:[]}).delete(),exists:e=>new en(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Qi(t)?Promise.resolve(t.databases()).then(r=>r.map(s=>s.name).filter(s=>s!==ys)):Xi(t,n).toCollection().primaryKeys()}(en.dependencies).then(e)}catch{return qe(new Q.MissingAPI)}},defineClass:()=>function(e){at(this,e)},ignoreTransaction:e=>Y.trans?jn(Y.transless,e):e(),vip:Li,async:function(e){return function(){try{var t=Ai(e.apply(this,arguments));return t&&typeof t.then=="function"?t:z.resolve(t)}catch(n){return qe(n)}}},spawn:function(e,t,n){try{var r=Ai(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:z.resolve(r)}catch(s){return qe(s)}},currentTransaction:{get:()=>Y.trans||null},waitFor:function(e,t){const n=z.resolve(typeof e=="function"?en.ignoreTransaction(e):e).timeout(t||6e4);return Y.trans?Y.trans.waitFor(n):n},Promise:z,debug:{get:()=>Ct,set:e=>{mo(e,e==="dexie"?()=>!0:Ao)}},derive:Ln,extend:at,props:In,override:oo,Events:tr,on:Gt,liveQuery:rd,extendObservabilitySet:jo,getByKeyPath:It,setByKeyPath:yt,delByKeyPath:function(e,t){typeof t=="string"?yt(e,t,void 0):"length"in t&&[].map.call(t,function(n){yt(e,n,void 0)})},shallowClone:ho,deepClone:fr,getObjectDiff:ea,cmp:st,asap:co,minKey:_i,addons:[],connections:er,errnames:Ji,dependencies:Oi,semVer:Na,version:Na.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),en.maxKey=ur(en.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Gt(cr,e=>{if(!Et){let t;bs?(t=document.createEvent("CustomEvent"),t.initCustomEvent(qt,!0,!0,e)):t=new CustomEvent(qt,{detail:e}),Et=!0,dispatchEvent(t),Et=!1}}),addEventListener(qt,({detail:e})=>{Et||Gr(e)}));let Et=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(qt);typeof e.unref=="function"&&e.unref(),Gt(cr,t=>{Et||e.postMessage(t)}),e.onmessage=t=>{t.data&&Gr(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Gt(cr,t=>{try{Et||(typeof localStorage<"u"&&localStorage.setItem(qt,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:qt,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===qt){const n=JSON.parse(t.newValue);n&&Gr(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===qt&&Gr(t.changedParts)})}z.rejectionMapper=function(e,t){if(!e||e instanceof An||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Ta[e.name])return e;var n=new Ta[e.name](t||e.message,e);return"stack"in e&&Tt(n,"stack",{get:function(){return this.inner.stack}}),n},mo(Ct,Ao);class Mo extends zt{spells;classes;races;backgrounds;items;feats;constructor(t){super(t),this.version(1).stores({spells:"name",classes:"name",races:"name",backgrounds:"name",items:"name",feats:"name"})}}const mt=new Mo("dndSrd"),me=new Mo("homebrew");class sd{classes;setClasses;homebrewClasses$=te.toObservable(me.classes.toArray());items;setItems;homebrewItems$=te.toObservable(me.items.toArray());feats;setFeats;homebrewFeats$=te.toObservable(me.feats.toArray());spells;setSpells;homebrewSpells$=te.toObservable(me.spells.toArray());backgrounds;setBackgrounds;homebrewBackgrounds$=te.toObservable(me.backgrounds.toArray());races;setRaces;homebrewRaces$=te.toObservable(me.races.toArray());constructor(t=[],n=[],r=[],s=[],i=[],a=[]){[this.classes,this.setClasses]=L(t),[this.items,this.setItems]=L(n),[this.feats,this.setFeats]=L(r),[this.spells,this.setSpells]=L(s),[this.backgrounds,this.setBackgrounds]=L(i),[this.races,this.setRaces]=L(a),this.homebrewClasses$.pipe(oe(1),je(l=>this.setClasses(o=>[...o,...l]))).subscribe(),this.homebrewItems$.pipe(oe(1),je(l=>this.setItems(o=>[...o,...l]))).subscribe(),this.homebrewFeats$.pipe(oe(1),je(l=>this.setFeats(o=>[...o,...l]))).subscribe(),this.homebrewSpells$.pipe(oe(1),je(l=>this.setSpells(o=>[...o,...l]))).subscribe(),this.homebrewBackgrounds$.pipe(oe(1),je(l=>this.setBackgrounds(o=>[...o,...l]))).subscribe(),this.homebrewRaces$.pipe(oe(1),je(l=>this.setRaces(o=>[...o,...l]))).subscribe()}addClass=t=>{this.classes().findIndex(n=>n.name===t.name)===-1&&(this.setClasses(n=>[...n,t]),this.addClassToDB(t).subscribe())};addClassToDB=t=>te.toObservable(me.classes.add(t)).pipe(oe(1));updateClass(t){const n=this.classes().findIndex(s=>s.name===t.name);if(n===-1)return;const r=this.classes();r[n]=t,this.setClasses([...r])}updateClassesInDB=()=>{this.homebrewClasses$.pipe(oe(1),Se(t=>te.toObservable(me.classes.bulkPut(this.classes())))).subscribe()};removeClass=t=>{const n=this.classes().findIndex(s=>s.name===t);if(n===-1)return;const r=this.classes();r.splice(n,1),this.setClasses([...r]),te.toObservable(me.classes.clear()).pipe(oe(1),Se(()=>te.toObservable(me.classes.bulkAdd(this.classes())))).subscribe()};addItem=t=>{this.items().findIndex(n=>n.name===t.name)===-1&&(this.setItems(n=>[...n,t]),this.addItemToDB(t).subscribe())};addItemToDB=t=>te.toObservable(me.items.add(t)).pipe(oe(1));updateItem=t=>{const n=this.items().findIndex(s=>s.name===t.name);if(n===-1)return;const r=this.items();r[n]=t,this.setItems([...r])};updateItemsInDB=()=>{this.homebrewItems$.pipe(oe(1),Se(t=>te.toObservable(me.items.bulkPut(this.items())))).subscribe()};removeItem=t=>{const n=this.items().findIndex(s=>s.name===t);if(n===-1)return;const r=this.items();r.splice(n,1),this.setItems([...r]),te.toObservable(me.items.clear()).pipe(oe(1),Se(()=>te.toObservable(me.items.bulkAdd(this.items())))).subscribe()};addFeat=t=>{this.feats().findIndex(n=>n.name===t.name)===-1&&(this.setFeats(n=>[...n,t]),this.addFeatToDB(t).subscribe())};addFeatToDB=t=>te.toObservable(me.feats.add(t)).pipe(oe(1));updateFeat=t=>{const n=this.feats().findIndex(s=>s.name===t.name);if(n===-1)return;const r=this.feats();r[n]=t,this.setFeats([...r])};updateFeatsInDB=()=>{this.homebrewFeats$.pipe(oe(1),Se(t=>te.toObservable(me.feats.bulkPut(this.feats())))).subscribe()};removeFeat=t=>{const n=this.feats().findIndex(s=>s.name===t);if(n===-1)return;const r=this.feats();r.splice(n,1),this.setFeats([...r]),te.toObservable(me.feats.clear()).pipe(oe(1),Se(()=>te.toObservable(me.feats.bulkAdd(this.feats())))).subscribe()};addSpell=t=>{this.spells().findIndex(n=>n.name===t.name)===-1&&(this.setSpells(n=>[...n,t]),this.addSpellToDB(t).subscribe())};addSpellToDB=t=>te.toObservable(me.spells.add(t)).pipe(oe(1));updateSpell=t=>{const n=this.spells().findIndex(s=>s.name===t.name);if(n===-1)return;const r=this.spells();r[n]=t,this.setSpells([...r])};updateSpellsInDB=()=>{this.homebrewSpells$.pipe(oe(1),Se(t=>te.toObservable(me.spells.bulkPut(this.spells())))).subscribe()};removeSpell=t=>{const n=this.spells().findIndex(s=>s.name===t);if(n===-1)return;const r=this.spells();r.splice(n,1),this.setSpells([...r]),te.toObservable(me.spells.clear()).pipe(oe(1),Se(()=>te.toObservable(me.spells.bulkAdd(this.spells())))).subscribe()};addBackground=t=>{this.backgrounds().findIndex(n=>n.name===t.name)===-1&&(this.setBackgrounds(n=>[...n,t]),this.addBackgroundToDB(t).subscribe())};addBackgroundToDB=t=>te.toObservable(me.backgrounds.add(t)).pipe(oe(1));updateBackground=t=>{const n=this.backgrounds().findIndex(s=>s.name===t.name);if(n===-1)return;const r=this.backgrounds();r[n]=t,this.setBackgrounds([...r]),this.updateBackgroundsInDB()};updateBackgroundsInDB=()=>{this.homebrewBackgrounds$.pipe(oe(1),Se(t=>te.toObservable(me.backgrounds.bulkPut(this.backgrounds())))).subscribe()};removeBackground=t=>{const n=this.backgrounds().findIndex(s=>s.name===t);if(n===-1)return;const r=this.backgrounds();r.splice(n,1),this.setBackgrounds([...r]),te.toObservable(me.backgrounds.clear()).pipe(oe(1),Se(()=>te.toObservable(me.backgrounds.bulkAdd(this.backgrounds())))).subscribe()};addRace=t=>{this.races().findIndex(n=>n.name===t.name)===-1&&(this.setRaces(n=>[...n,t]),this.addRaceToDB(t).subscribe())};addRaceToDB=t=>te.toObservable(me.races.add(t)).pipe(oe(1));updateRace=t=>{const n=this.races().findIndex(s=>s.name===t.name);if(n===-1)return;const r=this.races();r[n]=t,this.setRaces([...r]),this.updateRacesInDB().subscribe()};updateRacesInDB=()=>this.homebrewRaces$.pipe(oe(1),Se(t=>te.toObservable(me.races.bulkPut(this.races()))));removeRace=t=>{const n=this.races().findIndex(s=>s.name===t);if(n===-1)return;const r=this.races().splice(n,1);this.setRaces([...r]),te.toObservable(me.races.clear()).pipe(oe(1),Se(()=>te.toObservable(me.races.bulkAdd(this.races())))).subscribe()}}const lt=new sd,[Ha,id]=L([]);function na(){const e=te.toObservable(mt.classes.toArray());return Ha().length===0&&e.pipe(oe(1),Se(t=>t.length>0?we(t):we([])),Se(t=>t.length===0?te.post("/api/DnDInfo/Classes",{}).pipe(oe(1),vn(n=>(console.error("Error: ",n),we(null))),je(n=>{n&&mt.classes.bulkAdd(n)})):we(t)),Se(t=>we(t&&t.concat(lt.classes()))),je(t=>t&&t.length>0?id(t):null)).subscribe(),Ha}const[Va,ad]=L([]);function ra(){const e=te.toObservable(mt.spells.toArray());return Va().length===0&&e.pipe(oe(1),Se(t=>t.length>0?we(t):we([])),Se(t=>t.length===0?te.post("/api/DnDInfo/Spells",{}).pipe(oe(1),vn(n=>(console.error("Error: ",n),we(null))),je(n=>{n&&mt.spells.bulkAdd(n)})):we(t)),je(t=>t&&t.length>0?ad(t):null)).subscribe(),Va}const[za,ld]=L([]);function Fo(){const e=te.toObservable(mt.feats.toArray());return za().length===0&&e.pipe(oe(1),Se(t=>t.length>0?we(t):we([])),Se(t=>t.length===0?te.post("/api/DnDInfo/Feats",{}).pipe(oe(1),vn(n=>(console.error("Error: ",n),we(null))),je(n=>{n&&mt.feats.bulkAdd(n)})):we(t)),je(t=>t&&t.length>0?ld(t):null)).subscribe(),za}const[Ja,od]=L([]);function Ko(){const e=te.toObservable(mt.races.toArray());return Ja().length===0&&e.pipe(oe(1),Se(t=>t.length>0?we(t):we([])),Se(t=>t.length===0?te.post("/api/DnDInfo/Races",{}).pipe(oe(1),vn(n=>(console.error("Error: ",n),we(null))),je(n=>{n&&mt.races.bulkAdd(n)})):we(t)),je(t=>t&&t.length>0?od(t):null)).subscribe(),Ja}const[Wa,cd]=L([]);function Uo(){const e=te.toObservable(mt.backgrounds.toArray());return Wa().length===0&&e.pipe(oe(1),Se(t=>t.length>0?we(t):we([])),Se(t=>t.length===0?te.post("/api/DnDInfo/Backgrounds",{}).pipe(oe(1),vn(n=>(console.error("Error: ",n),we(null))),je(n=>{n&&mt.backgrounds.bulkAdd(n)})):we(t)),je(t=>t&&t.length>0?cd(t):null)).subscribe(),Wa}const[Ga,ud]=L([]);function qo(){const e=te.toObservable(mt.items.toArray());return Ga().length===0&&e.pipe(oe(1),Se(t=>t.length>0?we(t):we([])),Se(t=>t.length===0?te.post("/api/DnDInfo/Items",{}).pipe(oe(1),vn(n=>(console.error("Error: ",n),we(null))),je(n=>{n&&mt.items.bulkAdd(n)})):we(t)),je(t=>t&&t.length>0?ud(t):null)).subscribe(),Ga}const hd="_AppBody_1nqjx_1",dd={AppBody:hd};function fd(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:a}=e;let l,o;const u=async(f=!0)=>{await o};async function c(){if("serviceWorker"in navigator){if(l=await ds(()=>import("./workbox-window.prod.es5-HOwwy-x7.js"),__vite__mapDeps([])).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{a?.(f)}),!l)return;l.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),l.addEventListener("installed",f=>{f.isUpdate||r?.()}),l.register({immediate:t}).then(f=>{i?i("/sw.js",f):s?.(f)}).catch(f=>{a?.(f)})}}return o=c(),u}function Ho(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:a}=e,[l,o]=L(!1),[u,c]=L(!1),f=fd({immediate:t,onOfflineReady(){c(!0),r?.()},onNeedRefresh(){o(!0),n?.()},onRegistered:s,onRegisteredSW:i,onRegisterError:a});return{needRefresh:[l,o],offlineReady:[u,c],updateServiceWorker:f}}const gd="_Container_8liaz_1",md="_Toast_8liaz_15",vd="_ToastMessage_8liaz_43",pd="_ToastButton_8liaz_51",Vn={Container:gd,Toast:md,ToastMessage:vd,ToastButton:pd};var bd=w("<span>App ready to work offline"),yd=w("<button>Reload"),_d=w("<div><div></div><button>Close"),wd=w("<div>"),$d=w("<span>New content available, click on reload button to update.");const Cd=()=>{const{offlineReady:[e,t],needRefresh:[n,r],updateServiceWorker:s}=Ho({onRegistered(a){console.log("SW Registered: ",a)},onRegisterError(a){console.log("SW registration error",a)}}),i=()=>{t(!1),r(!1)};return(()=>{var a=wd();return g(a,h(H,{get when(){return e()||n()},get children(){var l=_d(),o=l.firstChild,u=o.nextSibling;return g(o,h(H,{get fallback(){return $d()},get when(){return e()},get children(){return bd()}})),g(l,h(H,{get when(){return n()},get children(){var c=yd();return c.$$click=()=>s(!0),D(()=>B(c,Vn.ToastButton)),c}}),u),u.$$click=()=>i(),D(c=>{var f=Vn.Toast,d=Vn.Message,m=Vn.ToastButton;return f!==c.e&&B(l,c.e=f),d!==c.t&&B(o,c.t=d),m!==c.a&&B(u,c.a=m),c},{e:void 0,t:void 0,a:void 0}),l}})),D(()=>B(a,Vn.Container)),a})()};dt(["click"]);const Sd="_header_nb7qb_1",xd="_body_nb7qb_26",kd="_totalPanel_nb7qb_35",Fs={header:Sd,body:xd,totalPanel:kd};class Pd extends zt{userSettings;constructor(t){super(t),this.version(1).stores({userSettings:"userId"})}}const Vo=new Pd("userSettings"),[Ya,Ti]=L({userId:0,username:"",email:"",theme:"light"}),[Ld,Za]=L(!1);function Ie(e){return e&&Za(!1),Ld()||(Za(!0),Ed().pipe(oe(1),je(t=>{t.length>0&&t[0].userId===Ya().userId&&Ti(t[0])})).subscribe()),[Ya,Ti]}function Ad(e){Vo.userSettings.put(e),Ti(e)}function Ed(){return te.toObservable(Vo.userSettings.toArray())}const Od="_body_ylqsn_1",Td="_primary_ylqsn_14",Id="_accent_ylqsn_24",Bd="_tertiary_ylqsn_30",Rd="_warn_ylqsn_35",Nd="_hover_ylqsn_39",Dd="_popup_ylqsn_53",jt={body:Od,primary:Td,accent:Id,tertiary:Bd,warn:Rd,hover:Nd,popup:Dd},jd="_body_1c3w6_1",Md="_primary_1c3w6_14",Fd="_accent_1c3w6_24",Kd="_tertiary_1c3w6_30",Ud="_warn_1c3w6_35",qd="_hover_1c3w6_39",Hd="_popup_1c3w6_53",Mt={body:jd,primary:Md,accent:Fd,tertiary:Kd,warn:Ud,hover:qd,popup:Hd},Vd="_active_88uab_1",zd="_inactive_88uab_6",Jd="_navbar_88uab_11",Ks={active:Vd,inactive:zd,navbar:Jd};var Yr=(e=>(e[e.DnD5e=0]="DnD5e",e[e.TOValient=1]="TOValient",e))(Yr||{});function Wd(e){const[t,n]=L([]),r=Yr.DnD5e;return D(()=>{switch(!0){case e().startsWith("/info"):const s=[{Name:"All",Link:"/info"},{Name:"Races",Link:"/info/races"},{Name:"Items",Link:"/info/items"},{Name:"Spells",Link:"/info/spells"},{Name:"Feats",Link:"/info/feats"},{Name:"Classes",Link:"/info/classes"}];r===Yr.DnD5e?s.push({Name:"Backgrounds",Link:"/info/backgrounds"}):r===Yr.TOValient&&s.push({Name:"Heritages",Link:"/info/heritages"}),n(s);break;case e().startsWith("/characters"):n([{Name:"All",Link:"/characters"},{Name:"View",Link:"/characters/view"},{Name:"Create",Link:"/characters/create"}]);break;case e().startsWith("/homebrew"):n([{Name:"All",Link:"/homebrew"},{Name:"View",Link:"/homebrew/view"},{Name:"Create",Link:"/homebrew/create"}]);break;default:n([]);break}}),t}var Gd=w('<svg width=40 height=40 viewBox="0 0 83 88"fill=none xmlns=http://www.w3.org/2000/svg><path d="M31.125 57.75C31.125 57.0207 31.3983 56.3212 31.8847 55.8055C32.3711 55.2897 33.0308 55 33.7188 55H49.2812C49.9692 55 50.6289 55.2897 51.1153 55.8055C51.6017 56.3212 51.875 57.0207 51.875 57.75C51.875 58.4793 51.6017 59.1788 51.1153 59.6945C50.6289 60.2103 49.9692 60.5 49.2812 60.5H33.7188C33.0308 60.5 32.3711 60.2103 31.8847 59.6945C31.3983 59.1788 31.125 58.4793 31.125 57.75ZM20.75 41.25C20.75 40.5207 21.0233 39.8212 21.5097 39.3055C21.9961 38.7897 22.6558 38.5 23.3438 38.5H59.6562C60.3442 38.5 61.0039 38.7897 61.4903 39.3055C61.9767 39.8212 62.25 40.5207 62.25 41.25C62.25 41.9793 61.9767 42.6788 61.4903 43.1945C61.0039 43.7103 60.3442 44 59.6562 44H23.3438C22.6558 44 21.9961 43.7103 21.5097 43.1945C21.0233 42.6788 20.75 41.9793 20.75 41.25ZM10.375 24.75C10.375 24.0207 10.6483 23.3212 11.1347 22.8055C11.6211 22.2897 12.2808 22 12.9688 22H70.0312C70.7192 22 71.3789 22.2897 71.8653 22.8055C72.3517 23.3212 72.625 24.0207 72.625 24.75C72.625 25.4793 72.3517 26.1788 71.8653 26.6945C71.3789 27.2103 70.7192 27.5 70.0312 27.5H12.9688C12.2808 27.5 11.6211 27.2103 11.1347 26.6945C10.6483 26.1788 10.375 25.4793 10.375 24.75Z"fill=white>');const Yd=()=>Gd();var Zd=w("<li><div>"),Xd=w("<div><div><span></span><ul>"),Qd=w("<li>");const ef=e=>{const[t,n]=Ie(),r=F(()=>pe(t().theme));L(!1),L(!1);const[s,i]=L(window.location.pathname),a=[{Name:"Home",Link:"/"},{Name:"Characters",Link:"/characters"},{Name:"Info",Link:"/info"},{Name:"Homebrew",Link:"/homebrew"}];Wd(s);const[l,o]=e.list,u=_=>s()==="/"&&_.Link==="/"||s().startsWith(_.Link)&&s()!=="/"&&_.Link!=="/"?Ks.active:Ks.inactive,[c,f]=L(!1),[d,m]=L(e.isMobile?"6vw":"93vw");return D(()=>{e.isMobile&&f(!1),m(e.isMobile?"6vw":"93vw")}),(()=>{var _=Xd(),v=_.firstChild,p=v.firstChild,y=p.nextSibling;return g(p,h(rn,{href:"/",children:"MySite"})),g(y,h(H,{get when(){return e.isMobile},get children(){var b=Zd(),$=b.firstChild;return g($,h(rn,{href:"/",children:"MySite"})),b}}),null),g(y,h(K,{each:a,children:(b,$)=>h(H,{get when(){return!e.isMobile||$()===0||c()},get children(){var k=Qd();return g(k,h(rn,{onClick:()=>i(b.Link),get href(){return b.Link},get children(){return b.Name}})),D(()=>B(k,`${r()?.accent} ${r()?.hover} ${u(b)}`)),k}})}),null),g(v,h(de,{onClick:()=>o(b=>!b),get children(){return h(Yd,{})}}),null),D(b=>{var $=`${r()?.primary} ${Ks.navbar}`,k=`${e.style??""}`,x=e.isMobile?{margin:"0 auto",width:"min-content"}:{};return $!==b.e&&B(_,b.e=$),k!==b.t&&B(v,b.t=k),b.a=Mi(y,x,b.a),b},{e:void 0,t:void 0,a:void 0}),_})()};function Mn(){return Te(Re)}const xn=function(){let e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor),e},tf="_input_mfc1j_2",nf="_error_mfc1j_37",rf="_success_mfc1j_40",sf="_warning_mfc1j_43",af="_info_mfc1j_46",lf="_disabled_mfc1j_49",of="_checkbox_mfc1j_53",cf="_transparent_mfc1j_57",Xa={input:tf,error:nf,success:rf,warning:sf,info:af,disabled:lf,checkbox:of,transparent:cf};var uf=w("<input>");const ce=e=>{const[t,n]=Yt(e,["tooltip","transparent"]),r=s=>["checkbox"].includes(s??"text");return(()=>{var s=uf();return vt(s,ct(n,{get class(){return`${Xa.input} ${t.transparent&&!r(n.type)?Xa.transparent:""} ${e.class??""}`},get title(){return t.tooltip}}),!1,!1),s})()},hf="_paginator_179x7_1",df="_pageView_179x7_11",Qa={paginator:hf,pageView:df},ff="_select_1joqo_1",gf="_transparent_1joqo_8",el={select:ff,transparent:gf};var mf=w("<option>");const G=e=>{Mn();const[t,n]=Ie(),r=F(()=>pe(t().theme));return(()=>{var s=mf();return vt(s,ct(e,{get class(){return`${r().primary} ${e.class??""}`}}),!1,!1),s})()};var vf=w("<select>");const xe=e=>{const[t,n]=Yt(e,["disableUnselected","class","transparent"]);return(()=>{var r=vf();return vt(r,ct(n,{get class(){return`${el.select} ${t.transparent?el.transparent:""} ${t.class??""}`}}),!1,!0),g(r,h(H,{get when(){return!t.disableUnselected},get children(){return h(G,{children:"--------"})}}),null),g(r,()=>e.children,null),r})()};var pf=w("<div><div><div></div> / <div>"),bf=w("<option>");const _s=e=>{const[t,n]=L(1),[r,s]=L(e.itemsPerPage?.[0]??10),a=Te(Re)?.useStyle(),l=F(()=>e.items().slice((t()-1)*r(),t()*r())),o=F(()=>Math.ceil(e.items().length/r())),u=e.itemsPerPage??[10,20,50,100];return D(()=>{t()>o()&&n(o())}),D(()=>{e.setPaginatedItems(l())}),(()=>{var c=pf(),f=c.firstChild,d=f.firstChild,m=d.nextSibling,_=m.nextSibling;return g(c,h(de,{get disabled(){return t()===1},onClick:()=>n(1),children:"←←"}),f),g(c,h(de,{get disabled(){return t()===1},onClick:()=>n(t()-1),children:"←"}),f),g(c,h(xe,{disableUnselected:!0,transparent:!0,onChange:v=>s(+v.currentTarget.value),get children(){return h(K,{each:u,children:v=>(()=>{var p=bf();return p.value=v,g(p,v),p})()})}}),f),g(d,t),g(_,o),g(c,h(de,{get disabled(){return t()===o()},onClick:()=>n(t()+1),children:"→"}),null),g(c,h(de,{get disabled(){return t()===o()},onClick:()=>n(o()),children:"→→"}),null),D(v=>{var p=`${a?.accent} ${Qa.paginator} `,y=Qa.pageView;return p!==v.e&&B(c,v.e=p),y!==v.t&&B(f,v.t=y),v},{e:void 0,t:void 0}),c})()},yf="_carouselHeader_uoqig_1",_f="_carousel_uoqig_1",wf="_carouselSlides_uoqig_24",$f="_carouselSlide_uoqig_24",Cf="_carouselButton_uoqig_37",Ft={carouselHeader:yf,carousel:_f,carouselSlides:wf,carouselSlide:$f,carouselButton:Cf};var Sf=w("<div>No <!> Found"),xf=w("<div>No Elements Found"),kf=w("<div><div><div><div></div></div></div><div>");const vr=({startingIndex:e=0,...t})=>{const[n,r]=L(e),[s,i]=Yt(t,["currentIndex"]),a=()=>s.currentIndex?s.currentIndex[0]():n(),l=m=>s.currentIndex?s.currentIndex[1](m):r(m),o=F(()=>t.elements.length===2?a():n()),u=F(()=>t.elements.length>0?t.elements[o()].name:t.notFoundName?`No ${t.notFoundName} Found`:"No Elements Found"),c=F(()=>t.elements.length>0?t.elements[o()].element:t.notFoundName?(()=>{var m=Sf(),_=m.firstChild,v=_.nextSibling;return v.nextSibling,g(m,()=>t.notFoundName,v),m})():xf()),f=()=>{o()!==t.elements.length-1?r(m=>m+1):r(0)},d=()=>{o()!==0?r(m=>m-1):r(t.elements.length-1)};return D(()=>{t.currentIndex&&l(o())}),(()=>{var m=kf(),_=m.firstChild,v=_.firstChild,p=v.firstChild,y=_.nextSibling;return g(_,h(de,{get class(){return`${Ft.carouselButton}`},onClick:d,children:"❮"}),v),g(p,u),g(_,h(de,{get class(){return`${Ft.carouselButton} `},onClick:f,children:"❯"}),null),g(y,c),D(b=>{var $=`${Ft.carousel}`,k=`${Ft.carouselHeader}`,x=`${Ft.carouselSlides} ${Ft.header}`,I=`${Ft.carouselSlide}`,S=`${Ft.carouselSlide}`;return $!==b.e&&B(m,b.e=$),k!==b.t&&B(_,b.t=k),x!==b.a&&B(v,b.a=x),I!==b.o&&B(p,b.o=I),S!==b.i&&B(y,b.i=S),b},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),m})()},Pf="_Chip_16zia_1",Lf="_removeChipButton_16zia_9",tl={Chip:Pf,removeChipButton:Lf};var Af=w("<button>X"),Ef=w("<span> : ");const cn=e=>{const t=pe();return(()=>{var n=Ef(),r=n.firstChild;return g(n,()=>e.key,r),g(n,()=>e.value,null),g(n,h(H,{get when(){return!!e.remove},get children(){var s=Af();return ji(s,"click",e.remove,!0),D(()=>B(s,`${t.hover} ${tl.removeChipButton}`)),s}}),null),D(()=>B(n,`${t.tertiary} ${tl.Chip} ${e.class??""}`)),n})()};dt(["click"]);const Of="_searchBar_urvs3_1",nl={searchBar:Of};var Tf=w("<div><input type=text><button>"),If=w('<svg><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z">');const zo=e=>{const[t,n]=L(""),r=()=>{const s=t().toLowerCase(),i=e.dataSource().filter(a=>s.trim().length===0?!0:JSON.stringify(a).toLowerCase().includes(s.trim()));i.length>1?e.setResults(i):e.setResults(e.dataSource())};return e.setResults(e.dataSource()),(()=>{var s=Tf(),i=s.firstChild,a=i.nextSibling;return i.$$keydown=l=>l.key==="Enter"&&r(),i.addEventListener("change",l=>n(l.currentTarget.value)),vt(i,ct({get value(){return t()}},e,{get class(){return`${nl.input} ${e.class??""}`}}),!1,!1),a.$$click=r,g(a,h(Bf,{})),D(l=>{var o=nl.searchBar,u=e.tooltip??"Search!";return o!==l.e&&B(s,l.e=o),u!==l.t&&Ye(a,"title",l.t=u),l},{e:void 0,t:void 0}),s})()},Bf=e=>(()=>{var t=If();return vt(t,ct(e,{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 50 50"}),!0,!0),t})();dt(["keydown","click"]);function Jo(e,t){const n=document.getElementById("root");if(!n){console.warn("Root element not found.");return}const r=s=>{e&&Object.keys(e).includes("contains")&&!e.contains(s.target)&&t()?.()};n.addEventListener("click",r),hn(()=>{n.removeEventListener("click",r)})}const Rf="_wrapper_1a78a_1",Nf="_header_1a78a_15",rl={wrapper:Rf,header:Nf};var Df=w("<b>X"),jf=w("<div><div><h2></h2><span>");const sa=e=>{const[t,n]=Ie();Te(Re);const r=F(()=>pe(t().theme)),[s,i]=e.backgroundClick??L(!0),a=e.translate?.x??"-50%",l=e.translate?.y??"-50%";return h(Ll,{get children(){var o=jf(),u=o.firstChild,c=u.firstChild,f=c.nextSibling;return rs(Jo,o,()=>()=>i(d=>!d)),`translate(${a},${l})`!=null?o.style.setProperty("transform",`translate(${a},${l})`):o.style.removeProperty("transform"),g(c,()=>e.title??"Modal"),g(f,h(de,{onClick:()=>i(d=>!d),get children(){return Df()}})),g(o,()=>e.children,null),D(d=>{var m=e.width,_=e.height,v=e.maxHeight,p=e.maxWidth,y=`${r()?.popup} ${r()?.primary} ${rl.wrapper}`,b=`${r()?.accent} ${rl.header}`;return m!==d.e&&((d.e=m)!=null?o.style.setProperty("width",m):o.style.removeProperty("width")),_!==d.t&&((d.t=_)!=null?o.style.setProperty("height",_):o.style.removeProperty("height")),v!==d.a&&((d.a=v)!=null?o.style.setProperty("max-height",v):o.style.removeProperty("max-height")),p!==d.o&&((d.o=p)!=null?o.style.setProperty("max-width",p):o.style.removeProperty("max-width")),y!==d.i&&B(o,d.i=y),b!==d.n&&B(u,d.n=b),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),o}})};function sl(e,t,n=!1){const r=i=>i===0?"cantrips_known":`spell_slots_level_${i}`,s={};if(t==="half")switch(n&&(e<10?s[r(0)]=2:e<14?s[r(0)]=3:s[r(0)]=4),e){case 2:s[r(1)]=2;break;case 3:case 4:s[r(1)]=3;break;case 5:case 6:s[r(1)]=4,s[r(2)]=2;break;case 7:case 8:s[r(1)]=4,s[r(2)]=3;break;case 9:case 10:s[r(1)]=4,s[r(2)]=3,s[r(3)]=2;break;case 11:case 12:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3;break;case 13:case 14:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3,s[r(4)]=1;break;case 15:case 16:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3,s[r(4)]=2;break;case 17:case 18:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3,s[r(4)]=3;break;case 19:case 20:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3,s[r(4)]=3,s[r(5)]=1;break}else switch(n&&(e<10?s[r(0)]=2:s[r(0)]=3),e){case 3:s[r(1)]=2;break;case 4:case 5:case 6:s[r(1)]=3;break;case 7:case 8:case 9:s[r(1)]=4,s[r(2)]=2;break;case 10:case 11:case 12:s[r(1)]=4,s[r(2)]=3;break;case 13:case 14:case 15:s[r(1)]=4,s[r(2)]=3,s[r(3)]=2;break;case 16:case 17:case 18:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3;break;case 19:case 20:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3,s[r(4)]=1;break}return s}const Mf=e=>{switch(e){case 0:return"Cantrip";case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`;default:return`${e}th`}};function rr(e){return JSON.parse(JSON.stringify(e))}function Ff(e){return Array.from({length:e},(t,n)=>n+1)}const Kf=e=>{switch(e){case"0":return"Cantrip";case"1":return"1st";case"2":return"2nd";case"3":return"3rd";default:return`${e}th`}},Uf=e=>{const t=[];return e.isVerbal&&t.push("V"),e.isSomatic&&t.push("S"),e.isMaterial&&t.push("M"),e.materials_Needed?[t.join(", "),e.materials_Needed??null].join(", "):t.join(", ")},Wo=e=>{const t=JSON.parse(JSON.stringify(e));return typeof t=="string"?t:Array.isArray(t)?t.join(`
 
`):"-unknown-"};var qf=w('<svg width=46 height=44 viewBox="0 0 46 44"fill=none xmlns=http://www.w3.org/2000/svg><path d="M24.15 12.7875L37.6625 25.575C39.1 26.95 39.1 29.15 37.6625 30.525C36.225 31.9 33.925 31.9 32.4875 30.525L24.15 22.6875C23.4312 22 22.425 22 21.7062 22.6875L13.3687 30.525C11.9312 31.9 9.63123 31.9 8.19373 30.525C6.75623 29.15 6.75623 26.95 8.19373 25.575L21.7062 12.7875C22.425 12.2375 23.575 12.2375 24.15 12.7875Z"stroke=white stroke-width=2 stroke-miterlimit=10 stroke-linecap=round stroke-linejoin=round>'),Hf=w('<svg width=44 height=43 viewBox="0 0 44 43"fill=none xmlns=http://www.w3.org/2000/svg><path d="M20.7625 31.8469L7.83752 19.35C6.46252 18.0062 6.46252 15.8562 7.83752 14.5125C9.21252 13.1687 11.4125 13.1687 12.7875 14.5125L20.7625 22.1719C21.45 22.8437 22.4125 22.8437 23.1 22.1719L31.075 14.5125C32.45 13.1687 34.65 13.1687 36.025 14.5125C37.4 15.8562 37.4 18.0062 36.025 19.35L23.1 31.8469C22.55 32.3844 21.45 32.3844 20.7625 31.8469Z"stroke=white stroke-width=2 stroke-miterlimit=10 stroke-linecap=round stroke-linejoin=round>');const Go=()=>qf(),Yo=()=>Hf();var Vf=w('<svg width=26 height=17 viewBox="0 0 26 17"fill=none xmlns=http://www.w3.org/2000/svg><path d="M25.9732 8.37285C25.9671 8.35975 25.8692 8.14406 25.6726 7.78919C24.6176 5.88731 20.727 0 13.0002 0C3.83202 0 0.0644916 8.28892 0.0271169 8.37285C-0.00903897 8.45467 -0.00903897 8.54533 0.0271169 8.6275C0.0644916 8.71108 3.83202 17 13.0002 17C20.7229 17 24.6135 11.1191 25.6706 9.21435C25.868 8.85771 25.9667 8.6406 25.9728 8.6275C26.009 8.54533 26.009 8.45467 25.9732 8.37285ZM13.0002 16.2917C5.00282 16.2917 1.35026 9.51894 0.846515 8.49965C1.34945 7.47894 4.99226 0.708333 13.0002 0.708333C20.9975 0.708333 24.6501 7.48106 25.1538 8.50035C24.6509 9.52106 21.0081 16.2917 13.0002 16.2917Z"fill=white></path><path d="M13.0002 2.83475C9.41018 2.83475 6.50024 5.37164 6.50024 8.50141C6.50024 11.6312 9.41018 14.1681 13.0002 14.1681C16.5902 14.1681 19.5001 11.6312 19.5001 8.50141C19.5001 5.37164 16.5902 2.83475 13.0002 2.83475ZM13.0002 13.4597C9.85909 13.4597 7.31274 11.2398 7.31274 8.50141C7.31274 5.763 9.85909 3.54308 13.0002 3.54308C16.1413 3.54308 18.6876 5.763 18.6876 8.50141C18.6876 11.2398 16.1413 13.4597 13.0002 13.4597Z"fill=white></path><path d="M13.0002 5.66809C11.2054 5.66809 9.75024 6.93672 9.75024 8.50142C9.75024 10.0661 11.2054 11.3348 13.0002 11.3348C14.795 11.3348 16.2502 10.0661 16.2502 8.50142C16.2502 6.93672 14.795 5.66809 13.0002 5.66809ZM13.0002 10.6264C11.6543 10.6264 10.5627 9.67478 10.5627 8.50142C10.5627 7.32807 11.6543 6.37642 13.0002 6.37642C14.3461 6.37642 15.4377 7.32807 15.4377 8.50142C15.4377 9.67478 14.3461 10.6264 13.0002 10.6264Z"fill=white></path><path d="M13.0002 7.08333C12.7755 7.08333 12.5939 7.24164 12.5939 7.43749C12.5939 7.63335 12.7755 7.79166 13.0002 7.79166C13.4487 7.79166 13.8127 8.109 13.8127 8.5C13.8127 8.69585 13.9943 8.85416 14.2189 8.85416C14.4436 8.85416 14.6252 8.69585 14.6252 8.5C14.6252 7.71764 13.8976 7.08333 13.0002 7.08333Z"fill=white>');const zf=()=>Vf();var Jf=w('<svg><path fill-rule=evenodd clip-rule=evenodd d="M20.8333 4.16663C19.6827 4.16663 18.75 5.09938 18.75 6.24996V9.54533C17.3015 10.1316 15.9551 10.915 14.7439 11.8617L11.887 10.2123C11.4085 9.93604 10.8398 9.86117 10.3061 10.0042C9.77239 10.1472 9.31737 10.4964 9.0411 10.9749L4.87443 18.1917C4.29914 19.1882 4.64054 20.4623 5.63697 21.0377L8.49283 22.6864C8.3876 23.4433 8.33331 24.2158 8.33331 25C8.33331 25.7841 8.3876 26.5564 8.49283 27.3135L5.63699 28.9622C5.15847 29.2385 4.80933 29.6935 4.66631 30.2272C4.52331 30.761 4.59816 31.3295 4.87443 31.8081L9.0411 39.025C9.31737 39.5035 9.77241 39.8527 10.3061 39.9958C10.8398 40.1387 11.4085 40.0639 11.887 39.7877L14.7439 38.1381C15.9552 39.0847 17.3015 39.8683 18.75 40.4545V43.75C18.75 44.9006 19.6827 45.8333 20.8333 45.8333H29.1667C30.3171 45.8333 31.25 44.9006 31.25 43.75V40.4545C32.6984 39.8683 34.0448 39.0847 35.2561 38.1381L38.113 39.7877C38.5915 40.0639 39.16 40.1387 39.6938 39.9958C40.2275 39.8527 40.6825 39.5035 40.9588 39.0252L45.1255 31.8083C45.4017 31.3298 45.4767 30.761 45.3336 30.2272C45.1907 29.6937 44.8415 29.2385 44.363 28.9622L41.5071 27.3135C41.6123 26.5566 41.6667 25.7841 41.6667 25C41.6667 24.2158 41.6123 23.4433 41.5071 22.6864L44.363 21.0377C45.3594 20.4623 45.7009 19.1881 45.1255 18.1917L40.9588 10.9748C40.6825 10.4963 40.2275 10.1471 39.6938 10.0041C39.16 9.86113 38.5915 9.93598 38.113 10.2123L35.2561 11.8617C34.0448 10.915 32.6984 10.1316 31.25 9.54533V6.24996C31.25 5.09938 30.3171 4.16663 29.1667 4.16663H20.8333ZM22.9167 11.0205V8.33329H27.0834V11.0205C27.0834 11.9422 27.689 12.7544 28.5723 13.0173C30.4705 13.5822 32.1823 14.5874 33.5882 15.9172C34.2575 16.5505 35.2634 16.6687 36.0615 16.208L38.3921 14.8624L40.4755 18.4708L38.1477 19.8147C37.3502 20.2751 36.9496 21.2043 37.1623 22.1002C37.3827 23.0287 37.5 23.9993 37.5 25C37.5 26.0006 37.3827 26.9712 37.1623 27.8997C36.9496 28.7956 37.3502 29.7248 38.1477 30.1852L40.4755 31.5291L38.3921 35.1375L36.0613 33.7918C35.2634 33.3312 34.2575 33.4493 33.588 34.0827C32.1823 35.4125 30.4705 36.4177 28.5723 36.9825C27.689 37.2454 27.0834 38.0577 27.0834 38.9793V41.6666H22.9167V38.9793C22.9167 38.0577 22.3109 37.2454 21.4275 36.9825C19.5294 36.4177 17.8177 35.4125 16.4118 34.0827C15.7424 33.4493 14.7365 33.3312 13.9385 33.7918L11.6079 35.1375L9.52454 31.5291L11.8522 30.1852C12.6496 29.7248 13.0502 28.7956 12.8376 27.8997C12.6171 26.9712 12.5 26.0006 12.5 25C12.5 23.9993 12.6171 23.0287 12.8376 22.1002C13.0502 21.2043 12.6496 20.2751 11.8522 19.8147L9.52454 18.4709L11.6079 14.8624L13.9385 16.208C14.7365 16.6687 15.7424 16.5505 16.4118 15.9172C17.8176 14.5874 19.5294 13.5822 21.4275 13.0173C22.3109 12.7544 22.9167 11.9422 22.9167 11.0205ZM20.8333 25C20.8333 22.6987 22.6988 20.8333 25 20.8333C27.3013 20.8333 29.1667 22.6987 29.1667 25C29.1667 27.3012 27.3013 29.1666 25 29.1666C22.6988 29.1666 20.8333 27.3012 20.8333 25ZM25 16.6666C20.3976 16.6666 16.6667 20.3976 16.6667 25C16.6667 29.6022 20.3976 33.3333 25 33.3333C29.6023 33.3333 33.3334 29.6022 33.3334 25C33.3334 20.3976 29.6023 16.6666 25 16.6666Z"fill=black>');const Wf=e=>(()=>{var t=Jf();return vt(t,ct(e,{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),!0,!0),t})();var Gf=w('<svg width=21 height=19 viewBox="0 0 21 19"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_19_710)><path d="M20.6154 3.70551L16.903 0.346669C16.3905 -0.11705 15.56 -0.11705 15.0468 0.346965C15.0468 0.346965 0.39736 13.6012 0.197532 13.782C-0.001968 13.9622 7.37507e-07 14.2487 7.37507e-07 14.2487L0.000328863 18.4047C0.000328863 18.7327 0.294329 18.9984 0.656251 18.9987H2.29359C2.29458 18.9987 5.25 18.9987 5.25 18.9987C5.25 18.9987 5.56599 19.0011 5.76581 18.82C5.96564 18.6389 20.6154 5.38434 20.6154 5.38434C21.1286 4.92062 21.1286 4.16983 20.6154 3.70551ZM12.2574 3.70997L13.4174 4.75972L2.28047 14.8365L1.12022 13.7868L12.2574 3.70997ZM2.74444 15.2563L13.8813 5.17979L15.2736 6.43943L4.13634 16.5157L2.74444 15.2563ZM0.984704 18.4047C0.803251 18.4047 0.656251 18.2723 0.656579 18.1081V17.6382L1.5038 18.4047H0.984704ZM2.43174 18.405L0.656579 16.7989L0.656907 14.2072L5.29692 18.4053H2.43174V18.405ZM5.76089 17.9852L4.60064 16.9355L15.7379 6.85951L16.8978 7.90897L5.76089 17.9852ZM17.3618 7.48918L12.7217 3.29018L13.6497 2.45062L18.2903 6.64932L17.3618 7.48918ZM20.1515 4.96515L18.754 6.22954L14.1136 2.03084L15.5108 0.767044C15.7674 0.534887 16.1831 0.534887 16.4391 0.76645L20.1515 4.12529C20.4077 4.35745 20.4074 4.733 20.1515 4.96515Z"fill=white></path></g><defs><clipPath id=clip0_19_710><rect width=21 height=19 fill=white>');const Yf=()=>Gf();var Zf=w('<svg><path d="M8 33.6154C8 34.7783 7.57857 35.8935 6.82843 36.7158C6.07828 37.5381 5.06087 38 4 38C2.93913 38 1.92172 37.5381 1.17157 36.7158C0.421427 35.8935 0 34.7783 0 33.6154C0 32.4525 0.421427 31.3373 1.17157 30.515C1.92172 29.6927 2.93913 29.2308 4 29.2308C5.06087 29.2308 6.07828 29.6927 6.82843 30.515C7.57857 31.3373 8 32.4525 8 33.6154ZM8 19C8 20.1629 7.57857 21.2781 6.82843 22.1004C6.07828 22.9227 5.06087 23.3846 4 23.3846C2.93913 23.3846 1.92172 22.9227 1.17157 22.1004C0.421427 21.2781 0 20.1629 0 19C0 17.8371 0.421427 16.7219 1.17157 15.8996C1.92172 15.0773 2.93913 14.6154 4 14.6154C5.06087 14.6154 6.07828 15.0773 6.82843 15.8996C7.57857 16.7219 8 17.8371 8 19ZM8 4.38462C8 5.54749 7.57857 6.66273 6.82843 7.48501C6.07828 8.30728 5.06087 8.76923 4 8.76923C2.93913 8.76923 1.92172 8.30728 1.17157 7.48501C0.421427 6.66273 0 5.54749 0 4.38462C0 3.22174 0.421427 2.1065 1.17157 1.28422C1.92172 0.461949 2.93913 0 4 0C5.06087 0 6.07828 0.461949 6.82843 1.28422C7.57857 2.1065 8 3.22174 8 4.38462Z"fill=black>');const Xf=e=>(()=>{var t=Zf();return vt(t,ct(e,{width:"8",height:"38",viewBox:"0 0 8 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),!0,!0),t})(),Qf="_settingContainer_1pcjr_1",eg="_settingTabs_1pcjr_7",tg="_settingBody_1pcjr_29",ng="_active_1pcjr_39",Ir={settingContainer:Qf,settingTabs:eg,settingBody:tg,active:ng};var rg=w("<div><h3>General</h3>"),sg=w("<option value=dark>Dark"),ig=w("<option value=light>Light"),ag=w("<div><h3>Theme</h3><label for=themeChange>Change Theme "),lg=w("<div><h3>Account</h3>"),og=w("<div><div><ul></ul></div><div><div>"),cg=w("<li>");const ug=e=>{const[t,n]=L(["General","Theme","Account"]),[r,s]=L("Theme");return(()=>{var i=og(),a=i.firstChild,l=a.firstChild,o=a.nextSibling,u=o.firstChild;return g(l,h(K,{get each(){return t()},children:c=>(()=>{var f=cg();return f.$$click=d=>s(c),g(f,c),D(()=>B(f,r()===c?Ir.active:"")),f})()})),g(o,h(sr,{get children(){return[h(ot,{get when(){return r()==="General"},get children(){return rg()}}),h(ot,{get when(){return r()==="Theme"},get children(){var c=ag(),f=c.firstChild;return f.nextSibling,g(c,h(xe,{name:"themeChange",onChange:d=>e.setDefaultUserSettings(m=>(m.theme=d.target.value,rr(m))),get children(){return[sg(),ig()]}}),null),c}}),h(ot,{get when(){return r()==="Account"},get children(){return lg()}})]}}),u),g(u,h(de,{onClick:c=>Ad(e.defaultUserSettings()),children:"Save Settings"})),D(c=>{var f=Ir.settingContainer,d=Ir.settingTabs,m=Ir.settingBody;return f!==c.e&&B(i,c.e=f),d!==c.t&&B(a,c.t=d),m!==c.a&&B(o,c.a=m),c},{e:void 0,t:void 0,a:void 0}),i})()};dt(["click"]);var hg=w("<span><div><h1>Navigation</h1><span></span></div><div class=theLine>"),dg=w("<ul class=sideBody>"),fg=w("<div class=sidebar><div class=sideHead><h2></h2><span></span></div><div class=theLine>"),gg=w("<span>"),mg=w("<li><h3>");const vg=e=>{const[{userStyle:t,defaultShowList:n,setDefaultShowList:r,defaultIsMobile:s,setDefaultIsMobile:i,defaultUserSettings:a,setDefaultUserSettings:l},o]=Yt(e,["userStyle","defaultShowList","setDefaultShowList","defaultIsMobile","setDefaultIsMobile","defaultUserSettings","setDefaultUserSettings"]),[u,c]=L(!1),f=Mn(),[d,m]=L([{Name:"Characters",Link:"/characters",isOpen:!1,children:[{Name:"View",Link:"/characters/view",isOpen:!1},{Name:"Create",Link:"/characters/create",isOpen:!1}]},{Name:"Info",Link:"/info",isOpen:!1,children:[{Name:"Spells",Link:"/info/spells",isOpen:!1},{Name:"Feats",Link:"/info/feats",isOpen:!1},{Name:"Classes",Link:"/info/classes",isOpen:!1},{Name:"Backgrounds",Link:"/info/backgrounds",isOpen:!1},{Name:"Items",Link:"/info/items",isOpen:!1},{Name:"Races",Link:"/info/races",isOpen:!1}]},{Name:"Homebrew",Link:"/homebrew",isOpen:!1,children:[{Name:"Spells",Link:"/homebrew/view?name=spells",isOpen:!1},{Name:"Feats",Link:"/homebrew/view?name=feats",isOpen:!1},{Name:"Classes",Link:"/homebrew/view?name=classes",isOpen:!1},{Name:"Subclasses",Link:"/homebrew/view?name=subclasses",isOpen:!1},{Name:"Backgrounds",Link:"/homebrew/view?name=backgrounds",isOpen:!1},{Name:"Items",Link:"/homebrew/view?name=items",isOpen:!1},{Name:"Races",Link:"/homebrew/view?name=races",isOpen:!1}]}].sort((p,y)=>p.Name>y.Name?1:-1)),_=p=>p.replace("view","create").replace("?name=","/"),v=()=>[{name:"Login",action:()=>{console.log("Login")},condition:()=>!0},{name:"Register",action:()=>{console.log("Register")},condition:()=>!0},{name:"Logout",action:()=>{console.log("Logout")},condition:()=>!0},{name:"Profile",action:()=>{console.log("Profile")},condition:()=>!0}];return(()=>{var p=hg(),y=p.firstChild,b=y.firstChild,$=b.nextSibling;return y.nextSibling,g($,h(de,{get class(){return t().hover},get children(){return[h(Wf,{onClick:k=>c(x=>!x)}),h(H,{get when(){return u()},get children(){return h(sa,{title:"Settings",get width(){return f.isMobile()?"90vw":"45vw"},get height(){return f.isMobile()?"90vh":"60vh"},backgroundClick:[u,c],get children(){return h(ug,{userStyle:t,defaultUserSettings:a,setDefaultUserSettings:l})}})}})]}}),null),g($,h(de,{get class(){return`${t().hover}`},enableBackgroundClick:!0,get menuItems(){return v()},get overrideX(){return s()?"42vw":"93vw"},get children(){return h(Xf,{})}}),null),g(p,h(K,{get each(){return d()},children:k=>(()=>{var x=fg(),I=x.firstChild,S=I.firstChild,U=S.nextSibling;return I.nextSibling,g(S,h(rn,{onClick:()=>r(C=>!C),get href(){return k.Link},get children(){return k.Name}})),U.$$click=()=>m(C=>(k.isOpen=!k.isOpen,rr([...C.filter(A=>A.Name!==k.Name),k].sort((A,P)=>A.Name>P.Name?1:-1)))),g(U,(()=>{var C=F(()=>!!k.isOpen);return()=>C()?h(Go,{}):h(Yo,{})})()),g(x,h(H,{get when(){return k.isOpen},get children(){var C=dg();return g(C,h(K,{get each(){return k.children},children:A=>(()=>{var P=mg(),O=P.firstChild;return g(O,h(rn,{onClick:()=>r(M=>!M),get href(){return A.Link},get children(){return A.Name}})),g(P,h(H,{get when(){return A.Link.includes("homebrew")},get children(){var M=gg();return g(M,h(rn,{onClick:()=>r(T=>!T),get href(){return _(A.Link)},get children(){return h(Yf,{})}}),null),g(M,h(rn,{onClick:()=>r(T=>!T),get href(){return A.Link},get children(){return h(zf,{})}}),null),M}}),null),P})()})),C}}),null),D(()=>B(U,`${t().hover}`)),x})()}),null),D(k=>{var x=`${t().primary} ${n()?"navOpen":"navClosed"}`,I=`${t().accent} topper`;return x!==k.e&&B(p,k.e=x),I!==k.t&&B(y,k.t=I),k},{e:void 0,t:void 0}),p})()};dt(["click"]);var pg=w("<div><div class=body><span>");const bg={isMobile:L(xn())[0],showList:L(!1),useStyle:pe},Re=Ri(bg),yg=e=>{const[t,n]=Ie(),r=F(()=>pe(t().theme)),[s,i]=L(!xn()),[a,l]=L(xn());D(()=>{s(),l(xn())});const o=()=>i(window.matchMedia("only screen and (max-width: 768px)").matches);l(xn()),window.addEventListener("resize",o),D(()=>{const c=!!(xn()||window.innerWidth<=768);i(!c)});const{isMobile:u}=Mn();return h(Re.Provider,{value:{isMobile:a,showList:[s,i],useStyle:pe},get children(){var c=pg(),f=c.firstChild,d=f.firstChild;return c.style.setProperty("height","100vh"),g(c,h(ef,{get isMobile(){return u()},style:"margin-bottom: 15px;",list:[s,i]}),f),g(d,()=>e.children),g(f,h(H,{get when(){return s()},get children(){return h(vg,{userStyle:r,defaultShowList:s,setDefaultShowList:i,defaultIsMobile:a,setDefaultIsMobile:l,defaultUserSettings:t,setDefaultUserSettings:n})}}),null),D(m=>{var _=r().body,v=`${s()?"openFirst":"closeFirst"}`;return _!==m.e&&B(c,m.e=_),v!==m.t&&B(d,m.t=v),m},{e:void 0,t:void 0}),c}})},_g={body:Mt.body,primary:Mt.primary,accent:Mt.accent,tertiary:Mt.tertiary,warn:Mt.warn,hover:Mt.hover,popup:Mt.popup,table:Mt.table},il={body:jt.body,primary:jt.primary,accent:jt.accent,tertiary:jt.tertiary,warn:jt.warn,hover:jt.hover,popup:jt.popup,table:jt.table};function pe(e){const[t,n]=Ie();switch(e??t().theme){case"light":return document.body.style.backgroundColor="#fff",_g;case"dark":return document.body.style.backgroundColor="#000",il;default:return il}}function wg(){const[e,t]=Ie();return Te(Re),F(()=>pe(e().theme))}const $g="_menuButtons_1ckw1_1",Cg="_menuButton_1ckw1_1",Sg="_customButtonStyle_1ckw1_24",xg="_transparent_1ckw1_34",Br={menuButtons:$g,menuButton:Cg,customButtonStyle:Sg,transparent:xg};var kg=w("<button>"),Pg=w("<div><ul>"),Lg=w("<li><button>");const de=e=>{const[t,n]=L({show:!1,lastX:0,lastY:0}),r=F(()=>!!e.menuItems),s=F(()=>e.menuItems?.filter(f=>f.condition?f.condition():!0)??[]);Mn();const[i,a]=Ie(),l=F(()=>pe(i().theme));let o;const u=F(()=>({position:"absolute",top:e.overrideY??`${t().lastY}px`,left:e.overrideX??`${t().lastX>50*.9?t().lastX-+(o?o.width:"0"):t().lastX}px`,display:`${t().show?"block":"none"}`})),c=()=>Jo(o,()=>n({show:!1,lastX:0,lastY:0}));return e.enableBackgroundClick&&document.body.addEventListener("click",c),hn(()=>{document.body.removeEventListener("click",c)}),[(()=>{var f=kg();return rs(d=>d,f),vt(f,ct({get onClick(){return e.onClick?e.onClick:d=>n(m=>({show:!m.show,lastX:d.clientX,lastY:d.clientY}))}},e,{get class(){return`${l()?.accent} ${l()?.hover} ${Br.customButtonStyle} ${e.transparent?Br.transparent:""} ${e.class??""} `}}),!1,!0),g(f,()=>e.children),f})(),h(Ll,{get mount(){return document.getElementById("root")},get children(){return h(H,{get when(){return F(()=>!!t().show)()&&r()},get children(){var f=Pg(),d=f.firstChild;return rs(m=>o=m,f),g(d,h(K,{get each(){return e.menuItems??[]},children:m=>h(H,{get when(){return F(()=>!!((!m.condition||m.condition())&&t()))()&&r()},get children(){var _=Lg(),v=_.firstChild;return v.addEventListener("click",m.action),g(v,()=>m.name),D(p=>{var y=`${100/s().length}%`,b=`${l().hover}`,$=`${l()?.accent} ${Br.menuButton}`;return y!==p.e&&((p.e=y)!=null?_.style.setProperty("height",y):_.style.removeProperty("height")),b!==p.t&&B(_,p.t=b),$!==p.a&&B(v,p.a=$),p},{e:void 0,t:void 0,a:void 0}),_}})})),D(m=>{var _=`${l()?.popup} ${l()?.primary} ${e.menuStyle??""}`,v=u(),p=`${Br.menuButtons}`;return _!==m.e&&B(f,m.e=_),m.t=Mi(f,v,m.t),p!==m.a&&B(d,m.a=p),m},{e:void 0,t:void 0,a:void 0}),f}})}})]};var Ag=w("<div>"),Eg=w("<div><div><span>");const un=e=>{const[t,n]=L(!!e.startOpen),[r,s]=Ie();Te(Re);const i=F(()=>pe(r().theme));return(()=>{var a=Eg(),l=a.firstChild,o=l.firstChild;return vt(a,ct({get class(){return`${Fs.totalPanel} ${e.styles}`}},e),!1,!0),g(o,()=>e.children[0]),g(l,h(de,{onClick:()=>{n(u=>!u),e.extraLogic&&e.extraLogic()},get class(){return`${i()?.hover}`},get children(){return[h(H,{get when(){return!t()},get children(){return h(Yo,{})}}),h(H,{get when(){return t()},get children(){return h(Go,{})}})]}}),null),g(a,h(H,{get when(){return t()},get children(){var u=Ag();return g(u,()=>e.children[1]),D(()=>B(u,`${i()?.accent} ${Fs.body}`)),u}}),null),D(()=>B(l,`${i()?.accent} ${Fs.header}`)),a})()},Og="_areaStyle_1cy2j_1",Tg="_transparent_1cy2j_10",Us={areaStyle:Og,transparent:Tg};var Ig=w("<span>"),Bg=w("<textarea>");const al=e=>{const[t,n]=Yt(e,["text","setText","class","tooltip","transparent","picToTextEnabled"]);function r(){s.style.height="auto",s.style.height=s.scrollHeight+"px",s.setAttribute("style","height:"+s.scrollHeight+"px;overflow-y:hidden;")}Pc(()=>{s&&r()});let s;return[h(H,{get when(){return t.picToTextEnabled},get children(){var i=Ig();return i.style.setProperty("width","inherit"),i.style.setProperty("font-size","1em"),g(i,h(de,{children:"PiC"})),D(()=>B(i,`${t.transparent?Us.transparent:""}`)),i}}),(()=>{var i=Bg(),a=s;return typeof a=="function"?rs(a,i):s=i,vt(i,ct(n,{get class(){return`${Us.areaStyle} ${t.class??""} ${t.transparent?Us.transparent:""}`},get value(){return t.text()},onInput:l=>{t.setText(l.currentTarget.value),r()},get title(){return t.tooltip}}),!1,!1),i})()]};var Rg=w("<div>Welcome to my app. This is a work in progress."),Ng=w("<div>"),Dg=w("<div><h1>Home</h1><div></div><div>");const jg=()=>{const[e,t]=Ie();Mn();const n=F(()=>pe(e().theme));na(),ra(),Fo(),Ko(),qo(),Uo();const[r,s]=L(`This 
is 
a test`),[i,a]=L("It'll be great eventually.");return(()=>{var l=Dg(),o=l.firstChild,u=o.nextSibling,c=u.nextSibling;return u.style.setProperty("width","100%"),g(u,h(al,{readOnly:!1,transparent:!1,tooltip:"Testing",text:r,setText:s})),g(c,h(un,{get children(){return[Rg(),(()=>{var f=Ng();return f.style.setProperty("width","100%"),f.style.setProperty("padding","15px"),g(f,h(al,{readOnly:!0,transparent:!0,tooltip:"Testing",text:i,setText:a})),f})()]}})),g(l,h(Cd,{}),null),D(()=>B(l,`${n()?.primary} ${dd.AppBody}`)),l})()};var Mg=w("<div>Element 1"),Fg=w("<div>Element 2"),Kg=w("<div>Element 3"),Ug=w("<div>Element 4"),qg=w("<div><h1>Homebrew");const Hg=()=>{const t=Te(Re)?.useStyle(),n=[{name:"Element A",element:Mg()},{name:"Element 2",element:Fg()},{name:"Element fred",element:Kg()},{name:"Elem fff",element:Ug()}];return(()=>{var r=qg();return r.firstChild,g(r,h(vr,{elements:n}),null),D(()=>B(r,`${t?.accent}`)),r})()},Vg="_sidebar_1142h_1",zg="_body_1142h_33",Jg="_bodyMenu_1142h_57",ll={sidebar:Vg,body:zg,bodyMenu:Jg};var Wg=w("<div><h1>Create</h1><div>"),Gg=w("<a><div><p>"),Yg=w("<div>");const Zg=()=>{const t=Te(Re)?.useStyle(),n=[{name:"Classes"},{name:"Races"},{name:"Backgrounds"},{name:"Feats"},{name:"Spells"},{name:"Items"}],[r,s]=L(n);return(()=>{var i=Wg(),a=i.firstChild,l=a.nextSibling;return g(l,h(K,{get each(){return r()},children:(o,u)=>[(()=>{var c=Gg(),f=c.firstChild,d=f.firstChild;return g(d,()=>o.name),D(m=>{var _=`${t?.primary}`,v=`/homebrew/create/${o.name.toLowerCase()}`,p=`${t?.hover}`;return _!==m.e&&B(c,m.e=_),v!==m.t&&Ye(c,"href",m.t=v),p!==m.a&&B(f,m.a=p),m},{e:void 0,t:void 0,a:void 0}),c})(),h(H,{get when(){return u()===2},get children(){var c=Yg();return c.style.setProperty("height","0"),c.style.setProperty("flex-basis","100%"),c}})]})),D(o=>{var u=`${t?.primary} ${ll.body}`,c=`${ll.bodyMenu} `;return u!==o.e&&B(i,o.e=u),c!==o.t&&B(l,o.t=c),o},{e:void 0,t:void 0}),i})()},Xg="_body_kewl4_1",Qg={body:Xg};function Ii(e){return e.replace(/[_-]/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}var em=w("<td>Options"),tm=w("<table><thead><tr></tr></thead><tbody>"),nm=w("<th>"),rm=w('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path d="M0 0h24v24H0z"fill=none></path><path d="M12 6a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0 6a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0 6a2 2 0 1 1 0 4 2 2 0 0 1 0-4z">'),sm=w("<tr>"),im=w("<td>");const tn=e=>{const[t,n]=L(e.data),[r,s]=L(e.data),i=F(()=>r());L([]);const a=F(()=>e.button?i().map(l=>e.button.generateMenuButtons(l)):[]);return[(()=>{var l=tm(),o=l.firstChild,u=o.firstChild,c=o.nextSibling;return g(u,h(K,{get each(){return e.keys??[]},children:f=>(()=>{var d=nm();return g(d,()=>Ii(f.toString())),d})()}),null),g(u,h(H,{get when(){return e.button},get children(){return em()}}),null),g(c,h(K,{get each(){return i()},children:(f,d)=>(()=>{var m=sm();return g(m,h(K,{get each(){return e.keys},children:_=>(()=>{var v=im();return g(v,()=>`${f[_]}`),v})()}),null),g(m,h(H,{get when(){return e.button},get children(){return h(de,{get enableBackgroundClick(){return e.button?.backgroundClick},get overrideX(){return e.button?.overideX},get overrideY(){return e.button?.overideY},get menuItems(){return a()[d()]},get children(){return rm()}})}}),null),m})()})),l})(),h(H,{get when(){return e.paginator},get children(){return h(_s,{setPaginatedItems:s,items:t,get itemsPerPage(){return e.paginator}})}})]};var am=w("<div><h1>View</h1><div>");const ol=()=>{Mn();const[e,t]=Ie(),n=Rl(),r=F(()=>pe(e().theme)),s=F(()=>[{name:"Spells",element:h(tn,{get data(){return lt.spells()},keys:["name","level"],button:{backgroundClick:!0,generateMenuButtons:c=>[{name:"Edit",condition:()=>!0,action:()=>{n(`/homebrew/create/spells?name=${c.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",c)}}]}})},{name:"Feats",element:h(tn,{get data(){return lt.feats()},keys:["name"],button:{backgroundClick:!0,generateMenuButtons:c=>[{name:"Edit",condition:()=>!0,action:()=>{n(`/homebrew/create/feats?name=${c.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",c)}}]}})},{name:"Classes",element:h(tn,{get data(){return lt.classes()},keys:["name","hitDie"],paginator:[5,10,25,50,100],button:{backgroundClick:!0,generateMenuButtons:c=>[{name:"Edit",condition:()=>!0,action:()=>{n(`/homebrew/create/classes?name=${c.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",c)}}]}})},{name:"Subclasses",element:h(tn,{get data(){return lt.classes().flatMap(c=>c.subclasses)},keys:["name","class"],paginator:[5,10,25,50,100],button:{backgroundClick:!0,generateMenuButtons:c=>[{name:"Edit",condition:()=>!0,action:()=>{n(`/homebrew/create/subclasses?name=${c.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",c)}}]}})},{name:"Items",element:h(tn,{get data(){return lt.items()},keys:["name"],button:{backgroundClick:!0,generateMenuButtons:c=>[{name:"Edit",condition:()=>!0,action:()=>{n(`/homebrew/create/items?name=${c.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",c)}}]}})},{name:"Backgrounds",element:h(tn,{get data(){return lt.backgrounds()},keys:["name"],button:{backgroundClick:!0,generateMenuButtons:c=>[{name:"Edit",condition:()=>!0,action:()=>{n(`/homebrew/create/backgrounds?name=${c.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",c)}}]}})},{name:"Races",element:h(tn,{get data(){return lt.races()},keys:["name"],button:{backgroundClick:!0,generateMenuButtons:c=>[{name:"Edit",condition:()=>!0,action:()=>{n(`/homebrew/create/races?name=${c.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",c)}}]}})}]),[i,a]=Zt();i.name||a({name:s()[0].name});const l=F(()=>s().findIndex(c=>c.name.toLowerCase()===i.name?.toLowerCase()));D(()=>{console.log("startingIndex",l()),console.log("searchParam",i.name)});const[o,u]=L(l());return D(()=>{a({name:s()[o()].name??"spells"})}),(()=>{var c=am(),f=c.firstChild,d=f.nextSibling;return d.style.setProperty("text-align","left"),g(d,h(vr,{get startingIndex(){return l()},currentIndex:[o,u],get elements(){return s()}})),D(()=>B(c,`${r().primary} ${Qg.body}`)),c})()},lm="_body_z2l6n_1",om="_textArea_z2l6n_20",cm="_hasCasting_z2l6n_28",um="_hasCastingMain_z2l6n_44",hm="_subclassLevels_z2l6n_64",dm="_itemStuff_z2l6n_70",fm="_otherStuff_z2l6n_90",gm="_buttons_z2l6n_101",mm="_checkbox_z2l6n_111",vm="_statProf_z2l6n_116",pm="_toolProf_z2l6n_129",bm="_Tools_z2l6n_141",ym="_Columns_z2l6n_146",_m="_Column_z2l6n_146",Be={body:lm,textArea:om,hasCasting:cm,hasCastingMain:um,subclassLevels:hm,itemStuff:dm,otherStuff:fm,buttons:gm,checkbox:mm,statProf:vm,toolProf:pm,Tools:bm,Columns:ym,Column:_m},ia=()=>{const e=na();return F(()=>[...e(),...lt.classes()])},wm=()=>{const e=qo();return F(()=>[...e()])};var $m=w("<div><div><h4>Spells Slots: </h4></div><div>"),Cm=w("<div>No Features Found!"),Sm=w("<div><h3>Level </h3><h3>Info</h3><div><div>Proficency Bonus: </div></div><div></div><h3>Features</h3><h3>New Class Specific <i>(like barbarian rages)</i></h3><div><br><br>"),xm=w("<label>"),km=w("<span>"),Pm=w("<div><div><h4>Name</h4></div><div><h4>Value</h4><textarea></textarea></div><div>"),Lm=w("<div><h4>");const Am=e=>{const[{setClassLevels:t,level:n,features:r,setFeatures:s,name:i,hasSpellCasting:a,classLevels:l,casterType:o,setCasterType:u}]=Yt(e,["level","features","setFeatures","name","hasSpellCasting","classLevels","setClassLevels","casterType","setCasterType"]),c=p=>{const y=JSON.parse(JSON.stringify(p));return typeof y=="string"?y:Array.isArray(y)?y.join(`
`):"-unknown-"},[f,d]=L(""),[m,_]=L(""),v=p=>l()[n-1]?.spellcasting?p===0?`${l()[n-1]?.spellcasting?.cantrips_known}`:l()[n-1]?.spellcasting?.[`spell_slots_level_${p}`]?`${l()[n-1]?.spellcasting?.[`spell_slots_level_${p}`]}`:"":"";return(()=>{var p=Sm(),y=p.firstChild;y.firstChild;var b=y.nextSibling,$=b.nextSibling,k=$.firstChild;k.firstChild;var x=$.nextSibling,I=x.nextSibling,S=I.nextSibling,U=S.nextSibling,C=U.firstChild,A=C.nextSibling;return g(y,n,null),g(k,()=>Math.ceil(n/4)+1,null),g(p,h(H,{get when(){return a()},get children(){var P=$m(),O=P.firstChild;O.firstChild;var M=O.nextSibling;return g(O,h(K,{each:[0,1,2,3,4,5,6,7,8,9],children:T=>[(()=>{var q=xm();return Ye(q,"for",`spell_slots_level_${T}`),g(q,T>0?`Level ${T} `:"Cantrips "),q})(),(()=>{var q=km();return g(q,h(ce,{get value(){return v(T)},type:"number",name:`spell_slots_level_${T}`,onChange:N=>{t(R=>{switch(T){case 0:R[n-1].spellcasting={...R[n-1]?.spellcasting,cantrips_known:+N.currentTarget.value};break;case 1:R[n-1].spellcasting={...R[n-1]?.spellcasting,spell_slots_level_1:+N.currentTarget.value};break;case 2:R[n-1].spellcasting={...R[n-1]?.spellcasting,spell_slots_level_2:+N.currentTarget.value};break;case 3:R[n-1].spellcasting={...R[n-1]?.spellcasting,spell_slots_level_3:+N.currentTarget.value};break;case 4:R[n-1].spellcasting={...R[n-1]?.spellcasting,spell_slots_level_4:+N.currentTarget.value};break;case 5:R[n-1].spellcasting={...R[n-1]?.spellcasting,spell_slots_level_5:+N.currentTarget.value};break;case 6:R[n-1].spellcasting={...R[n-1]?.spellcasting,spell_slots_level_6:+N.currentTarget.value};break;case 7:R[n-1].spellcasting={...R[n-1]?.spellcasting,spell_slots_level_7:+N.currentTarget.value};break;case 8:R[n-1].spellcasting={...R[n-1]?.spellcasting,spell_slots_level_8:+N.currentTarget.value};break;case 9:R[n-1].spellcasting={...R[n-1]?.spellcasting,spell_slots_level_9:+N.currentTarget.value};break}return JSON.parse(JSON.stringify(R))})}})),q})()]}),null),g(M,h(H,{get when(){return!e.useCastingCalc()},get children(){return h(ce,{placeholder:"Spells Known",type:"number",onChange:T=>{t(q=>(q[n-1].spellcasting={...q[n-1]?.spellcasting,spells_known:+T.currentTarget.value},JSON.parse(JSON.stringify(q))))}})}}),null),g(M,h(xe,{get value(){return o()},onChange:T=>{u(T.currentTarget.value)},disableUnselected:!0,get children(){return[h(G,{value:"",children:"None"}),h(G,{value:"full",children:"Full Caster"}),h(G,{value:"halfUp",children:"Half Caster Round Up"}),h(G,{value:"halfDown",children:"Half Caster Round Down"}),h(G,{value:"thirdUp",children:"Third Caster Round Up"}),h(G,{value:"thirdDown",children:"Third Caster Round Down"})]}}),null),D(()=>B(O,`${Be.hasCasting}`)),P}}),x),g(x,h(de,{onClick:P=>{s(O=>(O.push({name:`New Feature${O.filter(M=>M.info.level===n).length+1}`,value:"new feature description",info:{className:i(),subclassName:"",level:n,type:"Class Feature",other:""}}),JSON.parse(JSON.stringify(O))))},children:"Add New Feature"}),null),g(x,h(de,{children:"Add Existing Feature"}),null),g(p,h(K,{get each(){return r().filter(P=>P?.info?.level===n)},children:(P,O)=>(()=>{var M=Pm(),T=M.firstChild;T.firstChild;var q=T.nextSibling,N=q.firstChild,R=N.nextSibling,Z=q.nextSibling;return g(T,h(ce,{get value(){return P.name},onChange:j=>{s(W=>(W[n-1]={name:j.currentTarget.value,value:P.value,info:P.info},JSON.parse(JSON.stringify(W))))}}),null),R.addEventListener("change",j=>{s(W=>(W[n-1]={name:P.name,value:j.currentTarget.value,info:P.info},JSON.parse(JSON.stringify(W))))}),g(Z,h(de,{onClick:()=>{s(j=>{const W=j.findIndex(re=>re.name===P.name&&re.info.level===n);return j.splice(W,1),JSON.parse(JSON.stringify(j))})},children:"Remove"})),D(()=>B(R,`${Be.textArea}`)),D(()=>R.value=c(P.value)),M})()}),S),g(p,h(H,{get when(){return r().filter(P=>P.info.level===n).length===0},get children(){return Cm()}}),S),g(U,h(ce,{get value(){return f()},onChange:P=>{d(P.currentTarget.value)},placeholder:"Name"}),C),g(U,h(ce,{get value(){return m()},onChange:P=>{_(P.currentTarget.value)},type:"number",placeholder:"Value"}),C),g(U,h(de,{get disabled(){return f().length<1},onClick:P=>{t(O=>(O[n-1].classSpecific[f()]=m(),d(""),_(""),JSON.parse(JSON.stringify(O))))},children:"Add New"}),C),g(U,h(K,{get each(){return Object.keys(l()[n-1].classSpecific)},children:(P,O)=>(()=>{var M=Lm(),T=M.firstChild;return g(T,P),g(M,h(ce,{get class(){return`${l()[n-1].classSpecific[P]?"error ":""}`},value:P,onChange:q=>{t(N=>(N[n-1].classSpecific[q.currentTarget.value]=N[n-1].classSpecific[P],JSON.parse(JSON.stringify(N))))}}),null),g(M,h(ce,{get value(){return l()[n-1].classSpecific[P]},onChange:q=>{t(N=>(N[n-1].classSpecific[P]=q.currentTarget.value,JSON.parse(JSON.stringify(N))))}}),null),g(M,h(de,{onClick:q=>{t(N=>(delete N[n-1].classSpecific[P],JSON.parse(JSON.stringify(N))))},children:"Remove"}),null),M})()}),A),D(P=>{var O=`${Be.otherStuff}`,M=`${Be.buttons}`;return O!==P.e&&B($,P.e=O),M!==P.t&&B(x,P.t=M),P},{e:void 0,t:void 0}),p})()},Em="_body_bpryr_1",Om="_textArea_bpryr_20",Tm="_checkBox_bpryr_28",Im="_castingRowOne_bpryr_33",Bm="_chips_bpryr_43",_t={body:Em,textArea:Om,checkBox:Tm,castingRowOne:Im,chips:Bm};var Rr=w("<div>"),Rm=w('<div><textarea placeholder="Enter a Feature description..">'),Nm=w("<div><span><label for=casterType>Caster Type:</label></span><span><label for=castingStat>Casting Stat:"),Dm=w("<div><label for=spellsKnown>Spells Known: </label><span><label for=halfCasterRoundUp>Round Up: "),jm=w("<div><h3>Spells Known </h3><div><label for=slotLevel>Class Level: </label></div><div><label for=slotAmount>Slot Amount: "),Mm=w("<div><label for=hasCantrips>Has Cantrips: </label><label for=ritualCasting>Ritual Casting: "),Fm=w("<div><h3>Spells Table</h3><div></div><div>"),Km=w("<div><h3>Spellcasting Info</h3><div></div><div>"),Um=w('<div><h1>subclasses</h1><div><h2>Choose a class</h2></div><div><textarea placeholder="Enter a Subclass description.."></textarea></div><div><h2>Level up features</h2></div><div><h2>Spellcasting</h2><div><div><label for=hasCasting>Has Spellcasting: </label></div><div>'),qm=w("<div><div><label>Title: </label></div><div><label>Description: </label><textarea></textarea></div><div>"),kt=(e=>(e[e.None=0]="None",e[e.Level=1]="Level",e[e.HalfLevel=2]="HalfLevel",e[e.StatModPlusLevel=3]="StatModPlusLevel",e[e.StatModPlusHalfLevel=4]="StatModPlusHalfLevel",e[e.StatModPlusThirdLevel=5]="StatModPlusThirdLevel",e[e.Other=6]="Other",e))(kt||{});const Hm=()=>{const[e,t]=Zt();Te(Re);const[n,r]=Ie(),s=F(()=>pe(n().theme)),i=na(),a=()=>i().map(ne=>ne.name),[l,o]=L(1),u=ra(),[c,f]=L(!1),[d,m]=L(!1),[_,v]=L(0),[p,y]=L(""),[b,$]=L(!1),[k,x]=L(""),[I,S]=L(!1),[U,C]=L({}),[A,P]=L([]),[O,M]=L(1),[T,q]=L(0),[N,R]=L({id:0,name:"",subclassFlavor:"",desc:[],features:[],class:"",spells:[]}),Z=F(()=>{const ne=N().class.toLowerCase(),[X]=i().filter(ve=>ve.name?.toLowerCase()===ne?.toLowerCase());if(X&&X.subclassLevels&&X.subclassLevels.length)return X.subclassLevels.map(ve=>`${ve}`);switch(ne){case"cleric":return["1","2","6","8","17"];case"druid":case"wizard":return["2","6","10","14"];case"barbarian":return["3","6","10","14"];case"monk":return["3","6","11","17"];case"bard":return["3","6","14"];case"sorcerer":case"warlock":return["1","6","14","18"];case"fighter":return["3","7","10","15","18"];case"paladin":return["3","7","15","20"];case"ranger":return["3","7","11","15"];case"rogue":return["3","9","13","17"];case"forgemaster":return["3","7","11","15","20"];default:return[]}}),j=F(()=>{const ne=i().filter(ve=>ve.name.toLowerCase()===N().class.toLowerCase()),X=N();return ne.length===1&&X.name.trim().length>0&&X.subclassFlavor.trim().length>0&&X.desc.length}),W=()=>{R(ne=>{const X={info:{className:ne.class,subclassName:ne.name,level:l(),type:"subclass",other:""},name:"",value:[""]};return{...ne,features:[...ne.features,X]}})},re=ne=>N().features.filter(X=>X.info.level===ne),He=ne=>({name:`Level ${ne}`,element:(()=>{var X=Rr();return g(X,h(K,{get each(){return re(ne)},children:(ve,Ge)=>[(()=>{var Pe=Rr();return g(Pe,h(ce,{placeholder:"Enter a Feature name..",get value(){return ve.name},onChange:Ke=>{R(Ue=>{const Ze=Ue.features.filter(gt=>gt.info.level===ne),ft=Ue.features.filter(gt=>gt.info.level!==ne),tt=Ze[Ge()];return tt.name=Ke.currentTarget.value,Ze.splice(Ge(),1,tt),Ue.features=[...ft,...Ze],rr(Ue)})}})),Pe})(),(()=>{var Pe=Rm(),Ke=Pe.firstChild;return Ke.addEventListener("change",Ue=>{R(Ze=>{const ft=Ze.features.filter(J=>J.info.level===ne),tt=Ze.features.filter(J=>J.info.level!==ne),gt=ft[Ge()];return gt.value=Ue.currentTarget.value.split(`
`),ft.splice(Ge(),1,gt),Ze.features=[...tt,...ft],rr(Ze)})}),D(()=>B(Ke,`${_t.textArea}`)),D(()=>Ke.value=N().features.filter(Ue=>Ue.info.level===ne)[Ge()].value.join(`
`)),Pe})(),(()=>{var Pe=Rr();return g(Pe,h(de,{onClick:Ke=>{R(Ue=>{const Ze=Ue.features.filter(tt=>tt.info.level===ne),ft=Ue.features.filter(tt=>tt.info.level!==ne);return Ze.splice(Ge(),1),Ue.features=[...ft,...Ze],rr(Ue)})},children:"Remove"})),Pe})()]})),X})()}),We=()=>{R({id:0,name:"",subclassFlavor:"",desc:[],features:[],class:"",spells:[]}),o(1),f(!1),m(!1),v(0),y(""),$(!1),x(""),C({})};return D(()=>{c()?R(ne=>{const X={...ne};X.spellcasting={info:X.spellcasting?.info||[],castingLevels:[],name:X.name,spellcastingAbility:k(),casterType:p(),spellsKnownCalc:_(),spellsKnownRoundup:d()};for(let ve=1;ve<=20;ve++)X.spellcasting?.castingLevels.push({level:ve,spellcasting:sl(ve,p(),I())});return X}):R(ne=>{const X={...ne};return delete X.spellcasting,X})}),D(()=>{_()===6&&p().length>0&&R(ne=>{const X={...ne};let ve;if(X.spellcasting&&X.spellcasting.castingLevels){const Ge=A();ve=X.spellcasting.castingLevels.map(Pe=>(Pe.spellcasting=sl(Pe.level,p(),I()),Ge.forEach(Ke=>{Ke.level===Pe.level&&(Pe.spellcasting={...Pe.spellcasting,spells_known:Ke.amount})}),Pe))}else ve=X.spellcasting?.castingLevels||[];return X.spellcasting={info:X.spellcasting?.info||[],castingLevels:ve,name:X.name,spellcastingAbility:k(),casterType:p(),spellsKnownCalc:_(),spellsKnownRoundup:d()},X})}),D(()=>{if(e.name&&e.subclass){if(e.name!==N().class&&e.subclass!==N().name){const[ne]=i().filter(X=>X.name.toLowerCase()===e.name.toLowerCase());if(ne){const[X]=ne.subclasses.filter(ve=>ve.name.toLowerCase()===e.subclass.toLowerCase());R(X)}}}else t({name:N().class,subclass:N().name})}),(()=>{var ne=Um(),X=ne.firstChild,ve=X.nextSibling;ve.firstChild;var Ge=ve.nextSibling,Pe=Ge.firstChild,Ke=Ge.nextSibling;Ke.firstChild;var Ue=Ke.nextSibling,Ze=Ue.firstChild,ft=Ze.nextSibling,tt=ft.firstChild;tt.firstChild;var gt=tt.nextSibling;return g(ve,h(xe,{get value(){return N().class},onChange:J=>{R(ue=>({...ue,class:J.currentTarget.value}))},get children(){return h(K,{get each(){return a()},children:J=>h(G,{value:`${J}`,children:J})})}}),null),g(Ge,h(ce,{placeholder:"Enter a Subclass name..",get value(){return N().name},onChange:J=>R(ue=>({...ue,name:J.currentTarget.value}))}),Pe),g(Ge,h(ce,{placeholder:"Enter a Subclass flavor..",get value(){return N().subclassFlavor},onChange:J=>R(ue=>({...ue,subclassFlavor:J.currentTarget.value}))}),Pe),Pe.addEventListener("change",J=>R(ue=>({...ue,desc:J.currentTarget.value.split(`
`)}))),g(Ke,h(xe,{get value(){return l()},onChange:J=>{const ue=parseInt(J.currentTarget.value);o(ue)},get children(){return h(K,{get each(){return Z()},children:J=>h(G,{value:`${J}`,children:J})})}}),null),g(Ke,h(de,{onClick:W,children:"Add Feature"}),null),g(Ke,h(vr,{get elements(){return Z().map(J=>He(+J))}}),null),g(tt,h(ce,{get class(){return`${_t.checkBox}`},get checked(){return c()},onChange:J=>f(J.currentTarget.checked),type:"checkbox",name:"hasCasting"}),null),g(ft,h(H,{get when(){return c()},get children(){return[(()=>{var J=Nm(),ue=J.firstChild;ue.firstChild;var ye=ue.nextSibling;return ye.firstChild,g(ue,h(xe,{name:"casterType",get value(){return p()},onChange:$e=>y($e.currentTarget.value),get children(){return[h(G,{value:"half",children:"Half Caster"}),h(G,{value:"third",children:"Third Caster"})]}}),null),g(ye,h(xe,{name:"castingStat",get value(){return k()},onChange:$e=>x($e.currentTarget.value),get children(){return h(K,{each:["Intelligence","Wisdom","Charisma"],children:$e=>h(G,{value:$e,children:$e})})}}),null),D(()=>B(J,`${_t.castingRowOne}`)),J})(),(()=>{var J=Dm(),ue=J.firstChild,ye=ue.nextSibling;return ye.firstChild,g(J,h(xe,{name:"spellsKnown",get value(){return _()},onChange:$e=>v(+$e.currentTarget.value),get children(){return[h(G,{value:"0",children:"None"}),h(G,{value:"1",children:"Level"}),h(G,{value:"2",children:"Half Level"}),h(G,{value:"3",children:"Stat Modifier + Level"}),h(G,{value:"4",children:"Stat Modifier + Half Level"}),h(G,{value:"5",children:"Stat Modifier + Third Level"}),h(G,{value:"6",children:"Other"})]}}),ye),g(ye,h(ce,{get class(){return`${_t.checkBox}`},type:"checkbox",name:"halfCasterRoundUp",get checked(){return d()},onChange:$e=>m($e.currentTarget.checked)}),null),J})(),h(H,{get when(){return _()===6},get children(){return[(()=>{var J=jm(),ue=J.firstChild,ye=ue.nextSibling;ye.firstChild;var $e=ye.nextSibling;return $e.firstChild,g(ye,h(xe,{name:"slotLevel",disableUnselected:!0,onChange:Le=>{M(+Le.currentTarget.value)},get children(){return h(K,{get each(){return Ff(20)},children:Le=>h(G,{value:Le,get children(){return["Level ",Le]}})})}}),null),g($e,h(ce,{name:"slotAmount",type:"number",min:0,onChange:Le=>{q(+Le.currentTarget.value)}}),null),g(J,h(de,{onClick:Le=>{A().map(Ae=>Ae.level).includes(O())||P(Ae=>[...Ae,{level:O(),amount:T()}].sort((pt,Dt)=>+pt.level-+Dt.level))},children:"Add"}),null),J})(),(()=>{var J=Rr();return g(J,h(cn,{get key(){return`Level ${O()}`},get value(){return`${T()}`}}),null),g(J,h(K,{get each(){return A()},children:ue=>h(cn,{get key(){return`Level ${ue.level}`},get value(){return`${ue.amount}`},remove:()=>{P(ye=>ye.filter($e=>$e.level!==ue.level))}})}),null),D(()=>B(J,`${_t.chips}`)),J})()]}}),(()=>{var J=Mm(),ue=J.firstChild,ye=ue.nextSibling;return g(J,h(ce,{get class(){return`${_t.checkBox}`},type:"checkbox",name:"hasCantrips",get checked(){return I()},onChange:$e=>S($e.currentTarget.checked)}),ye),g(J,h(ce,{get class(){return`${_t.checkBox}`},type:"checkbox",name:"ritualCasting",get checked(){return b()},onChange:$e=>$($e.currentTarget.checked)}),null),J})(),(()=>{var J=Fm(),ue=J.firstChild,ye=ue.nextSibling,$e=ye.nextSibling;return g(ye,h(xe,{get value(){return JSON.stringify(U())},onChange:Le=>C(JSON.parse(Le.currentTarget.value)),get children(){return h(K,{get each(){return u()},children:Le=>h(G,{get value(){return JSON.stringify(Le)},get children(){return Le.name}})})}}),null),g(ye,h(de,{onClick:Le=>R(Ae=>({...Ae,spells:[...Ae.spells,U()]})),children:"Add Spell"}),null),g($e,h(K,{get each(){return N().spells},children:Le=>h(cn,{get key(){return Mf(+Le.level)},get value(){return Le.name},remove:()=>{R(Ae=>({...Ae,spells:Ae.spells.filter(pt=>pt.name!==Le.name)}))}})})),J})(),(()=>{var J=Km(),ue=J.firstChild,ye=ue.nextSibling,$e=ye.nextSibling;return g(ye,h(de,{onClick:Le=>{R(Ae=>{const pt=[...Ae.spellcasting?.info||[]];return pt.push({name:"",desc:[]}),{...Ae,spellcasting:{...Ae.spellcasting,info:pt}}})},children:"Add Info"})),g($e,h(K,{get each(){return N().spellcasting?.info||[]},children:(Le,Ae)=>(()=>{var pt=qm(),Dt=pt.firstChild,Fn=Dt.firstChild,bn=Dt.nextSibling,bt=bn.firstChild,St=bt.nextSibling,pr=bn.nextSibling;return g(Dt,h(ce,{get name(){return`nameInput${Ae()}`},get value(){return Le.name},onChange:Ve=>{R(ze=>{const Je=[...ze.spellcasting?.info||[]];return Je[Ae()]={...Je[Ae()],name:Ve.currentTarget.value},{...ze,spellcasting:{...ze.spellcasting,info:Je}}})}}),null),St.addEventListener("change",Ve=>{R(ze=>{const Je=[...ze.spellcasting?.info||[]];return Je[Ae()]={...Je[Ae()],desc:Ve.currentTarget.value.split(`
`)},{...ze,spellcasting:{...ze.spellcasting,info:Je}}})}),g(pr,h(de,{onClick:Ve=>{R(ze=>{const Je=[...ze.spellcasting?.info||[]];return Je.splice(Ae(),1),{...ze,spellcasting:{...ze.spellcasting,info:Je}}})},children:"Remove"})),D(Ve=>{var ze=`nameInput${Ae()}`,Je=`descInput${Ae()}`,br=`${_t.textArea}`,Kn=`descInput${Ae()}`;return ze!==Ve.e&&Ye(Fn,"for",Ve.e=ze),Je!==Ve.t&&Ye(bt,"for",Ve.t=Je),br!==Ve.a&&B(St,Ve.a=br),Kn!==Ve.o&&Ye(St,"name",Ve.o=Kn),Ve},{e:void 0,t:void 0,a:void 0,o:void 0}),D(()=>St.value=Le.desc.join(`
`)),pt})()})),J})()]}}),gt),g(gt,h(H,{get when(){return j()},get children(){return h(de,{onClick:J=>{const ue=i().filter(ye=>ye.name===N().class)[0];ue.subclasses=[...ue.subclasses,N()],lt.updateClass(ue),lt.updateClassesInDB(),We()},children:"Save"})}})),D(J=>{var ue=`${s()?.primary} ${_t.body}`,ye=`${_t.textArea}`;return ue!==J.e&&B(ne,J.e=ue),ye!==J.t&&B(Pe,J.t=ye),J},{e:void 0,t:void 0}),D(()=>Pe.value=N().desc.join(`
`)),ne})()};var Vm=w("<div><div><label for=spellList>Spell List</label></div><div><label for=spellAbility>Spellcasting Ability </label></div><div><label for=levelGained>Gained at Level: </label></div><div><label for=useCastingCalc>Use Casting Calculation"),zm=w("<div><label for=spellsKnownCalc>Spells Known Calculation</label><label for=spellsKnownRoundup>Round Up Spells Known?"),Jm=w("<div>"),Wm=w("<div><h1>Classes</h1><div><div><h3>Name</h3><h3>Hit Die</h3><h3>Stat Proficiency</h3><div><div></div><div></div></div><h3>Armor Proficiency</h3><div></div><h3>Weapon Proficiency</h3><div></div></div><div><h3>Skill Proficiency</h3><div><div><h3><label for=SkillChoice>Choose: </label></h3></div></div><h3>Starting Equipment</h3><div><div><div></div><div></div></div><div><div><div><h4>Choices </h4></div><div></div></div></div></div></div></div><h3>Tool Proficiency</h3><div><h3><label for=ToolChoice>Choose: </label></h3><div><label for=all> All</label></div></div><div><h3>Subclass Levels</h3><div></div></div><div><h4>Spellcasting</h4><label for=HasSpellCasting>Has SpellCasting?</label><h3>Level up Features</h3></div><div>"),cl=w("<div><label>:"),ul=w("<div><label>"),Gm=w("<label> "),Ym=w("<div><div><span>Choose : <!> </span></div><div>"),Zm=w("<label>"),Xm=w("<p>"),Qm=w('<p><textarea placeholder="Enter Section Description...">');const ev=()=>{const[e,t]=Zt(),[n,r]=L(""),[s,i]=L(0);L([]);const[a,l]=L([]),[o,u]=L([]),[c,f]=L(1),[d,m]=L([]),[_,v]=L([]),[p,y]=L([]),[b,$]=L(1),[k,x]=L([]),[I,S]=L(0),[U,C]=L(""),[A,P]=L(1),[O,M]=L(-1),[T,q]=L(1),[N,R]=L(1),[Z,j]=L([]),[W,re]=L(""),[He,We]=L(1),[ne,X]=L(""),[ve,Ge]=L(!1),[Pe,Ke]=L(""),[Ue,Ze]=L(!1),[ft,tt]=L(kt.None),[gt,J]=L(!1);Te(Re);const[ue,ye]=Ie(),$e=F(()=>pe(ue().theme)),[Le,Ae]=L(new Array(20).fill(0).map((ee,se)=>se+1)),pt=["Acrobatics","Animal Handling","Arcana","Athletics","Deception","History","Insight","Intimidation","Investigation","Medicine","Nature","Perception","Performance","Persuasion","Religion","Sleight of Hand","Stealth","Survival"],Dt=wm(),Fn=ia(),bn=F(()=>Dt().filter(ee=>ee.equipmentCategory==="Tools")),[bt,St]=L({class:"",quantity:0,choice1:[],choice2:[],choice3:[],choice4:[]}),[pr,Ve]=L(new Array(20).fill({info:{className:"",subclassName:"",level:0,type:"",other:""},level:0,profBonus:0,features:[],classSpecific:{},spellcasting:{}}).map((ee,se)=>({...ee,info:{...ee.info,level:se+1},level:se+1,profBonus:Math.ceil((se+1)/4)+1}))),[ze,Je]=L(new Array(20).fill({info:{className:n(),subclassName:"",level:0,type:"",other:""},name:"",value:""}).map((ee,se)=>({...ee,info:{...ee.info,level:se+1}}))),[br,Kn]=L([]),aa=F(()=>{switch(A()){case 1:return bt()?.choice1;case 2:return bt()?.choice2;case 3:return bt()?.choice3;case 4:return bt()?.choice4;default:return bt()?.choice1}}),la=F(()=>({name:n(),hitDie:s(),proficiencies:o(),proficiencyChoices:d()?.length?[{choose:c(),type:"Skill",choices:d()}]:[],savingThrows:a(),startingEquipment:bt(),classLevels:pr().map(se=>({...se,info:{...se.info,className:n()},features:ze().filter(De=>De?.info?.level===se?.info?.level)})),features:ze(),subclasses:br(),subclassLevels:k(),spellcasting:ve()?{level:He(),name:ne(),spellcastingAbility:W(),casterType:Pe(),info:Z(),spellsKnownCalc:ft(),spellsKnownRoundup:gt()}:void 0,id:0})),tc=ee=>{const se=bt();let De=[];switch(ee){case 1:De=se.choice1;break;case 2:De=se.choice2;break;case 3:De=se.choice3;break;case 4:De=se.choice4;break}switch(O()>=0?O()>=0&&O()<se.choice1.length&&De[O()].choices.push({item:U(),quantity:T(),desc:[]}):De.push({choose:N(),type:"",choices:[{item:U(),quantity:T(),desc:[]}]}),ee){case 1:se.choice1=De;break;case 2:se.choice2=De;break;case 3:se.choice3=De;break;case 4:se.choice4=De;break}console.log("Adding Item: ",se),St(()=>JSON.parse(JSON.stringify(se))),console.log("Starting Equipment: ",bt())};return D(()=>{if(console.log("Search Param: ",e),e.name){const ee=Fn().find(se=>se.name===e.name);console.log("Found Class: ",ee),ee&&n()!==ee.name&&(r(ee.name),i(ee.hitDie),u(ee.proficiencies),f(ee.proficiencyChoices[0]?.choose??0),m(ee.proficiencyChoices[0]?.choices.map(se=>se.replace("Skill:","").trim())),l(ee.savingThrows),St(ee.startingEquipment?ee.startingEquipment:{class:"",quantity:0,choice1:[],choice2:[],choice3:[],choice4:[]}),Ve(ee.classLevels),!ee.features?.length||ee.classLevels?.length>ee.features?.length?Je(ee.classLevels.sort((se,De)=>se.level-De.level).flatMap(se=>se.features).map((se,De)=>({...se,info:{...se.info,className:ee.name,level:De+1}}))):Je(ee.features),Kn(ee.subclasses),x(ee.subclassLevels),re(ee.spellcasting?.spellcastingAbility||""),We(ee.spellcasting?.level||1),X(ee.classLevels.filter(se=>!!se.spellcasting).length>0?ee.classLevels.filter(se=>!!se.spellcasting)[0].info.className:""),Ge(!!ee.spellcasting||ee.classLevels.map(se=>!!se.spellcasting).includes(!0)),Ke(ee.spellcasting?.casterType||""),Ze(!!ee.spellcasting),tt(ee.spellcasting?.spellsKnownCalc||kt.None),J(!!ee.spellcasting?.spellsKnownRoundup))}}),D(()=>{console.log("Current Class: ",la())}),(()=>{var ee=Wm(),se=ee.firstChild,De=se.nextSibling,Un=De.firstChild,nc=Un.firstChild,oa=nc.nextSibling,ca=oa.nextSibling,ws=ca.nextSibling,ua=ws.firstChild,rc=ua.nextSibling,sc=ws.nextSibling,$s=sc.nextSibling,ic=$s.nextSibling,ha=ic.nextSibling,da=Un.nextSibling,ac=da.firstChild,Cs=ac.nextSibling,Ss=Cs.firstChild,lc=Ss.firstChild,oc=Cs.nextSibling,cc=oc.nextSibling,fa=cc.firstChild,yr=fa.firstChild,ga=yr.nextSibling,uc=fa.nextSibling,hc=uc.firstChild,dc=hc.firstChild,fc=dc.nextSibling,gc=De.nextSibling,xs=gc.nextSibling,ma=xs.firstChild,_r=ma.nextSibling,va=_r.firstChild,mc=va.firstChild,wr=xs.nextSibling,vc=wr.firstChild,$r=vc.nextSibling,qn=wr.nextSibling,pc=qn.firstChild,bc=pc.nextSibling,pa=bc.nextSibling,yc=qn.nextSibling;return g(Un,h(ce,{get value(){return n()},placeholder:"What is the class name?",onInput:E=>r(E.currentTarget.value)}),oa),g(Un,h(xe,{get value(){return s()},transparent:!0,onChange:E=>i(+E.currentTarget.value),get children(){return[h(G,{value:4,children:"d4"}),h(G,{value:6,children:"d6"}),h(G,{value:8,children:"d8"}),h(G,{value:10,children:"d10"}),h(G,{value:12,children:"d12"})]}}),ca),g(ua,h(K,{each:["STR","DEX","CON"],children:E=>(()=>{var V=cl(),le=V.firstChild,ie=le.firstChild;return Ye(le,"for",E),g(le,E,ie),g(V,h(ce,{type:"checkbox",get checked(){return a().includes(E)},onChange:he=>he.currentTarget.checked?l(ae=>[...ae,E]):l(ae=>ae.filter(nt=>nt!==E))}),null),V})()})),g(rc,h(K,{each:["INT","WIS","CHA"],children:E=>(()=>{var V=cl(),le=V.firstChild,ie=le.firstChild;return Ye(le,"for",E),g(le,E,ie),g(V,h(ce,{type:"checkbox",get checked(){return a().includes(E)},onChange:he=>he.currentTarget.checked?l(ae=>[...ae,E]):l(ae=>ae.filter(nt=>nt!==E))}),null),V})()})),g($s,h(K,{each:["Light Armor","Medium Armor","Shields","Heavy Armor"],children:E=>(()=>{var V=ul(),le=V.firstChild;return Ye(le,"for",E),g(le,E),g(V,h(ce,{type:"checkbox",get checked(){return o().map(ie=>ie.toLowerCase()).includes(E.toLowerCase())},onChange:ie=>ie.currentTarget.checked?u(he=>JSON.parse(JSON.stringify([...he,E]))):u(he=>(he=he.filter(ae=>ae!==E),JSON.parse(JSON.stringify(he))))}),null),V})()})),g(ha,h(K,{each:["Simple Weapons","Martial Weapons"],children:E=>(()=>{var V=ul(),le=V.firstChild;return Ye(le,"for",E),g(le,E),g(V,h(ce,{type:"checkbox",get checked(){return o().map(ie=>ie.toLowerCase()).includes(E.toLowerCase())},onChange:ie=>ie.currentTarget.checked?u(he=>JSON.parse(JSON.stringify([...he,E]))):u(he=>JSON.parse(JSON.stringify(he.filter(ae=>ae!==E))))}),null),V})()})),g(Ss,h(ce,{type:"number",name:"SkillChoice",placeholder:"Can choose how many?",get value(){return c()},onInput:E=>f(+E.currentTarget.value)}),null),g(Ss,h(K,{each:pt,children:E=>(()=>{var V=Gm(),le=V.firstChild;return Ye(V,"for",E),g(V,E,le),g(V,h(ce,{type:"checkbox",get checked(){return d()?.map(ie=>ie.toLowerCase()).includes(E.toLowerCase())},onChange:ie=>ie.currentTarget.checked?m(he=>JSON.parse(JSON.stringify([...he,E]))):m(he=>JSON.parse(JSON.stringify(he.filter(ae=>ae!==E))))}),null),V})()}),null),g(yr,h(xe,{get value(){return A()},onChange:E=>P(+E.currentTarget.value),disableUnselected:!0,get children(){return h(K,{each:[1,2,3,4],children:E=>h(G,{value:E,get children(){return["Choice ",E]}})})}}),null),g(yr,h(xe,{get value(){return O()},onChange:E=>M(+E.currentTarget.value),get children(){return h(K,{get each(){return aa()},children:(E,V)=>h(G,{get value(){return V()},get children(){return["Item ",F(()=>V()+1)]}})})}}),null),g(yr,h(de,{onClick:E=>tc(A()),children:"+"}),null),g(ga,h(ce,{placeholder:"AMNT",type:"number",style:{width:"14%"},get value(){return T()},onInput:E=>q(+E.currentTarget.value)}),null),g(ga,h(xe,{onChange:E=>{C(E.currentTarget.value)},get children(){return h(K,{get each(){return Dt()},children:E=>h(G,{get value(){return E.name},get children(){return E.name}})})}}),null),g(fc,h(K,{get each(){return aa()},children:(E,V)=>(()=>{var le=Ym(),ie=le.firstChild,he=ie.firstChild,ae=he.firstChild,nt=ae.nextSibling;nt.nextSibling;var Cr=ie.nextSibling;return g(he,h(ce,{type:"number",placeholder:"How many can be chosen?",get value(){return E.choose},onInput:Xt=>R(+Xt.currentTarget.value)}),nt),g(Cr,h(K,{get each(){return E.choices},children:(Xt,Qt)=>h(cn,{get key(){return Xt.item},get value(){return`${Xt.quantity}`},remove:()=>{St(Ee=>{switch(A()){case 1:Ee.choice1[V()].choices.splice(Qt(),1),Ee.choice1[V()].choices.length===0&&Ee.choice1.splice(V(),1),Ee.choice1=[...Ee.choice1];break;case 2:Ee.choice2[V()].choices.splice(Qt(),1),Ee.choice2[V()].choices.length===0&&Ee.choice2.splice(V(),1),Ee.choice2=[...Ee.choice2];break;case 3:Ee.choice3[V()].choices.splice(Qt(),1),Ee.choice3[V()].choices.length===0&&Ee.choice3.splice(V(),1),Ee.choice3=[...Ee.choice3];break;case 4:Ee.choice4[V()].choices.splice(Qt(),1),Ee.choice4[V()].choices.length===0&&Ee.choice4.splice(V(),1),Ee.choice4=[...Ee.choice4];break}return JSON.parse(JSON.stringify(Ee))})}})})),D(()=>B(le,Be.itemStuff)),le})()})),g(xs,h(ce,{type:"number",name:"ToolChoice",placeholder:"Can choose how many?",get value(){return b()},onInput:E=>$(+E.currentTarget.value)}),_r),g(va,h(ce,{type:"checkbox",get checked(){return p().length===bn().length},onChange:E=>E.currentTarget.checked?y(bn().map(V=>V.name)):y([])}),mc),g(_r,h(K,{get each(){return bn()},children:E=>(()=>{var V=Zm();return g(V,h(ce,{type:"checkbox",get checked(){return p().includes(E.name)},onChange:le=>le.currentTarget.checked?y(ie=>[...ie,E.name]):y(ie=>ie.filter(he=>he!==E.name))}),null),g(V,()=>E.name,null),D(()=>Ye(V,"for",E.name)),V})()}),null),g(wr,h(xe,{disableUnselected:!0,get value(){return I()},onChange:E=>{S(+E.currentTarget.value)},get children(){return[h(G,{value:0,children:"None"}),h(K,{get each(){return Le()},children:E=>h(G,{value:E,get children(){return["Level ",E]}})})]}}),$r),g(wr,h(de,{onClick:E=>{x(V=>V.includes(I())?V:[...V,I()])},children:"Add Subclass Level"}),$r),g($r,h(K,{get each(){return k()},children:E=>h(cn,{key:"Level",get value(){return E.toString()},remove:()=>{x(V=>V.filter(le=>le!==E))}})})),g(qn,h(ce,{type:"checkbox",get class(){return`${Be.checkbox}`},get checked(){return ve()},onChange:E=>Ge(E.currentTarget.checked)}),pa),g(qn,h(H,{get when(){return ve()},get children(){return[(()=>{var E=Vm(),V=E.firstChild;V.firstChild;var le=V.nextSibling;le.firstChild;var ie=le.nextSibling;ie.firstChild;var he=ie.nextSibling;return he.firstChild,g(V,h(xe,{onChange:ae=>X(ae.currentTarget.value),name:"spellList",disableUnselected:!0,get children(){return[h(K,{get each(){return Fn().filter(ae=>ae.classLevels.flatMap(nt=>nt.spellcasting?Object.keys(nt.spellcasting).length>0:!1).includes(!0))},children:ae=>h(G,{get value(){return ae.name.trim()},get children(){return ae.name.trim()}})}),h(G,{get value(){return F(()=>n().trim()!=="")()?n():"CurrentClass"},get children(){return F(()=>n().trim()!=="")()?n():"CurrentClass"}})]}}),null),g(le,h(xe,{onChange:ae=>re(ae.currentTarget.value),name:"spellAbility",disableUnselected:!0,get children(){return h(K,{each:["Intelligence","Wisdom","Charisma"],children:ae=>h(G,{value:ae,children:ae})})}}),null),g(ie,h(ce,{onChange:ae=>We(+ae.currentTarget.value),min:1,max:20,type:"number",name:"levelGained"}),null),g(he,h(ce,{type:"checkbox",get class(){return`${Be.checkbox}`},get checked(){return Ue()},onChange:ae=>Ze(ae.currentTarget.checked)}),null),D(()=>B(E,Be.hasCastingMain)),E})(),h(H,{get when(){return Ue()},get children(){var E=zm(),V=E.firstChild,le=V.nextSibling;return g(E,h(xe,{onChange:ie=>tt(+ie.currentTarget.value),name:"spellsKnownCalc",disableUnselected:!0,get children(){return[h(G,{get value(){return kt.None},children:"None"}),h(G,{get value(){return kt.Level},children:"Level"}),h(G,{get value(){return kt.HalfLevel},children:"Half Level"}),h(G,{get value(){return kt.StatModPlusLevel},children:"Stat Modifier + Level"}),h(G,{get value(){return kt.StatModPlusHalfLevel},children:"Stat Modifier + Half Level"}),h(G,{get value(){return kt.StatModPlusThirdLevel},children:"Stat Modifier + Third Level"})]}}),le),g(E,h(ce,{type:"checkbox",get class(){return`${Be.checkbox}`},get checked(){return gt()},onChange:ie=>J(ie.currentTarget.checked)}),null),E}}),(()=>{var E=Jm();return g(E,h(de,{onClick:V=>{j(le=>[...le,{name:"",desc:[""]}])},children:"Add Spellcasting Info Section"}),null),g(E,h(K,{get each(){return Z()},children:(V,le)=>[(()=>{var ie=Xm();return g(ie,h(ce,{onChange:he=>j(ae=>(ae[le()].name=he.currentTarget.value,[...ae])),placeholder:"Enter Section Title..."})),ie})(),(()=>{var ie=Qm(),he=ie.firstChild;return he.addEventListener("change",ae=>j(nt=>(nt[le()].desc=[ae.currentTarget.value],[...nt]))),D(()=>B(he,Be.textArea)),ie})(),h(de,{onClick:ie=>{j(he=>(he.splice(le(),1),[...he]))},children:"Remove"})]}),null),E})()]}}),pa),g(qn,h(vr,{get elements(){return Le().map(E=>({name:`Level ${E}`,element:h(Am,{setClassLevels:Ve,useCastingCalc:Ue,classLevels:pr,hasSpellCasting:ve,allClasses:Fn,features:ze,setFeatures:Je,name:n,level:E,casterType:Pe,setCasterType:Ke})}))}}),null),g(yc,h(de,{onClick:()=>{lt.classes().map(E=>E.name).includes(n())||(lt.addClass(la()),Ke(""),re(""),We(1),X(""),Ge(!1),j([]),r(""),i(0),l([]),u([]),f(1),m([]),v([]),y([]),$(1),x([]),S(0),St({class:"",quantity:0,choice1:[],choice2:[],choice3:[],choice4:[]}),Ve(new Array(20).fill({info:{className:"",subclassName:"",level:0,type:"",other:""},level:0,profBonus:0,features:[],classSpecific:{}}).map((E,V)=>({...E,info:{...E.info,level:V+1},level:V+1,profBonus:Math.ceil((V+1)/4)+1}))),Je(new Array(20).fill({info:{className:n(),subclassName:"",level:0,type:"",other:""},name:"",value:""}).map((E,V)=>({...E,info:{...E.info,level:V+1}}))),Kn([]))},children:"Save Class"})),D(E=>{var V=`${$e()?.primary} ${Be.body}`,le=Be.Columns,ie=`${Be.Column}`,he=`${Be.statProf}`,ae=`${Be.statProf}`,nt=`${Be.statProf}`,Cr=`${Be.Column}`,Xt=`${Be.statProf}`,Qt=Be.Tools,Ee=Be.Tools,ba=`${Be.toolProf}`,ya=`${Be.subclassLevels}`;return V!==E.e&&B(ee,E.e=V),le!==E.t&&B(De,E.t=le),ie!==E.a&&B(Un,E.a=ie),he!==E.o&&B(ws,E.o=he),ae!==E.i&&B($s,E.i=ae),nt!==E.n&&B(ha,E.n=nt),Cr!==E.s&&B(da,E.s=Cr),Xt!==E.h&&B(Cs,E.h=Xt),Qt!==E.r&&B(lc,E.r=Qt),Ee!==E.d&&B(ma,E.d=Ee),ba!==E.l&&B(_r,E.l=ba),ya!==E.u&&B($r,E.u=ya),E},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),ee})()},tv="_body_1vy8a_1",nv={body:tv};var rv=w("<div><h1>Items</h1><h2>Item Types</h2><div>"),sv=w("<div><p>damage</p><p>properties</p><p>description</p><p>cost</p><p>weight</p><p>description"),iv=w("<div><p>armor class</p><p>strength requirement</p><p>stealth disadvantage</p><p>description</p><p>cost</p><p>weight"),av=w("<div><p>description</p><p>cost</p><p>weight</p><p>consumable");const lv=()=>{Te(Re);const[e,t]=Ie(),n=F(()=>pe(e().theme));return(()=>{var r=rv(),s=r.firstChild,i=s.nextSibling,a=i.nextSibling;return g(a,h(vr,{get elements(){return[{name:"Weapon",element:sv()},{name:"Armor",element:iv()},{name:"Item",element:av()}]}})),D(()=>B(r,`${n()?.primary} ${nv.body}`)),r})()},ov="_body_1fr9g_1",cv="_name_1fr9g_24",uv="_featHomebrew_1fr9g_28",hv="_featName_1fr9g_1",dv="_removeChipButton_1fr9g_42",fv="_preRequisites_1fr9g_49",gv="_Description_1fr9g_63",mv="_chipBar_1fr9g_77",$n={body:ov,name:cv,featHomebrew:uv,featName:hv,removeChipButton:dv,preRequisites:fv,Description:gv,chipBar:mv},[hl,vv]=L([]),Zo=()=>{const e=Fo(),t=te.toObservable(me.feats.toArray());return hl().length===0&&t.pipe(oe(1),je(r=>{r.length>0&&vv(r)})).subscribe(),F(()=>[...e(),...hl()])};var qs=w("<div>"),pv=w("<div><h1>Feats</h1><div class=featHomebrew><div><h2>Add Name</h2></div><div><h2>Add Pre-Requisites</h2><div><button>Add</button></div><div></div></div><div><h2>Description</h2><textarea id=featDescription name=featDescription></textarea></div><button>Add Feat"),Ht=(e=>(e[e.AbilityScore=0]="AbilityScore",e[e.Class=1]="Class",e[e.CharacterLevel=2]="CharacterLevel",e))(Ht||{});const bv=()=>{Te(Re);const[e,t]=Ie(),n=F(()=>pe(e().theme)),r=ia();Zo();const s=lt,i=new Vu({}),[a,l]=L([]),[o,u]=L(0),[c,f]=L(""),[d,m]=L("str"),[_,v]=L("0"),[p,y]=L(""),[b,$]=L(!1),k=()=>{l([]),u(0),f(""),m("str"),v("0"),y("")},x=I=>{switch(o()){case 0:l(S=>[...S,{info:{className:"",subclassName:"",level:0,type:Ht[0],other:""},name:d(),value:_()}]);break;case 1:l(S=>[...S,{info:{className:"",subclassName:"",level:0,type:Ht[1],other:""},name:d(),value:_()}]);break;case 2:l(S=>[...S,{info:{className:"",subclassName:"",level:0,type:Ht[2],other:""},name:d(),value:_()}]);break}};return D(()=>{switch(o()){case 0:m("STR"),v("0");break;case 1:m("Class"),v("Barbarian");break;case 2:m("Barbarian"),v("0");break}}),D(()=>{const I={};I.name=c(),I.preReqs=a(),I.desc=[p()],i.next(I)}),D(()=>{b()&&(s.addFeat(i.value),$(!1),k())}),(()=>{var I=pv(),S=I.firstChild,U=S.nextSibling,C=U.firstChild;C.firstChild;var A=C.nextSibling,P=A.firstChild,O=P.nextSibling,M=O.firstChild,T=O.nextSibling,q=A.nextSibling,N=q.firstChild,R=N.nextSibling,Z=q.nextSibling;return g(C,h(ce,{type:"text",id:"featName",get value(){return c()},onChange:j=>f(j.currentTarget.value)}),null),g(O,h(xe,{get value(){return o()},onChange:j=>u(()=>+j.currentTarget.value),disableUnselected:!0,get children(){return[h(G,{get value(){return 0},children:"Ability Score"}),h(G,{get value(){return 1},children:"Class"}),h(G,{get value(){return 2},children:"Class Level"})]}}),M),g(O,h(sr,{get children(){return[h(ot,{get when(){return o()===0},get children(){var j=qs();return g(j,h(xe,{onChange:W=>m(W.currentTarget.value),get children(){return[h(G,{value:"STR",children:"Strength"}),h(G,{value:"DEX",children:"Dexterity"}),h(G,{value:"CON",children:"Constitution"}),h(G,{value:"INT",children:"Intelligence"}),h(G,{value:"WIS",children:"Wisdom"}),h(G,{value:"CHA",children:"Charisma"})]}}),null),g(j,h(ce,{type:"number",onChange:W=>v(W.currentTarget.value)}),null),j}}),h(ot,{get when(){return o()===1},get children(){var j=qs();return g(j,h(xe,{onChange:W=>{m("Class"),v(W.currentTarget.value)},get children(){return h(K,{get each(){return r()},children:W=>h(G,{get value(){return W.name},get children(){return W.name}})})}})),j}}),h(ot,{get when(){return o()===2},get children(){var j=qs();return g(j,h(xe,{onChange:W=>m(W.currentTarget.value),get children(){return h(K,{get each(){return r()},children:W=>h(G,{get value(){return W.name},get children(){return W.name}})})}}),null),g(j,h(ce,{type:"number",onChange:W=>v(W.currentTarget.value)}),null),j}})]}}),M),M.$$click=x,g(T,h(cn,{get key(){return d()},get value(){return _()}}),null),g(T,h(K,{get each(){return a()},children:(j,W)=>h(cn,{get key(){return j.name},get value(){return j.value},remove:()=>l(re=>re.filter((He,We)=>We!==W()))})}),null),R.addEventListener("change",j=>y(j.currentTarget.value)),Z.$$click=()=>$(!0),D(j=>{var W=`${n()?.primary} ${$n.body}`,re=`${$n.name}`,He=`${$n.preRequisites}`,We=a().length>=10,ne=`${$n.chipBar}`,X=`${$n.Description}`,ve=`${$n.addButton}`;return W!==j.e&&B(I,j.e=W),re!==j.t&&B(C,j.t=re),He!==j.a&&B(A,j.a=He),We!==j.o&&(M.disabled=j.o=We),ne!==j.i&&B(T,j.i=ne),X!==j.n&&B(q,j.n=X),ve!==j.s&&B(Z,j.s=ve),j},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),D(()=>R.value=p()),I})()};dt(["click"]);const yv="_body_1vy8a_1",_v={body:yv};var wv=w("<div><h1>backgrounds</h1><div><p>ideals</p><p>bonds</p><p>flaws</p><p>personality traits</p><p>background features</p><p>languages</p><p>skills</p><p>tools");const $v=()=>{Te(Re);const[e,t]=Ie(),n=F(()=>pe(e().theme));return(()=>{var r=wv();return D(()=>B(r,`${n()?.primary} ${_v.body}`)),r})()},Cv="_body_1vy8a_1",Sv={body:Cv};var xv=w("<div><h1>spells</h1><p>name</p><p>level</p><p>school</p><p>casting time</p><p>range</p><p>components</p><p>duration</p><p>description</p><p>classes list");const kv=()=>{Te(Re);const[e,t]=Ie(),n=F(()=>pe(e().theme));return(()=>{var r=xv();return D(()=>B(r,`${n()?.primary} ${Sv.body}`)),r})()},Pv="_body_1vy8a_1",Lv={body:Pv};var Av=w("<div><h1>races</h1><div><p>name</p><p>size</p><p>speed</p><p>ability score increase</p><p>age range</p><p>features");const Ev=()=>{Te(Re);const[e,t]=Ie(),n=F(()=>pe(e().theme));return(()=>{var r=Av();return D(()=>B(r,`${n()?.primary} ${Lv.body}`)),r})()},Ov="_SpellsBody_zr12h_1",Tv="_materials_needed_zr12h_1",Iv="_headerBar_zr12h_23",Bv="_view_zr12h_39",Rv="_center_zr12h_75",Cn={SpellsBody:Ov,materials_needed:Tv,headerBar:Iv,view:Bv,center:Rv},Nv="_chip_1bifh_1",Dv={chip:Nv};var jv=w("<span> : <!> <button>x");const Mv=e=>{const t=pe();return(()=>{var n=jv(),r=n.firstChild,s=r.nextSibling,i=s.nextSibling,a=i.nextSibling;return g(n,()=>e.key,r),g(n,()=>e.value,s),ji(a,"click",e.clear,!0),D(()=>B(n,`${t.tertiary} ${Dv.chip}`)),n})()};dt(["click"]);const Fv="_searchBar_1fns4_1",Kv="_booleanSelect_1fns4_46",Uv="_chipBar_1fns4_77",qv="_all_1fns4_84",Hv="_none_1fns4_88",Vv="_top_1fns4_92",zv="_bottom_1fns4_96",Jv="_left_1fns4_100",Wv="_right_1fns4_104",Nr={searchBar:Fv,booleanSelect:Kv,chipBar:Uv,all:qv,none:Hv,top:Vv,bottom:zv,left:Jv,right:Wv},Gv=e=>{const t=pe();return h(de,{get class(){return`${t.accent}`},get onClick(){return e.clear},children:"Clear All"})};var Yv=w("<div id=booleanBar><label for=falsebox>"),Zv=w("<div>"),Xv=w("<div><div>"),Qv=w("<option>"),ep=w('<svg><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z">');const tp=e=>{const[t,n]=L({key:"",value:""}),[r,s]=L("name"),[i,a]=L(""),[l,o]=L(!1),[u,c]=L([]),f=_=>{if(Array.isArray(e.spellsSrd()[0][_]))if(typeof(e.spellsSrd()[0][_]&&Array.isArray(e.spellsSrd()[0][_])?e.spellsSrd()[0][_][0]:null)=="string"){const y=e.spellsSrd().flatMap(b=>b[_]?.toString().includes(",")?b[_]?.toString().split(","):b[_]?.toString());return[...new Set(y)].sort().filter(b=>!!b)}else return[...new Set(...e.spellsSrd().flatMap(y=>Array.isArray(y[_])?y[_]:[]))].sort().filter(y=>!!y);const v=new Set;return e.spellsSrd().map(p=>p[_]&&!Array.isArray(p[_])?p[_]:"").map(p=>v.add(`${p}`)),[...v].sort().filter(p=>!!p)},d=["Abjuration","Conjuration","Divination","Enchantment","Evocation","Illusion","Necromancy","Transmutation"];D(()=>{e.setSearchResults(e.spellsSrd().filter(_=>_&&u().length>0?![...new Set(u().map($=>$.key))].map($=>u().filter(k=>k.key===$)).map($=>$.map(k=>{const x=_[k.key];if(x)switch(!0){case typeof x=="string":return x.toLowerCase().includes(k.value.toLowerCase());case Array.isArray(x):return x.join(" ").toLowerCase().includes(k.value.toLowerCase());case typeof x=="boolean":return` ${x} `.toLowerCase().includes(k.value.toLowerCase())}return!1})).map($=>$.includes(!0)).includes(!1):!0))}),D(()=>{e.spellsSrd().length>0&&typeof e.spellsSrd()[0][r()]=="boolean"&&a(`${l()}`)}),D(()=>{c(_=>t().key?[..._,t()]:_),a(""),document.getElementById("searchBar")&&(document.getElementById("searchBar").value="")});const m=_=>{const v=y=>y.charAt(0).toUpperCase()+y.slice(1),p=y=>y.replace(/([A-Z])/g," $1").trim();switch(_){case"concentration":return"Conc";case"damageType":return"Dmg Type";default:return _.startsWith("is")&&(_=_.replace("is","")),_=v(_),_=p(_),_}};return(()=>{var _=Xv(),v=_.firstChild;return g(v,h(de,{transparent:!0,onClick:()=>n(p=>({key:r(),value:Ii(i())})),get children(){return h(np,{})}}),null),g(v,h(xe,{get class(){return`${Nr.all}`},disableUnselected:!0,onChange:p=>s(p.target.value),id:"chipDropdown",get children(){return h(K,{get each(){return Object.keys(e.spellsSrd()[0]).filter(p=>!["materials_Needed","higherLevel","page"].includes(p))},children:p=>h(G,{value:p,get children(){return m(p)}})})}}),null),g(v,h(sr,{get children(){return[h(ot,{get when(){return Array.isArray(e.spellsSrd()[0][r()])||["damageType","castingTime","range","duration"].includes(r())},get children(){return h(xe,{onChange:p=>a(p.currentTarget.value),get children(){return h(K,{get each(){return f(r())},children:p=>(()=>{var y=Qv();return y.value=p,g(y,p),y})()})}})}}),h(ot,{get when(){return typeof e.spellsSrd()[0][r()]=="boolean"},get children(){var p=Yv(),y=p.firstChild;return g(p,h(ce,{type:"checkbox",get checked(){return l()},id:"booleanCheckbox",onchange:()=>{o(!l()),a(`${l()}`)}}),y),g(y,h(H,{get when(){return!l()},children:"false"}),null),g(y,h(H,{get when(){return l()},children:"true"}),null),D(()=>B(p,`${Nr.booleanSelect}`)),p}}),h(ot,{get when(){return typeof e.spellsSrd()[0][r()]=="string"},get children(){return h(sr,{get fallback(){return h(ce,{id:"searchBar",onChange:p=>a(p.currentTarget.value),onKeyDown:p=>{p.key==="Enter"&&n(y=>({key:r(),value:Ii(p.currentTarget.value)}))},placeholder:"Search Spells...",get value(){return i()},type:"text"})},get children(){return h(ot,{get when(){return["school","level"].includes(r())},get children(){return h(xe,{onChange:p=>a(p.currentTarget.value),get children(){return[h(H,{get when(){return r()==="school"},get children(){return h(K,{each:d,children:p=>h(G,{value:p,children:p})})}}),h(H,{get when(){return r()==="level"},get children(){return h(K,{each:[0,1,2,3,4,5,6,7,8,9],children:p=>h(G,{value:p,children:p})})}})]}})}})}})}})]}}),null),g(_,h(H,{get when(){return u().length>0},get children(){var p=Zv();return g(p,h(Gv,{clear:()=>c([])}),null),g(p,h(K,{get each(){return u()},children:(y,b)=>h(Mv,{get key(){return m(y.key)??""},get value(){return y.value},clear:()=>c($=>$.filter((k,x)=>x!==b()))})}),null),D(()=>B(p,`${Nr.chipBar}`)),p}}),null),D(()=>B(v,`${Nr.searchBar}`)),_})()},np=e=>(()=>{var t=ep();return vt(t,ct(e,{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 50 50"}),!0,!0),t})(),rp=()=>{const e=ra();return F(()=>[...e()])},sp="_view_tp4uv_1",ip={view:sp};var ap=w("<h4>At Higher Levels: "),lp=w("<span>"),op=w("<div><div><h1></h1><h2> </h2><h2>Casting time: <!> </h2><h2>Range: <!> </h2><h2>Component: </h2><h2>Duration: </h2><h2>Classes: </h2><h2>SubClasses: </h2><span>");const cp=e=>{const t=Te(Re),[{"0":n,"1":r},s]=Yt(e.backgroundClick,["0","1"]),i=()=>e.spell();return wg(),h(sa,{get title(){return i().name},get width(){return t.isMobile()?"100%":"50%"},get height(){return t.isMobile()?"100%":"50%"},backgroundClick:[n,r],get children(){var a=op(),l=a.firstChild,o=l.firstChild,u=o.nextSibling,c=u.firstChild,f=u.nextSibling,d=f.firstChild,m=d.nextSibling;m.nextSibling;var _=f.nextSibling,v=_.firstChild,p=v.nextSibling;p.nextSibling;var y=_.nextSibling;y.firstChild;var b=y.nextSibling;b.firstChild;var $=b.nextSibling;$.firstChild;var k=$.nextSibling;k.firstChild;var x=k.nextSibling;return g(o,()=>i().name),g(u,()=>Kf(i().level),c),g(u,()=>i().school,null),g(f,()=>i().castingTime,m),g(_,()=>i().range,p),g(y,()=>Uf(i()),null),g(b,()=>i().duration,null),g($,()=>i().classes.join(", "),null),g(k,()=>i().subClasses.join(", "),null),g(x,()=>i().desc),g(l,h(H,{get when(){return!!i().higherLevel},get children(){return[ap()," ",(()=>{var I=lp();return g(I,()=>i().higherLevel),I})()]}}),null),D(()=>B(a,`${ip.view}`)),a}})};var up=w("<div><h1>Spells</h1><br><ul></ul><div>"),hp=w("<div><span></span> <span>"),dp=w("<h4>At Higher Levels: "),fp=w("<span>"),gp=w("<div><div><h1></h1><h2> </h2><h2>Casting time: <!> </h2><h2>Range: <!> </h2><h2>Component: </h2><h2>Duration: </h2><h2>Classes: </h2><h2>SubClasses: </h2><span>"),mp=w("<div><span></span><span>"),vp=w("<hr>");const dl=()=>{const e=Te(Re),[t,n]=Ie(),r=F(()=>pe(t().theme)),s=rp(),[i,a]=Zt();i.name||a({name:s()[0]?.name});const l=s().filter(b=>b.name?.toLowerCase()===(i?.name||s()[0]?.name).toLowerCase())[0],[o,u]=L(l),[c,f]=L([]),[d,m]=L([]),[_,v]=L(!1),p=b=>{switch(b){case"0":return"Cantrip";case"1":return"1st";case"2":return"2nd";case"3":return"3rd";default:return`${b}th`}},y=b=>{const $=[];return b.isVerbal&&$.push("V"),b.isSomatic&&$.push("S"),b.isMaterial&&$.push("M"),b.materials_Needed?[$.join(", "),b.materials_Needed??null].join(", "):$.join(", ")};return D(()=>{a({name:o()?.name??""})}),(()=>{var b=up(),$=b.firstChild,k=$.nextSibling,x=k.nextSibling,I=x.nextSibling;return g(b,h(tp,{searchResults:d,setSearchResults:m,spellsSrd:s}),x),g(x,h(K,{get each(){return c()},children:(S,U)=>[h(H,{get when(){return!e?.isMobile()},get children(){return h(un,{extraLogic:()=>u(S),get startOpen(){return o().name===S.name},get children(){return[(()=>{var C=hp(),A=C.firstChild,P=A.nextSibling,O=P.nextSibling;return g(A,()=>S.name),g(O,()=>p(S.level)),D(()=>B(C,`${Cn.headerBar}`)),C})(),(()=>{var C=gp(),A=C.firstChild,P=A.firstChild,O=P.nextSibling,M=O.firstChild,T=O.nextSibling,q=T.firstChild,N=q.nextSibling;N.nextSibling;var R=T.nextSibling,Z=R.firstChild,j=Z.nextSibling;j.nextSibling;var W=R.nextSibling;W.firstChild;var re=W.nextSibling;re.firstChild;var He=re.nextSibling;He.firstChild;var We=He.nextSibling;We.firstChild;var ne=We.nextSibling;return g(P,()=>S.name),g(O,()=>p(S.level),M),g(O,()=>S.school,null),g(T,()=>S.castingTime,N),g(R,()=>S.range,j),g(W,()=>y(S),null),g(re,()=>S.duration,null),g(He,()=>S.classes.join(", "),null),g(We,()=>S.subClasses.join(", "),null),g(ne,()=>S.desc),g(A,h(H,{get when(){return!!S.higherLevel},get children(){return[dp()," ",(()=>{var X=fp();return g(X,()=>S.higherLevel),X})()]}}),null),D(()=>B(C,`${Cn.view}`)),C})()]}})}}),h(H,{get when(){return e?.isMobile()},get children(){return[(()=>{var C=mp(),A=C.firstChild,P=A.nextSibling;return A.$$click=()=>{u(S),v(O=>!O)},g(A,()=>S.name),P.$$click=()=>{u(S),v(O=>!O)},g(P,()=>p(S.level)),D(()=>B(C,`${Cn.headerBar}`)),C})(),vp(),h(H,{get when(){return _()},get children(){return h(cp,{spell:o,backgroundClick:[_,v]})}})]}})]})),g(I,h(_s,{items:d,setPaginatedItems:f})),D(S=>{var U=`${r()?.primary} ${Cn.SpellsBody}`,C=`${Cn.center}`,A=`${Cn.center}`;return U!==S.e&&B(b,S.e=U),C!==S.t&&B($,S.t=C),A!==S.a&&B(I,S.a=A),S},{e:void 0,t:void 0,a:void 0}),b})()};dt(["click"]);const pp="_featsList_1hcnd_1",bp="_PreReqsBar_1hcnd_17",yp="_body_1hcnd_29",Hs={featsList:pp,PreReqsBar:bp,body:yp};var _p=w("<div><div><h1>Feats</h1><div></div><ol>"),wp=w("<li> <button></button>"),fl=w("<div>"),gl=w("<br>"),$p=w("<div>Description:"),Vs=w("<span>"),Cp=w("<div>Ability Score Requirement: "),Sp=w("<span> of "),xp=w("<div>Class Requirement:"),kp=w("<div>class level Requirement:"),Pp=w("<span> "),Lp=w("<div>classes Requirement:");const Ap=()=>{const[e,t]=L([]),[n,r]=L([]),s=F(()=>n().length===0?e():n()),[i,a]=L([]),l=b=>i().includes(b),o=b=>l(b)?a(i().filter($=>$!==b)):a([...i(),b]);Te(Re);const[u,c]=Ie(),f=F(()=>pe(u().theme)),d=Zo(),[m,_]=Zt();m.name||_({name:d()[0]?.name});const v=d().filter(b=>b.name?.toLowerCase()===(m.name||d()[0]?.name).toLowerCase())[0],[p,y]=L(v);return D(()=>{_({name:p()?.name})}),(()=>{var b=_p(),$=b.firstChild,k=$.firstChild,x=k.nextSibling,I=x.nextSibling;return x.style.setProperty("height","5vh"),x.style.setProperty("width","45%"),g(x,h(zo,{placeholder:"Search Feats...",dataSource:d,setResults:r})),g(I,h(K,{get each(){return s()},children:(S,U)=>[(()=>{var C=wp(),A=C.firstChild,P=A.nextSibling;return g(C,()=>S.name,A),P.$$click=()=>{o(U()),y(S)},g(P,()=>l(U())?"↑":"↓"),C})(),h(H,{get when(){return l(U())},get children(){return[(()=>{var C=fl();return g(C,h(K,{get each(){return p().preReqs},children:A=>(()=>{var P=fl();return g(P,h(sr,{get children(){return[h(ot,{get when(){return A.info.type===Ht[0]},get children(){return[Cp(),(()=>{var O=Sp(),M=O.firstChild;return g(O,()=>A.name,M),g(O,()=>A.value,null),O})()]}}),h(ot,{get when(){return A.info.type===Ht[1]},get children(){return[xp(),(()=>{var O=Vs();return g(O,()=>A.value),O})()]}}),h(ot,{get when(){return A.info.type===Ht[2]},get children(){return[kp(),(()=>{var O=Pp(),M=O.firstChild;return g(O,()=>A.name,M),g(O,()=>A.value,null),O})()]}}),h(ot,{get when(){return A.info.type===Ht[3]},get children(){return[Lp(),(()=>{var O=Vs();return g(O,()=>A.name),O})()]}})]}})),P})()})),D(()=>B(C,`${Hs.PreReqsBar}`)),C})(),gl(),$p(),(()=>{var C=Vs();return g(C,h(K,{get each(){return p().desc},children:(A,P)=>[A,gl()]})),C})()]}})]})),g($,h(_s,{items:d,setPaginatedItems:t}),null),D(S=>{var U=`${f()?.primary} ${Hs.featsList}`,C=`${Hs.body}`;return U!==S.e&&B(b,S.e=U),C!==S.t&&B($,S.t=C),S},{e:void 0,t:void 0}),b})()};dt(["click"]);const Ep=()=>{const e=Ko();return F(()=>[...e()])},Op="_sidebar_18u2w_9",Tp="_sidebar_shown_18u2w_37",Ip="_wrapper_18u2w_43",Bp="_thePage_18u2w_48",Rp="_outerStyles_18u2w_59",Np="_SelectorBar_18u2w_67",Dp="_fixed_18u2w_79",jp="_flexrow_18u2w_93",Mp="_wrap_18u2w_43",Fp="_abilityscore_18u2w_103",Kp="_sideBarBtn_18u2w_110",Up="_animate_18u2w_124",qp="_slidein_18u2w_1",Dr={sidebar:Op,sidebar_shown:Tp,wrapper:Ip,thePage:Bp,outerStyles:Rp,SelectorBar:Np,fixed:Dp,flexrow:jp,wrap:Mp,abilityscore:Fp,sideBarBtn:Kp,animate:Up,slidein:qp},Hp="_subrace_1t2pp_1",Vp={subrace:Hp};var zp=w("<div><h3>Sub Races"),nn=w("<br>"),ml=w("<div>"),Jp=w("<span>languages:"),zs=w("<span>"),Wp=w("<h3>languages to choose from"),Gp=w("<div><span>name: </span><br><br><span>Ability Score increases:</span><br>"),Yp=w("<span><br><span></span> <span></span><br>"),Zp=w("<span>: ");const Xp=e=>{pe();let t=e.race;return h(H,{get when(){return t?.subRaces?.length>0},get children(){return h(un,{get children(){return[zp(),(()=>{var n=ml();return g(n,h(H,{get when(){return t?.subRaces.length>0},get children(){return[nn(),(()=>{var r=ml();return g(r,h(K,{get each(){return t?.subRaces},children:s=>[(()=>{var i=Gp(),a=i.firstChild;a.firstChild;var l=a.nextSibling,o=l.nextSibling,u=o.nextSibling,c=u.nextSibling;return g(a,()=>s.name,null),g(i,h(H,{get when(){return s.abilityBonuses.length>0},get children(){return h(K,{get each(){return s.abilityBonuses},children:f=>(()=>{var d=Yp(),m=d.firstChild,_=m.nextSibling,v=_.nextSibling,p=v.nextSibling;return g(_,()=>f.name),g(p,()=>f.value),d})()})}}),c),g(i,h(H,{get when(){return s.traits.length>0},get children(){return h(K,{get each(){return s.traits},children:f=>[nn(),(()=>{var d=Zp(),m=d.firstChild;return g(d,()=>f.name,m),d})(),nn(),(()=>{var d=zs();return g(d,()=>f.value),d})(),nn()]})}}),c),g(i,h(H,{get when(){return s.languages.length>0},get children(){return[Jp(),nn(),(()=>{var f=zs();return g(f,()=>s.languages.join(", ")),f})()]}}),null),g(i,h(H,{get when(){return s.languageChoice.choices.length>0},get children(){return[Wp(),h(K,{get each(){return s.languageChoice.choices},children:f=>[(()=>{var d=zs();return g(d,f),d})(),nn()]})]}}),null),D(f=>{var d=`${s.name}`,m=`${Vp.subrace}`;return d!==f.e&&Ye(i,"id",f.e=d),m!==f.t&&B(i,f.t=m),f},{e:void 0,t:void 0}),i})(),nn()]})),r})()]}})),n})()]}})}})};var Qp=w("<div><div><h1></h1><h2> traits</h2><div><h3>Ability Score Increases: </h3><div></div><h3>Age:</h3><span></span><h3>Alignment:</h3><span></span><h3>Size:</h3><span></span><h3>Speed:</h3><span>ft</span><h3>Race Specific Traits:</h3><span></span><h3>Proficiencies</h3><div></div><h3>Languages:</h3><br>"),Js=w("<br>"),Ws=w("<span>"),e1=w("<div>: ");const t1=e=>{let t=e.styles,n=e.dndSrdRace;return(()=>{var r=Qp(),s=r.firstChild,i=s.firstChild,a=i.nextSibling,l=a.firstChild,o=a.nextSibling,u=o.firstChild,c=u.nextSibling,f=c.nextSibling,d=f.nextSibling,m=d.nextSibling,_=m.nextSibling,v=_.nextSibling,p=v.nextSibling,y=p.nextSibling,b=y.nextSibling,$=b.firstChild,k=b.nextSibling,x=k.nextSibling,I=x.nextSibling,S=I.nextSibling,U=S.nextSibling,C=U.nextSibling;return g(i,()=>n().name),g(a,()=>n().name,l),g(c,h(K,{get each(){return n().abilityBonuses},children:A=>[Js(),(()=>{var P=Ws();return g(P,()=>A.name),P})()," ",(()=>{var P=Ws();return g(P,()=>A.value),P})(),Js()]})),g(d,()=>n()?.age),g(_,()=>n()?.alignment),g(p,()=>n()?.sizeDescription),g(b,()=>n()?.speed,$),g(x,h(K,{get each(){return n()?.traits},children:A=>[(()=>{var P=e1(),O=P.firstChild;return g(P,()=>A?.name,O),g(P,h(K,{get each(){return A?.value},children:M=>(()=>{var T=Ws();return g(T,M),D(()=>B(T,`${t.wrap}`)),T})()}),null),P})(),Js()]})),g(S,()=>n()?.startingProficencies?.map(A=>A?.value)?.join(`
`)),g(o,()=>n()?.languageDesc,C),g(o,h(Xp,{styles:t,get race(){return n()}}),null),D(A=>{var P=`${t.thePage}`,O=`${n().name}`,M=`${t.abilityscore}`,T=`${t.wrap}`,q=`${t.wrap}`,N=`${t.wrap}`;return P!==A.e&&B(r,A.e=P),O!==A.t&&Ye(i,"id",A.t=O),M!==A.a&&B(c,A.a=M),T!==A.o&&B(d,A.o=T),q!==A.i&&B(_,A.i=q),N!==A.n&&B(p,A.n=N),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),r})()};var n1=w("<div id=racesComp><h1>Races</h1><div><button>←</button><span></span><button>→</button></div><div>");const r1=()=>{const e=Ep();Te(Re);const[t,n]=Ie(),r=F(()=>pe(t().theme));L([]);const[s,i]=Zt(),a=e()?.findIndex(c=>c.name?.toLowerCase()===s?.name?.toLowerCase()),[l,o]=L(a>=0?a:0);s.name||i({name:e().length>0?e()[l()].name:"dragonborn"});const u=F(()=>e().length>0&&l()>=0&&l()<e().length?e()[l()]:{});return D(()=>{i({name:e().length>0?u()?.name:"Dragonborn"})}),(()=>{var c=n1(),f=c.firstChild,d=f.nextSibling,m=d.firstChild,_=m.nextSibling,v=_.nextSibling,p=d.nextSibling;return m.$$click=()=>l()===0?o(y=>e().length-1):o(y=>y-1),g(_,()=>u().name),v.$$click=()=>l()===e().length-1?o(y=>0):o(y=>y+1),g(p,h(t1,{styles:Dr,dndSrdRace:u})),D(y=>{var b=`${r().primary} ${Dr.outerStyles}`,$=`${Dr.SelectorBar}`,k=`${Dr.wrapper}`;return b!==y.e&&B(c,y.e=b),$!==y.t&&B(d,y.t=$),k!==y.a&&B(p,y.a=k),y},{e:void 0,t:void 0,a:void 0}),c})()};dt(["click"]);const s1=()=>{const e=Uo();return F(()=>[...e()])},i1="_allBackgrounds_osalx_1",a1="_backgrounds_osalx_12",l1="_feature_osalx_23",o1="_totalPanel_osalx_27",c1="_body_osalx_31",zn={allBackgrounds:i1,backgrounds:a1,feature:l1,totalPanel:o1,body:c1};var u1=w("<div><h1>Backgrounds</h1><div></div><div></div>"),h1=w("<div>"),d1=w("<div><h2></h2><div></div><h3></h3><h3>choose: </h3><div></div><br><h3>Starting Equipment</h3><div></div><br><div></div><h3>Skill Proficiencies</h3><div>"),f1=w("<span><h3></h3><br><span>"),Jn=w("<br>"),Gs=w("<span>"),g1=w("<h3>Choose: "),m1=w("<span> ");const v1=()=>{Te(Re);const[e,t]=Ie(),n=F(()=>pe(e().theme)),r=s1(),[s,i]=L(r()||[]),a=F(()=>{if(s().length===0)return r()}),[l,o]=Zt();l.name||o({name:r()[0]?.name});const u=r().filter(m=>m.name?.toLowerCase()===(l?.name||r()[0]?.name).toLowerCase())[0],[c,f]=L(u);D(()=>{o({name:c()?.name})});const d=m=>{f(m)};return(()=>{var m=u1(),_=m.firstChild,v=_.nextSibling,p=v.nextSibling;return v.style.setProperty("width","35%"),v.style.setProperty("height","5vh"),v.style.setProperty("margin","0 auto"),g(v,h(zo,{placeholder:"Search Backgrounds...",dataSource:r,setResults:i})),g(p,h(K,{get each(){return a()},children:y=>h(un,{get extraSetter(){return d(y)},styles:zn,get children(){return[(()=>{var b=h1();return g(b,()=>c().name),b})(),(()=>{var b=d1(),$=b.firstChild,k=$.nextSibling,x=k.nextSibling,I=x.nextSibling;I.firstChild;var S=I.nextSibling,U=S.nextSibling,C=U.nextSibling,A=C.nextSibling,P=A.nextSibling,O=P.nextSibling,M=O.nextSibling,T=M.nextSibling;return g($,()=>c().name),g(k,h(K,{get each(){return c().feature},children:q=>[(()=>{var N=f1(),R=N.firstChild,Z=R.nextSibling,j=Z.nextSibling;return g(R,()=>q.name),g(j,()=>q.value),D(()=>B(j,`${zn.feature}`)),N})(),Jn()]})),g(x,()=>c().languageChoice.type),g(I,()=>c().languageChoice.choose,null),g(S,h(K,{get each(){return c().languageChoice.choices},children:q=>[(()=>{var N=Gs();return g(N,q),N})(),Jn()]})),g(A,h(K,{get each(){return c().startingEquipment},children:q=>[(()=>{var N=Gs();return g(N,()=>q.item),N})(),Jn()]})),g(O,h(K,{get each(){return c().startingEquipmentChoices},children:q=>[(()=>{var N=g1();return N.firstChild,g(N,()=>q.choose,null),N})(),h(K,{get each(){return q.choices},children:N=>[(()=>{var R=m1(),Z=R.firstChild;return g(R,()=>N.quantity,Z),g(R,()=>N.item,null),R})(),Jn()]})]})),g(T,h(K,{get each(){return c().startingProficiencies},children:q=>[(()=>{var N=Gs();return g(N,()=>q.value),N})(),Jn()]})),D(()=>B(b,`${zn.body}`)),b})()]}})})),D(y=>{var b=`${n()?.primary} ${zn.allBackgrounds}`,$=`${zn.backgrounds}`;return b!==y.e&&B(m,y.e=b),$!==y.t&&B(p,y.t=$),y},{e:void 0,t:void 0}),m})()},p1="_CenterPage_69voi_1",b1="_eachPage_69voi_8",y1="_Center_69voi_1",_1="_CenterTable_69voi_18",w1="_subClasses_69voi_28",vl={CenterPage:p1,eachPage:b1,Center:y1,CenterTable:_1,subClasses:w1};function $1(e){return e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase()).trim()}const C1="_feature_fg9e7_1",S1="_table_fg9e7_5",x1="_tableRow_fg9e7_9",k1="_tableCell_fg9e7_13",jr={feature:C1,table:S1,tableRow:x1,tableCell:k1};var P1=w("<table><thead><tr><th>Level</th><th>PB</th><th>Features</th></tr></thead><tbody>"),L1=w("<th>"),A1=w("<tr><td></td><td></td><td>"),E1=w("<td><span>");const O1=e=>{const t=e.Class,n=i=>{switch(e.Class().name.toLowerCase()){case"rogue":case"monk":if(!Number.isNaN(+i))return i;const a=JSON.parse(i);return`${JSON.parse(a).DiceCount}d${JSON.parse(a).DiceValue}`}return i},r=i=>e.Class().name.toLowerCase()==="sorcerer"?i.slice(1):i,s=()=>e.Class()?.classLevels?.sort((l,o)=>Object.keys(o.classSpecific).length-Object.keys(l.classSpecific).length);return(()=>{var i=P1(),a=i.firstChild,l=a.firstChild,o=l.firstChild,u=o.nextSibling;u.nextSibling;var c=a.nextSibling;return g(l,h(K,{get each(){return r(Object.keys(s()[0].classSpecific))},children:f=>(()=>{var d=L1();return g(d,()=>$1(f)),d})()}),null),g(c,h(K,{get each(){return t().classLevels.sort((f,d)=>f.info.level-d.info.level)},children:f=>(()=>{var d=A1(),m=d.firstChild,_=m.nextSibling,v=_.nextSibling;return d.style.setProperty("border","1px solid white"),g(m,()=>f.info.level),g(_,()=>f.profBonus),g(v,()=>f.features.map(p=>p.name).join(", ")),g(d,h(K,{get each(){return r(Object.keys(f.classSpecific))},children:p=>(()=>{var y=E1(),b=y.firstChild;return g(b,()=>n(f.classSpecific[p])),y})()}),null),D(p=>{var y=`${jr.tableRow}`,b=`${jr.feature}`;return y!==p.e&&B(d,p.e=y),b!==p.t&&B(v,p.t=b),p},{e:void 0,t:void 0}),d})()})),D(f=>{var d=`${jr.table}`,m=`${jr.tableRow}`;return d!==f.e&&B(i,f.e=d),m!==f.t&&B(l,f.t=m),f},{e:void 0,t:void 0}),i})()},T1="_CenterPage_khgy5_1",I1="_eachPage_khgy5_36",B1="_subClasses_khgy5_51",R1="_dropCard_khgy5_56",N1="_flexbox_khgy5_81",D1="_innerFlexBox_khgy5_86",j1="_left_khgy5_104",wt={CenterPage:T1,eachPage:I1,subClasses:B1,dropCard:R1,flexbox:N1,innerFlexBox:D1,left:j1};var M1=w("<h4>Spells Gained"),F1=w("<span>"),K1=w("<br>"),U1=w("<div><h3></h3><span></span><br><span></span><br><span>"),q1=w("<li><span></span>"),H1=w("<h5> <!> "),V1=w("<span> <!> ");const z1=e=>{const[t,n]=L(!1),[r,s]=Ie(),i=F(()=>pe(r().theme));return(()=>{var a=q1(),l=a.firstChild;return l.$$click=()=>n(o=>!o),g(l,()=>e.subclass.name),g(a,h(H,{get when(){return t()},get children(){return h(sa,{width:"50vw",height:"max-content",maxHeight:"90vh",backgroundClick:[t,n],get children(){var o=U1(),u=o.firstChild,c=u.nextSibling,f=c.nextSibling,d=f.nextSibling,m=d.nextSibling,_=m.nextSibling;return g(u,()=>e.subclass.name),g(c,()=>e.subclass.desc?.join(` 
`)),g(d,()=>e.subclass.subclassFlavor),g(o,h(H,{get when(){return e.subclass.spells?.length>=1},get children(){return[M1(),(()=>{var v=F1();return g(v,()=>e.subclass.spells?.join(`
`)),v})(),K1()]}}),_),g(_,h(K,{get each(){return e.subclass.features},children:v=>[(()=>{var p=H1(),y=p.firstChild,b=y.nextSibling;return b.nextSibling,g(p,()=>v.name,b),p})(),(()=>{var p=V1(),y=p.firstChild,b=y.nextSibling;return b.nextSibling,g(p,()=>Wo(v?.value),b),p})()]})),o}})}}),null),D(()=>B(l,`${i()?.hover}`)),a})()};dt(["click"]);var J1=w("<div><h2>Skills"),pl=w("<div><br>"),W1=w("<div><h2>Starting Equipment"),G1=w("<div><h2>Features"),Y1=w("<div><div>"),Z1=w("<div><div><h1></h1><div></div><span><h2>Proficiencies</h2><span>Armor: </span><span></span><br><span>Weapons: <!> </span><br><span>Tools:</span><br><br><span>Saving Throws: </span></span><br><br><br><br><div>"),rt=w("<br>"),X1=w("<span>Choose: "),Wn=w("<span>"),Q1=w("<h3>choice 1"),Mr=w("<span>choose: "),Fr=w("<span>or"),Ys=w("<div><br><br><span>"),eb=w("<h3>choice 2"),tb=w("<h3>choice 3"),nb=w("<h3>choice 4"),rb=w("<div><br><span>"),sb=w("<div><h3></h3><span>"),ib=w("<div>");const ab=e=>{Te(Re);const[t,n]=Ie(),r=F(()=>pe(t().theme)),[s,i]=L([]),a=F(()=>e.currentClass().subclasses?.length>0?e.currentClass().subclasses:[]),l=F(()=>e.currentClass().classLevels.map(o=>o.features).flat());return(()=>{var o=Z1(),u=o.firstChild,c=u.firstChild,f=c.nextSibling,d=f.nextSibling,m=d.firstChild,_=m.nextSibling;_.firstChild;var v=_.nextSibling,p=v.nextSibling,y=p.nextSibling,b=y.firstChild,$=b.nextSibling;$.nextSibling;var k=y.nextSibling,x=k.nextSibling;x.firstChild;var I=x.nextSibling,S=I.nextSibling,U=S.nextSibling;U.firstChild;var C=d.nextSibling,A=C.nextSibling,P=A.nextSibling,O=P.nextSibling,M=O.nextSibling;return g(c,()=>e.currentClass().name),g(f,h(O1,{Class:()=>e.currentClass()})),g(_,()=>e.currentClass().proficiencies.filter(T=>T.toLowerCase().includes("armor")).join(", "),null),g(v,h(H,{get when(){return!!e.currentClass().proficiencies.filter(T=>T.toLowerCase()==="shields").length},children:", Shields"})),g(y,()=>e.currentClass().proficiencies.filter(T=>T.toLowerCase().includes("weapons")).join(", "),$),g(x,h(H,{get when(){return F(()=>!e.currentClass().proficiencies.map(T=>T.toLowerCase()).includes("tools"))()&&!e.currentClass().proficiencies.map(T=>T.toLowerCase()).includes("kit")},children:"None"}),null),g(x,h(H,{get when(){return!e.currentClass().proficiencies.map(T=>T.toLowerCase()).includes("kit")},get children(){return e.currentClass().proficiencies.filter(T=>T.toLowerCase().includes("kit"))}}),null),g(x,h(H,{get when(){return!e.currentClass().proficiencies.map(T=>T.toLowerCase()).includes("tools")},get children(){return e.currentClass().proficiencies.filter(T=>T.toLowerCase().includes("tools")).join(", ")}}),null),g(U,()=>e.currentClass().savingThrows.join(", "),null),g(u,h(un,{get class(){return`${wt.dropCard}`},get children(){return[J1(),(()=>{var T=pl(),q=T.firstChild;return g(T,h(H,{get when(){return e.currentClass().proficiencyChoices.length>0},get children(){return h(K,{get each(){return e.currentClass().proficiencyChoices},children:N=>[rt(),(()=>{var R=X1();return R.firstChild,g(R,()=>N.choose,null),R})(),rt(),h(K,{get each(){return N.choices},children:R=>[(()=>{var Z=Wn();return g(Z,R),Z})(),rt()]})]})}}),q),T})()]}}),P),g(u,h(un,{get class(){return`${wt.dropCard}`},get children(){return[W1(),(()=>{var T=pl();return T.firstChild,g(T,h(H,{get when(){return e.currentClass().startingEquipment.choice1.length>=1},get children(){return h(K,{get each(){return e.currentClass().startingEquipment.choice1},children:(q,N)=>(()=>{var R=Ys(),Z=R.firstChild,j=Z.nextSibling,W=j.nextSibling;return g(R,h(H,{get when(){return N()<1},get children(){return Q1()}}),Z),g(R,h(H,{get when(){return N()<1},get children(){var re=Mr();return re.firstChild,g(re,()=>q.choose,null),re}}),j),g(W,h(K,{get each(){return q.choices},children:(re,He)=>[rt(),(()=>{var We=Wn();return g(We,()=>re.item),We})(),rt()]})),g(R,h(H,{get when(){return N()<=0},get children(){return[rt(),Fr()]}}),null),R})()})}}),null),g(T,h(H,{get when(){return e.currentClass().startingEquipment.choice2},get children(){return h(K,{get each(){return e.currentClass().startingEquipment.choice2},children:(q,N)=>(()=>{var R=Ys(),Z=R.firstChild,j=Z.nextSibling,W=j.nextSibling;return g(R,h(H,{get when(){return N()<1},get children(){return eb()}}),Z),g(R,h(H,{get when(){return N()<1},get children(){var re=Mr();return re.firstChild,g(re,()=>q.choose,null),re}}),j),g(W,h(K,{get each(){return q.choices},children:re=>[rt(),(()=>{var He=Wn();return g(He,()=>re.item),He})(),rt()]})),g(R,h(H,{get when(){return N()<=0},get children(){return[rt(),Fr()]}}),null),R})()})}}),null),g(T,h(H,{get when(){return e.currentClass().startingEquipment.choice3},get children(){return h(K,{get each(){return e.currentClass().startingEquipment.choice3},children:(q,N)=>(()=>{var R=Ys(),Z=R.firstChild,j=Z.nextSibling,W=j.nextSibling;return g(R,h(H,{get when(){return N()<1},get children(){return tb()}}),Z),g(R,h(H,{get when(){return N()<1},get children(){var re=Mr();return re.firstChild,g(re,()=>q.choose,null),re}}),j),g(W,h(K,{get each(){return q.choices},children:re=>[rt(),(()=>{var He=Wn();return g(He,()=>re.item),He})(),rt()]})),g(R,h(H,{get when(){return N()<=0},get children(){return[rt(),Fr()]}}),null),R})()})}}),null),g(T,h(H,{get when(){return e.currentClass().startingEquipment.choice4},get children(){return h(K,{get each(){return e.currentClass().startingEquipment.choice4},children:(q,N)=>(()=>{var R=rb(),Z=R.firstChild,j=Z.nextSibling;return g(R,h(H,{get when(){return N()<1},get children(){return nb()}}),Z),g(R,h(H,{get when(){return N()<1},get children(){var W=Mr();return W.firstChild,g(W,()=>q.choose,null),W}}),j),g(j,h(K,{get each(){return q.choices},children:W=>[rt(),(()=>{var re=Wn();return g(re,()=>W.item),re})(),rt()]})),g(R,h(H,{get when(){return N()<=0},get children(){return[rt(),Fr()]}}),null),R})()})}}),null),T})()]}}),O),g(u,h(un,{get class(){return`${wt.dropCard}`},get children(){return[G1(),(()=>{var T=Y1(),q=T.firstChild;return g(T,h(K,{get each(){return s()},children:(N,R)=>(()=>{var Z=ib();return g(Z,h(H,{get when(){return!!N.name.trim()||!!N.value.trim()},get children(){var j=sb(),W=j.firstChild,re=W.nextSibling;return g(W,()=>N.name),g(re,()=>Wo(JSON.parse(JSON.stringify(N.value))&&typeof JSON.parse(JSON.stringify(N.value))=="object"&&JSON.parse(JSON.stringify(N.value))!==void 0?JSON.stringify(N.value):N.value)),D(()=>B(j,`${wt.innerFlexBox}`)),j}})),D(()=>B(Z,`${wt.flexbox}`)),Z})()}),q),g(q,h(_s,{items:l,setPaginatedItems:i,itemsPerPage:[2,3,4,5,10]})),D(()=>B(q,`${wt.Center}`)),T})()]}}),M),g(M,h(K,{get each(){return a()},children:T=>h(z1,{subclass:T})})),D(T=>{var q=`${r()?.primary} ${wt.CenterPage}`,N=`${wt.eachPage}`,R=`${wt.left}`,Z=`${wt.subClasses}`;return q!==T.e&&B(o,T.e=q),N!==T.t&&B(u,T.t=N),R!==T.a&&B(d,T.a=R),Z!==T.o&&B(M,T.o=Z),T},{e:void 0,t:void 0,a:void 0,o:void 0}),o})()};var lb=w("<div><div><span></span></div><hr><div>");const ob=()=>{Te(Re);const[e,t]=Ie(),n=F(()=>pe(e().theme)),r=ia(),[s,i]=Zt(),a=r().findIndex(c=>c.name.toLowerCase()===s.name?.toLowerCase()),[l,o]=L(a>=0?a:0);s.name||i({name:r().length>0?r()[l()].name:"barbarian"});const u=F(()=>r().length>0&&l()>=0&&l()<r().length?r()[l()]:{});return F(()=>u().subclasses?.length>0?u().subclasses:[]),D(()=>{i({name:r().length>0?u().name:"barbarian"}),console.table(u())}),(()=>{var c=lb(),f=c.firstChild,d=f.firstChild,m=f.nextSibling,_=m.nextSibling;return g(f,h(de,{onClick:()=>l()===0?o(v=>r().length-1):o(v=>v-1),children:"←"}),d),g(d,()=>u().name),g(f,h(de,{onClick:()=>l()===r().length-1?o(v=>0):o(v=>v+1),children:"→"}),null),m.style.setProperty("width","100%"),g(_,h(ab,{currentClass:u})),D(v=>{var p=`${n()?.primary} ${vl.CenterPage}`,y=`${vl.eachPage}`;return p!==v.e&&B(c,v.e=p),y!==v.t&&B(_,v.t=y),v},{e:void 0,t:void 0}),c})()},Xo=Di(()=>ds(()=>import("./characters-dg5WN4Mh.js"),__vite__mapDeps([0,1,2]))),Qo=Di(()=>ds(()=>import("./create-5_8DxunR.js"),__vite__mapDeps([3,2]))),ec=Di(()=>ds(()=>import("./view-Rr3J-sCQ.js"),__vite__mapDeps([4,1,5]))),cb=document.getElementById("root"),ub=60*1e3;Ho({onRegisteredSW(e,t){t&&setInterval(()=>{Xo.preload(),Qo.preload(),ec.preload(),t.update()},ub)},onRegisterError(e){console.log("SW registration error",e)},onNeedRefresh(){console.log("onNeedRefresh")},onOfflineReady(){console.log("onOfflineReady")}});zc(()=>h(Eu,{root:yg,get children(){return[h(Ce,{path:"/",component:jg}),h(Ce,{path:"/characters",get children(){return[h(Ce,{path:"/",component:Xo}),h(Ce,{path:"/view",component:ec}),h(Ce,{path:"/create",component:Qo})]}}),h(Ce,{path:"/info",get children(){return[h(Ce,{path:"/races",component:r1}),h(Ce,{path:"/spells",component:dl}),h(Ce,{path:"/feats",component:Ap}),h(Ce,{path:"/classes",component:ob}),h(Ce,{path:"/backgrounds",component:v1}),h(Ce,{path:"/*any",component:dl})]}}),h(Ce,{path:"/homebrew",get children(){return[h(Ce,{path:"/",component:Hg}),h(Ce,{path:"/view",component:ol}),h(Ce,{path:"/create",get children(){return[h(Ce,{path:"/",component:Zg}),h(Ce,{path:"/classes",component:ev}),h(Ce,{path:"/subclasses",component:Hm}),h(Ce,{path:"/items",component:lv}),h(Ce,{path:"/feats",component:bv}),h(Ce,{path:"/backgrounds",component:$v}),h(Ce,{path:"/spells",component:kv}),h(Ce,{path:"/races",component:Ev})]}}),h(Ce,{path:"/*any",component:ol})]}})]}}),cb);export{de as B,K as F,h as a,D as b,F as c,B as d,L as e,ia as f,Ie as g,rp as h,g as i,Zo as j,Ep as k,wm as l,s1 as m,hb as n,Zt as o,Ye as s,w as t,pe as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/characters-dg5WN4Mh.js","assets/useCharacters-E5G7rD7H.js","assets/characters-i2fzY9Kk.css","assets/create-5_8DxunR.js","assets/view-Rr3J-sCQ.js","assets/view-aa-IgBHj.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
