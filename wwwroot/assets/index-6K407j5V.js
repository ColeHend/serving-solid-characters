(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const gd="modulepreload",pd=function(t){return"/"+t},Po={},qi=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");s=Promise.all(n.map(a=>{if(a=pd(a),a in Po)return;Po[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":gd,l||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Ke={context:void 0,registry:void 0};function ls(t){Ke.context=t}const md=(t,e)=>t===e,sn=Symbol("solid-proxy"),Ma=Symbol("solid-track"),$i={equals:md};let eu=iu;const Rn=1,Ci=2,tu={owned:null,cleanups:null,context:null,owner:null},Qi={};var He=null;let ea=null,vd=null,Ye=null,Et=null,Sn=null,Ki=0;function Ar(t,e){const n=Ye,r=He,s=t.length===0,i=e===void 0?r:e,a=s?tu:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=s?t:()=>t(()=>We(()=>Hi(a)));He=a,Ye=null;try{return gn(l,!0)}finally{Ye=n,He=r}}function L(t,e){e=e?Object.assign({},$i,e):$i;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),su(n,s));return[ru.bind(n),r]}function Io(t,e,n){const r=zi(t,e,!0,Rn);Ur(r)}function z(t,e,n){const r=zi(t,e,!1,Rn);Ur(r)}function wt(t,e,n){eu=Sd;const r=zi(t,e,!1,Rn);(!n||!n.render)&&(r.user=!0),Sn?Sn.push(r):Ur(r)}function O(t,e,n){n=n?Object.assign({},$i,n):$i;const r=zi(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ur(r),ru.bind(r)}function bd(t){return t&&typeof t=="object"&&"then"in t}function yd(t,e,n){let r,s,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,s=t,i=e||{}):(r=t,s=e,i=n||{});let a=null,l=Qi,c=null,u=!1,h="initialValue"in i,d=typeof r=="function"&&O(r);const f=new Set,[m,_]=(i.storage||L)(i.initialValue),[p,y]=L(void 0),[b,v]=L(void 0,{equals:!1}),[$,S]=L(h?"ready":"unresolved");if(Ke.context){c=`${Ke.context.id}${Ke.context.count++}`;let T;i.ssrLoadFrom==="initial"?l=i.initialValue:Ke.load&&(T=Ke.load(c))&&(l=T)}function C(T,I,E,B){return a===T&&(a=null,B!==void 0&&(h=!0),(T===l||I===l)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(B,{value:I})),l=Qi,P(I,E)),I}function P(T,I){gn(()=>{I===void 0&&_(()=>T),S(I!==void 0?"errored":h?"ready":"unresolved"),y(I);for(const E of f.keys())E.decrement();f.clear()},!1)}function w(){const T=$d,I=m(),E=p();if(E!==void 0&&!a)throw E;return Ye&&!Ye.user&&T&&Io(()=>{b(),a&&(T.resolved||f.has(T)||(T.increment(),f.add(T)))}),I}function F(T=!0){if(T!==!1&&u)return;u=!1;const I=d?d():r;if(I==null||I===!1){C(a,We(m));return}const E=l!==Qi?l:We(()=>s(I,{value:m(),refetching:T}));return bd(E)?(a=E,"value"in E?(E.status==="success"?C(a,E.value,void 0,I):C(a,void 0,void 0,I),E):(u=!0,queueMicrotask(()=>u=!1),gn(()=>{S(h?"refreshing":"pending"),v()},!1),E.then(B=>C(E,B,void 0,I),B=>C(E,void 0,lu(B),I)))):(C(a,E,void 0,I),E)}return Object.defineProperties(w,{state:{get:()=>$()},error:{get:()=>p()},loading:{get(){const T=$();return T==="pending"||T==="refreshing"}},latest:{get(){if(!h)return w();const T=p();if(T&&!a)throw T;return m()}}}),d?Io(()=>F(!1)):F(!1),[w,{refetch:F,mutate:_}]}function _d(t){return gn(t,!1)}function We(t){if(Ye===null)return t();const e=Ye;Ye=null;try{return t()}finally{Ye=e}}function nu(t,e,n){const r=Array.isArray(t);let s,i=n&&n.defer;return a=>{let l;if(r){l=Array(t.length);for(let u=0;u<t.length;u++)l[u]=t[u]()}else l=t();if(i){i=!1;return}const c=We(()=>e(l,s,a));return s=l,c}}function Ut(t){wt(()=>We(t))}function Pn(t){return He===null||(He.cleanups===null?He.cleanups=[t]:He.cleanups.push(t)),t}function Fa(){return Ye}function ki(){return He}function Tl(t,e){const n=He,r=Ye;He=t,Ye=null;try{return gn(e,!0)}catch(s){Al(s)}finally{He=n,Ye=r}}function wd(t){const e=Ye,n=He;return Promise.resolve().then(()=>{Ye=e,He=n;let r;return gn(t,!1),Ye=He=null,r?r.done:void 0})}function Fr(t,e){const n=Symbol("context");return{id:n,Provider:xd(n),defaultValue:t}}function Xe(t){return He&&He.context&&He.context[t.id]!==void 0?He.context[t.id]:t.defaultValue}function jr(t){const e=O(t),n=O(()=>ja(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let $d;function ru(){if(this.sources&&this.state)if(this.state===Rn)Ur(this);else{const t=Et;Et=null,gn(()=>xi(this),!1),Et=t}if(Ye){const t=this.observers?this.observers.length:0;Ye.sources?(Ye.sources.push(this),Ye.sourceSlots.push(t)):(Ye.sources=[this],Ye.sourceSlots=[t]),this.observers?(this.observers.push(Ye),this.observerSlots.push(Ye.sources.length-1)):(this.observers=[Ye],this.observerSlots=[Ye.sources.length-1])}return this.value}function su(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&gn(()=>{for(let s=0;s<t.observers.length;s+=1){const i=t.observers[s],a=ea&&ea.running;a&&ea.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?Et.push(i):Sn.push(i),i.observers&&au(i)),a||(i.state=Rn)}if(Et.length>1e6)throw Et=[],new Error},!1)),e}function Ur(t){if(!t.fn)return;Hi(t);const e=Ki;Cd(t,t.value,e)}function Cd(t,e,n){let r;const s=He,i=Ye;Ye=He=t;try{r=t.fn(e)}catch(a){return t.pure&&(t.state=Rn,t.owned&&t.owned.forEach(Hi),t.owned=null),t.updatedAt=n+1,Al(a)}finally{Ye=i,He=s}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?su(t,r):t.value=r,t.updatedAt=n)}function zi(t,e,n,r=Rn,s){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:He,context:He?He.context:null,pure:n};return He===null||He!==tu&&(He.owned?He.owned.push(i):He.owned=[i]),i}function Si(t){if(t.state===0)return;if(t.state===Ci)return xi(t);if(t.suspense&&We(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ki);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Rn)Ur(t);else if(t.state===Ci){const r=Et;Et=null,gn(()=>xi(t,e[0]),!1),Et=r}}function gn(t,e){if(Et)return t();let n=!1;e||(Et=[]),Sn?n=!0:Sn=[],Ki++;try{const r=t();return kd(n),r}catch(r){n||(Sn=null),Et=null,Al(r)}}function kd(t){if(Et&&(iu(Et),Et=null),t)return;const e=Sn;Sn=null,e.length&&gn(()=>eu(e),!1)}function iu(t){for(let e=0;e<t.length;e++)Si(t[e])}function Sd(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Si(r)}if(Ke.context){if(Ke.count){Ke.effects||(Ke.effects=[]),Ke.effects.push(...t.slice(0,n));return}else Ke.effects&&(t=[...Ke.effects,...t],n+=Ke.effects.length,delete Ke.effects);ls()}for(e=0;e<n;e++)Si(t[e])}function xi(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const s=r.state;s===Rn?r!==e&&(!r.updatedAt||r.updatedAt<Ki)&&Si(r):s===Ci&&xi(r,e)}}}function au(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Ci,n.pure?Et.push(n):Sn.push(n),n.observers&&au(n))}}function Hi(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),a=n.observerSlots.pop();r<s.length&&(i.sourceSlots[a]=r,s[r]=i,n.observerSlots[r]=a)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Hi(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function lu(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Al(t,e=He){throw lu(t)}function ja(t){if(typeof t=="function"&&!t.length)return ja(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=ja(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function xd(t,e){return function(r){let s;return z(()=>s=We(()=>(He.context={...He.context,[t]:r.value},jr(()=>r.children))),void 0),s}}const Td=Symbol("fallback");function Oo(t){for(let e=0;e<t.length;e++)t[e]()}function Ad(t,e,n={}){let r=[],s=[],i=[],a=0,l=e.length>1?[]:null;return Pn(()=>Oo(i)),()=>{let c=t()||[],u,h;return c[Ma],We(()=>{let f=c.length,m,_,p,y,b,v,$,S,C;if(f===0)a!==0&&(Oo(i),i=[],r=[],s=[],a=0,l&&(l=[])),n.fallback&&(r=[Td],s[0]=Ar(P=>(i[0]=P,n.fallback())),a=1);else if(a===0){for(s=new Array(f),h=0;h<f;h++)r[h]=c[h],s[h]=Ar(d);a=f}else{for(p=new Array(f),y=new Array(f),l&&(b=new Array(f)),v=0,$=Math.min(a,f);v<$&&r[v]===c[v];v++);for($=a-1,S=f-1;$>=v&&S>=v&&r[$]===c[S];$--,S--)p[S]=s[$],y[S]=i[$],l&&(b[S]=l[$]);for(m=new Map,_=new Array(S+1),h=S;h>=v;h--)C=c[h],u=m.get(C),_[h]=u===void 0?-1:u,m.set(C,h);for(u=v;u<=$;u++)C=r[u],h=m.get(C),h!==void 0&&h!==-1?(p[h]=s[u],y[h]=i[u],l&&(b[h]=l[u]),h=_[h],m.set(C,h)):i[u]();for(h=v;h<f;h++)h in p?(s[h]=p[h],i[h]=y[h],l&&(l[h]=b[h],l[h](h))):s[h]=Ar(d);s=s.slice(0,a=f),r=c.slice(0)}return s});function d(f){if(i[h]=f,l){const[m,_]=L(h);return l[h]=_,e(c[h],m)}return e(c[h])}}}function o(t,e){return We(()=>t(e||{}))}function js(){return!0}const Ua={get(t,e,n){return e===sn?n:t.get(e)},has(t,e){return e===sn?!0:t.has(e)},set:js,deleteProperty:js,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:js,deleteProperty:js}},ownKeys(t){return t.keys()}};function ta(t){return(t=typeof t=="function"?t():t)?t:{}}function Ed(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function ht(...t){let e=!1;for(let a=0;a<t.length;a++){const l=t[a];e=e||!!l&&sn in l,t[a]=typeof l=="function"?(e=!0,O(l)):l}if(e)return new Proxy({get(a){for(let l=t.length-1;l>=0;l--){const c=ta(t[l])[a];if(c!==void 0)return c}},has(a){for(let l=t.length-1;l>=0;l--)if(a in ta(t[l]))return!0;return!1},keys(){const a=[];for(let l=0;l<t.length;l++)a.push(...Object.keys(ta(t[l])));return[...new Set(a)]}},Ua);const n={},r=Object.create(null);for(let a=t.length-1;a>=0;a--){const l=t[a];if(!l)continue;const c=Object.getOwnPropertyNames(l);for(let u=c.length-1;u>=0;u--){const h=c[u];if(h==="__proto__"||h==="constructor")continue;const d=Object.getOwnPropertyDescriptor(l,h);if(!r[h])r[h]=d.get?{enumerable:!0,configurable:!0,get:Ed.bind(n[h]=[d.get.bind(l)])}:d.value!==void 0?d:void 0;else{const f=n[h];f&&(d.get?f.push(d.get.bind(l)):d.value!==void 0&&f.push(()=>d.value))}}}const s={},i=Object.keys(r);for(let a=i.length-1;a>=0;a--){const l=i[a],c=r[l];c&&c.get?Object.defineProperty(s,l,c):s[l]=c?c.value:void 0}return s}function St(t,...e){if(sn in t){const s=new Set(e.length>1?e.flat():e[0]),i=e.map(a=>new Proxy({get(l){return a.includes(l)?t[l]:void 0},has(l){return a.includes(l)&&l in t},keys(){return a.filter(l=>l in t)}},Ua));return i.push(new Proxy({get(a){return s.has(a)?void 0:t[a]},has(a){return s.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!s.has(a))}},Ua)),i}const n={},r=e.map(()=>({}));for(const s of Object.getOwnPropertyNames(t)){const i=Object.getOwnPropertyDescriptor(t,s),a=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let l=!1,c=0;for(const u of e)u.includes(s)&&(l=!0,a?r[c][s]=i.value:Object.defineProperty(r[c],s,i)),++c;l||(a?n[s]=i.value:Object.defineProperty(n,s,i))}return[...r,n]}function El(t){let e,n;const r=s=>{const i=Ke.context;if(i){const[l,c]=L();Ke.count||(Ke.count=0),Ke.count++,(n||(n=t())).then(u=>{ls(i),Ke.count--,c(()=>u.default),ls()}),e=l}else if(!e){const[l]=yd(()=>(n||(n=t())).then(c=>c.default));e=l}let a;return O(()=>(a=e())&&We(()=>{if(!i)return a(s);const l=Ke.context;ls(i);const c=a(s);return ls(l),c}))};return r.preload=()=>n||((n=t()).then(s=>e=()=>s.default),n),r}const ou=t=>`Stale read from <${t}>.`;function J(t){const e="fallback"in t&&{fallback:()=>t.fallback};return O(Ad(()=>t.each,t.children,e||void 0))}function V(t){const e=t.keyed,n=O(()=>t.when,void 0,{equals:(r,s)=>e?r===s:!r==!s});return O(()=>{const r=n();if(r){const s=t.children;return typeof s=="function"&&s.length>0?We(()=>s(e?r:()=>{if(!We(n))throw ou("Show");return t.when})):s}return t.fallback},void 0,void 0)}function bs(t){let e=!1;const n=(i,a)=>(e?i[1]===a[1]:!i[1]==!a[1])&&i[2]===a[2],r=jr(()=>t.children),s=O(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let a=0;a<i.length;a++){const l=i[a].when;if(l)return e=!!i[a].keyed,[a,l,i[a]]}return[-1]},void 0,{equals:n});return O(()=>{const[i,a,l]=s();if(i<0)return t.fallback;const c=l.children;return typeof c=="function"&&c.length>0?We(()=>c(e?a:()=>{if(We(s)[0]!==i)throw ou("Match");return l.when})):c},void 0,void 0)}function jt(t){return t}const Ld=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Pd=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ld]),Id=new Set(["innerHTML","textContent","innerText","children"]),Od=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Rd=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Dd(t,e){const n=Rd[t];return typeof n=="object"?n[e]?n.$:void 0:n}const Bd=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Nd={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Md(t,e,n){let r=n.length,s=e.length,i=r,a=0,l=0,c=e[s-1].nextSibling,u=null;for(;a<s||l<i;){if(e[a]===n[l]){a++,l++;continue}for(;e[s-1]===n[i-1];)s--,i--;if(s===a){const h=i<r?l?n[l-1].nextSibling:n[i-l]:c;for(;l<i;)t.insertBefore(n[l++],h)}else if(i===l)for(;a<s;)(!u||!u.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[i-1]&&n[l]===e[s-1]){const h=e[--s].nextSibling;t.insertBefore(n[l++],e[a++].nextSibling),t.insertBefore(n[--i],h),e[s]=n[i]}else{if(!u){u=new Map;let d=l;for(;d<i;)u.set(n[d],d++)}const h=u.get(e[a]);if(h!=null)if(l<h&&h<i){let d=a,f=1,m;for(;++d<s&&d<i&&!((m=u.get(e[d]))==null||m!==h+f);)f++;if(f>h-l){const _=e[a];for(;l<h;)t.insertBefore(n[l++],_)}else t.replaceChild(n[l++],e[a++])}else a++;else e[a++].remove()}}}const Ro="_$DX_DELEGATE";function Fd(t,e,n,r={}){let s;return Ar(i=>{s=i,e===document?t():g(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{s(),e.textContent=""}}function k(t,e,n){let r;const s=()=>{const a=document.createElement("template");return a.innerHTML=t,n?a.content.firstChild.firstChild:a.content.firstChild},i=e?()=>We(()=>document.importNode(r||(r=s()),!0)):()=>(r||(r=s())).cloneNode(!0);return i.cloneNode=i,i}function Jt(t,e=window.document){const n=e[Ro]||(e[Ro]=new Set);for(let r=0,s=t.length;r<s;r++){const i=t[r];n.has(i)||(n.add(i),e.addEventListener(i,Hd))}}function dt(t,e,n){Ke.context||(n==null?t.removeAttribute(e):t.setAttribute(e,n))}function jd(t,e,n,r){Ke.context||(r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r))}function D(t,e){Ke.context||(e==null?t.removeAttribute("class"):t.className=e)}function Ud(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const s=n[0];t.addEventListener(e,n[0]=i=>s.call(t,n[1],i))}else t.addEventListener(e,n)}function qd(t,e,n={}){const r=Object.keys(e||{}),s=Object.keys(n);let i,a;for(i=0,a=s.length;i<a;i++){const l=s[i];!l||l==="undefined"||e[l]||(Do(t,l,!1),delete n[l])}for(i=0,a=r.length;i<a;i++){const l=r[i],c=!!e[l];!l||l==="undefined"||n[l]===c||!c||(Do(t,l,!0),n[l]=c)}return n}function Ll(t,e,n){if(!e)return n?dt(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let s,i;for(i in n)e[i]==null&&r.removeProperty(i),delete n[i];for(i in e)s=e[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function ft(t,e={},n,r){const s={};return r||z(()=>s.children=Br(t,e.children,s.children)),z(()=>e.ref&&e.ref(t)),z(()=>Kd(t,e,n,!0,s,!0)),s}function Wn(t,e,n){return We(()=>t(e,n))}function g(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return Br(t,e,r,n);z(s=>Br(t,e(),s,n),r)}function Kd(t,e,n,r,s={},i=!1){e||(e={});for(const a in s)if(!(a in e)){if(a==="children")continue;s[a]=Bo(t,a,null,s[a],n,i)}for(const a in e){if(a==="children"){r||Br(t,e.children);continue}const l=e[a];s[a]=Bo(t,a,l,s[a],n,i)}}function zd(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Do(t,e,n){const r=e.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)t.classList.toggle(r[s],n)}function Bo(t,e,n,r,s,i){let a,l,c,u,h;if(e==="style")return Ll(t,n,r);if(e==="classList")return qd(t,n,r);if(n===r)return r;if(e==="ref")i||n(t);else if(e.slice(0,3)==="on:"){const d=e.slice(3);r&&t.removeEventListener(d,r),n&&t.addEventListener(d,n)}else if(e.slice(0,10)==="oncapture:"){const d=e.slice(10);r&&t.removeEventListener(d,r,!0),n&&t.addEventListener(d,n,!0)}else if(e.slice(0,2)==="on"){const d=e.slice(2).toLowerCase(),f=Bd.has(d);if(!f&&r){const m=Array.isArray(r)?r[0]:r;t.removeEventListener(d,m)}(f||n)&&(Ud(t,d,n,f),f&&Jt([d]))}else if(e.slice(0,5)==="attr:")dt(t,e.slice(5),n);else if((h=e.slice(0,5)==="prop:")||(c=Id.has(e))||!s&&((u=Dd(e,t.tagName))||(l=Pd.has(e)))||(a=t.nodeName.includes("-"))){if(h)e=e.slice(5),l=!0;else if(Ke.context)return n;e==="class"||e==="className"?D(t,n):a&&!l&&!c?t[zd(e)]=n:t[u||e]=n}else{const d=s&&e.indexOf(":")>-1&&Nd[e.split(":")[0]];d?jd(t,d,e,n):dt(t,Od[e]||e,n)}return n}function Hd(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),Ke.registry&&!Ke.done&&(Ke.done=_$HY.done=!0);n;){const r=n[e];if(r&&!n.disabled){const s=n[`${e}Data`];if(s!==void 0?r.call(n,s,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Br(t,e,n,r,s){if(Ke.context){!n&&(n=[...t.childNodes]);let l=[];for(let c=0;c<n.length;c++){const u=n[c];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():l.push(u)}n=l}for(;typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,a=r!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(Ke.context)return n;if(i==="number"&&(e=e.toString()),a){let l=n[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),n=wr(t,n,r,l)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean"){if(Ke.context)return n;n=wr(t,n,r)}else{if(i==="function")return z(()=>{let l=e();for(;typeof l=="function";)l=l();n=Br(t,l,n,r)}),()=>n;if(Array.isArray(e)){const l=[],c=n&&Array.isArray(n);if(qa(l,e,n,s))return z(()=>n=Br(t,l,n,r,!0)),()=>n;if(Ke.context){if(!l.length)return n;if(r===void 0)return[...t.childNodes];let u=l[0],h=[u];for(;(u=u.nextSibling)!==r;)h.push(u);return n=h}if(l.length===0){if(n=wr(t,n,r),a)return n}else c?n.length===0?No(t,l,r):Md(t,n,l):(n&&wr(t),No(t,l));n=l}else if(e.nodeType){if(Ke.context&&e.parentNode)return n=a?[e]:e;if(Array.isArray(n)){if(a)return n=wr(t,n,r,e);wr(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function qa(t,e,n,r){let s=!1;for(let i=0,a=e.length;i<a;i++){let l=e[i],c=n&&n[i],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)t.push(l);else if(Array.isArray(l))s=qa(t,l,c)||s;else if(u==="function")if(r){for(;typeof l=="function";)l=l();s=qa(t,Array.isArray(l)?l:[l],Array.isArray(c)?c:[c])||s}else t.push(l),s=!0;else{const h=String(l);c&&c.nodeType===3&&c.data===h?t.push(c):t.push(document.createTextNode(h))}}return s}function No(t,e,n=null){for(let r=0,s=e.length;r<s;r++)t.insertBefore(e[r],n)}function wr(t,e,n,r){if(n===void 0)return t.textContent="";const s=r||document.createTextNode("");if(e.length){let i=!1;for(let a=e.length-1;a>=0;a--){const l=e[a];if(s!==l){const c=l.parentNode===t;!i&&!a?c?t.replaceChild(s,l):t.insertBefore(s,n):c&&l.remove()}else i=!0}}else t.insertBefore(s,n);return[s]}const Wd=!1,Vd="http://www.w3.org/2000/svg";function Gd(t,e=!1){return e?document.createElementNS(Vd,t):document.createElement(t)}function Pl(t){const{useShadow:e}=t,n=document.createTextNode(""),r=()=>t.mount||document.body,s=ki();let i,a=!!Ke.context;return wt(()=>{a&&(ki().user=a=!1),i||(i=Tl(s,()=>O(()=>t.children)));const l=r();if(l instanceof HTMLHeadElement){const[c,u]=L(!1),h=()=>u(!0);Ar(d=>g(l,()=>c()?d():i(),null)),Pn(h)}else{const c=Gd(t.isSVG?"g":"div",t.isSVG),u=e&&c.attachShadow?c.attachShadow({mode:"open"}):c;Object.defineProperty(c,"_$host",{get(){return n.parentNode},configurable:!0}),g(u,i),l.appendChild(c),t.ref&&t.ref(c),Pn(()=>l.removeChild(c))}},void 0,{render:!a}),n}function cu(){let t=new Set;function e(s){return t.add(s),()=>t.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const a={to:s,options:i,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const l of t)l.listener({...a,from:l.location,retry:c=>{c&&(n=!0),l.navigate(s,{...i,resolve:!1})}});return!a.defaultPrevented}return{subscribe:e,confirm:r}}let Ka;function Il(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Ka=window.history.state._depth}Il();function Yd(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function Zd(t,e){let n=!1;return()=>{const r=Ka;Il();const s=r==null?null:Ka-r;if(n){n=!1;return}s&&e(s)?(n=!0,window.history.go(-s)):t()}}const Xd=/^(?:[a-z0-9]+:)?\/\//i,Jd=/^\/+|(\/)\/+$/g,uu="http://sr";function or(t,e=!1){const n=t.replace(Jd,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function ui(t,e,n){if(Xd.test(e))return;const r=or(t),s=n&&or(n);let i="";return!s||e.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+or(e,!i)}function Qd(t,e){if(t==null)throw new Error(e);return t}function ef(t,e){return or(t).replace(/\/*(\*.*)?$/g,"")+or(e)}function hu(t){const e={};return t.searchParams.forEach((n,r)=>{e[r]=n}),e}function tf(t,e,n){const[r,s]=t.split("/*",2),i=r.split("/").filter(Boolean),a=i.length;return l=>{const c=l.split("/").filter(Boolean),u=c.length-a;if(u<0||u>0&&s===void 0&&!e)return null;const h={path:a?"":"/",params:{}},d=f=>n===void 0?void 0:n[f];for(let f=0;f<a;f++){const m=i[f],_=c[f],p=m[0]===":",y=p?m.slice(1):m;if(p&&na(_,d(y)))h.params[y]=_;else if(p||!na(_,m))return null;h.path+=`/${_}`}if(s){const f=u?c.slice(-u).join("/"):"";if(na(f,d(s)))h.params[s]=f;else return null}return h}}function na(t,e){const n=r=>r.localeCompare(t,void 0,{sensitivity:"base"})===0;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function nf(t){const[e,n]=t.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function du(t){const e=new Map,n=ki();return new Proxy({},{get(r,s){return e.has(s)||Tl(n,()=>e.set(s,O(()=>t()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function rf(t,e){const n=new URLSearchParams(t);Object.entries(e).forEach(([s,i])=>{i==null||i===""?n.delete(s):n.set(s,String(i))});const r=n.toString();return r?`?${r}`:""}function fu(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),r=t.slice(e.index+e[0].length);const s=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=e[1]),r=r.slice(e[0].length);return fu(r).reduce((i,a)=>[...i,...s.map(l=>l+a)],[])}const sf=100,gu=Fr(),Ol=Fr(),Ps=()=>Qd(Xe(gu),"<A> and 'use' router primitives can be only used inside a Route."),af=()=>Xe(Ol)||Ps().base,lf=t=>{const e=af();return O(()=>e.resolvePath(t()))},of=t=>{const e=Ps();return O(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},Rl=()=>Ps().navigatorFactory(),pu=()=>Ps().location,xC=()=>Ps().params,pn=()=>{const t=pu(),e=Rl(),n=(r,s)=>{const i=We(()=>t.pathname+rf(t.search,r)+t.hash);e(i,{scroll:!1,resolve:!1,...s})};return[t.query,n]};function cf(t,e=""){const{component:n,load:r,children:s,info:i}=t,a=!s||Array.isArray(s)&&!s.length,l={key:t,component:n,load:r,info:i};return mu(t.path).reduce((c,u)=>{for(const h of fu(u)){const d=ef(e,h);let f=a?d:d.split("/*",1)[0];f=f.split("/").map(m=>m.startsWith(":")||m.startsWith("*")?m:encodeURIComponent(m)).join("/"),c.push({...l,originalPath:u,pattern:f,matcher:tf(f,!a,t.matchFilters)})}return c},[])}function uf(t,e=0){return{routes:t,score:nf(t[t.length-1])*1e4-e,matcher(n){const r=[];for(let s=t.length-1;s>=0;s--){const i=t[s],a=i.matcher(n);if(!a)return null;r.unshift({...a,route:i})}return r}}}function mu(t){return Array.isArray(t)?t:[t]}function vu(t,e="",n=[],r=[]){const s=mu(t);for(let i=0,a=s.length;i<a;i++){const l=s[i];if(l&&typeof l=="object"){l.hasOwnProperty("path")||(l.path="");const c=cf(l,e);for(const u of c){n.push(u);const h=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!h)vu(l.children,u.pattern,n,r);else{const d=uf([...n],r.length);r.push(d)}n.pop()}}}return n.length?r:r.sort((i,a)=>a.score-i.score)}function ra(t,e){for(let n=0,r=t.length;n<r;n++){const s=t[n].matcher(e);if(s)return s}return[]}function hf(t,e){const n=new URL(uu),r=O(c=>{const u=t();try{return new URL(u,n)}catch{return console.error(`Invalid path ${u}`),c}},n,{equals:(c,u)=>c.href===u.href}),s=O(()=>r().pathname),i=O(()=>r().search,!0),a=O(()=>r().hash),l=()=>"";return{get pathname(){return s()},get search(){return i()},get hash(){return a()},get state(){return e()},get key(){return l()},query:du(nu(i,()=>hu(r())))}}let _n;function df(){return _n}function ff(t,e,n,r={}){const{signal:[s,i],utils:a={}}=t,l=a.parsePath||(B=>B),c=a.renderPath||(B=>B),u=a.beforeLeave||cu(),h=ui("",r.base||"");if(h===void 0)throw new Error(`${h} is not a valid base path`);h&&!s().value&&i({value:h,replace:!0,scroll:!1});const[d,f]=L(!1),m=async B=>{f(!0);try{await wd(B)}finally{f(!1)}},[_,p]=L(s().value),[y,b]=L(s().state),v=hf(_,y),$=[],S=L([]),C=O(()=>typeof r.transformUrl=="function"?ra(e(),r.transformUrl(v.pathname)):ra(e(),v.pathname)),P=du(()=>{const B=C(),U={};for(let W=0;W<B.length;W++)Object.assign(U,B[W].params);return U}),w={pattern:h,path:()=>h,outlet:()=>null,resolvePath(B){return ui(h,B)}};return z(()=>{const{value:B,state:U}=s();We(()=>{m(()=>{_n="native",B!==_()&&p(B),b(U),S[1]([])}).then(()=>{_n=void 0})})}),{base:w,location:v,params:P,isRouting:d,renderPath:c,parsePath:l,navigatorFactory:T,matches:C,beforeLeave:u,preloadRoute:E,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:S};function F(B,U,W){We(()=>{if(typeof U=="number"){U&&(a.go?a.go(U):console.warn("Router integration does not support relative routing"));return}const{replace:Q,resolve:le,scroll:ve,state:Ae}={replace:!1,resolve:!0,scroll:!0,...W},q=le?B.resolvePath(U):ui("",U);if(q===void 0)throw new Error(`Path '${U}' is not a routable path`);if($.length>=sf)throw new Error("Too many redirects");const K=_();if((q!==K||Ae!==y())&&!Wd){if(u.confirm(q,W)){const G=$.push({value:K,replace:Q,scroll:ve,state:y()});m(()=>{_n="navigate",p(q),b(Ae),S[1]([])}).then(()=>{$.length===G&&(_n=void 0,I({value:q,state:Ae}))})}}})}function T(B){return B=B||Xe(Ol)||w,(U,W)=>F(B,U,W)}function I(B){const U=$[0];U&&((B.value!==U.value||B.state!==U.state)&&i({...B,replace:U.replace,scroll:U.scroll}),$.length=0)}function E(B,U){const W=ra(e(),B.pathname),Q=_n;_n="preload";for(let le in W){const{route:ve,params:Ae}=W[le];ve.component&&ve.component.preload&&ve.component.preload();const{load:q}=ve;U&&q&&Tl(n(),()=>q({params:Ae,location:{pathname:B.pathname,search:B.search,hash:B.hash,query:hu(B),state:null,key:""},intent:"preload"}))}_n=Q}}function gf(t,e,n,r){const{base:s,location:i,params:a}=t,{pattern:l,component:c,load:u}=r().route,h=O(()=>r().path);c&&c.preload&&c.preload();const d=u?u({params:a,location:i,intent:_n||"initial"}):void 0;return{parent:e,pattern:l,path:h,outlet:()=>c?o(c,{params:a,location:i,data:d,get children(){return n()}}):n(),resolvePath(m){return ui(s.path(),m,h())}}}const pf=t=>e=>{const{base:n}=e,r=jr(()=>e.children),s=O(()=>vu(r(),e.base||""));let i;const a=ff(t,s,()=>i,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(a),o(gu.Provider,{value:a,get children(){return o(mf,{routerState:a,get root(){return e.root},get load(){return e.rootLoad},get children(){return[O(()=>(i=ki())&&null),o(vf,{routerState:a,get branches(){return s()}})]}})}})};function mf(t){const e=t.routerState.location,n=t.routerState.params,r=O(()=>t.load&&We(()=>{t.load({params:n,location:e,intent:df()||"initial"})}));return o(V,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:s=>o(s,{params:n,location:e,get data(){return r()},get children(){return t.children}})})}function vf(t){const e=[];let n;const r=O(nu(t.routerState.matches,(s,i,a)=>{let l=i&&s.length===i.length;const c=[];for(let u=0,h=s.length;u<h;u++){const d=i&&i[u],f=s[u];a&&d&&f.route.key===d.route.key?c[u]=a[u]:(l=!1,e[u]&&e[u](),Ar(m=>{e[u]=m,c[u]=gf(t.routerState,c[u-1]||t.routerState.base,Mo(()=>r()[u+1]),()=>t.routerState.matches()[u])}))}return e.splice(s.length).forEach(u=>u()),a&&l?a:(n=c[0],c)}));return Mo(()=>r()&&n)()}const Mo=t=>()=>o(V,{get when(){return t()},keyed:!0,children:e=>o(Ol.Provider,{value:e,get children(){return e.outlet()}})}),at=t=>{const e=jr(()=>t.children);return ht(t,{get children(){return e()}})};function bf([t,e],n,r){return[n?()=>n(t()):t,r?s=>e(r(s)):e]}function yf(t){if(t==="#")return null;try{return document.querySelector(t)}catch{return null}}function _f(t){let e=!1;const n=s=>typeof s=="string"?{value:s}:s,r=bf(L(n(t.get()),{equals:(s,i)=>s.value===i.value&&s.state===i.state}),void 0,s=>(!e&&t.set(s),s));return t.init&&Pn(t.init((s=t.get())=>{e=!0,r[1](n(s)),e=!1})),pf({signal:r,create:t.create,utils:t.utils})}function wf(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function $f(t,e){const n=yf(`#${t}`);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const Cf=new Map;function kf(t=!0,e=!1,n="/_server",r){return s=>{const i=s.base.path(),a=s.navigatorFactory(s.base);let l={};function c(p){return p.namespaceURI==="http://www.w3.org/2000/svg"}function u(p){if(p.defaultPrevented||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)return;const y=p.composedPath().find(P=>P instanceof Node&&P.nodeName.toUpperCase()==="A");if(!y||e&&!y.hasAttribute("link"))return;const b=c(y),v=b?y.href.baseVal:y.href;if((b?y.target.baseVal:y.target)||!v&&!y.hasAttribute("state"))return;const S=(y.getAttribute("rel")||"").split(/\s+/);if(y.hasAttribute("download")||S&&S.includes("external"))return;const C=b?new URL(v,document.baseURI):new URL(v);if(!(C.origin!==window.location.origin||i&&C.pathname&&!C.pathname.toLowerCase().startsWith(i.toLowerCase())))return[y,C]}function h(p){const y=u(p);if(!y)return;const[b,v]=y,$=s.parsePath(v.pathname+v.search+v.hash),S=b.getAttribute("state");p.preventDefault(),a($,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:S&&JSON.parse(S)})}function d(p){const y=u(p);if(!y)return;const[b,v]=y;typeof r=="function"&&(v.pathname=r(v.pathname)),l[v.pathname]||s.preloadRoute(v,b.getAttribute("preload")!=="false")}function f(p){const y=u(p);if(!y)return;const[b,v]=y;typeof r=="function"&&(v.pathname=r(v.pathname)),!l[v.pathname]&&(l[v.pathname]=setTimeout(()=>{s.preloadRoute(v,b.getAttribute("preload")!=="false"),delete l[v.pathname]},200))}function m(p){const y=u(p);if(!y)return;const[,b]=y;typeof r=="function"&&(b.pathname=r(b.pathname)),l[b.pathname]&&(clearTimeout(l[b.pathname]),delete l[b.pathname])}function _(p){if(p.defaultPrevented)return;let y=p.submitter&&p.submitter.hasAttribute("formaction")?p.submitter.getAttribute("formaction"):p.target.getAttribute("action");if(!y)return;if(!y.startsWith("https://action/")){const v=new URL(y,uu);if(y=s.parsePath(v.pathname+v.search),!y.startsWith(n))return}if(p.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=Cf.get(y);if(b){p.preventDefault();const v=new FormData(p.target);p.submitter&&p.submitter.name&&v.append(p.submitter.name,p.submitter.value),b.call({r:s,f:p.target},v)}}Jt(["click","submit"]),document.addEventListener("click",h),t&&(document.addEventListener("mouseover",f),document.addEventListener("mouseout",m),document.addEventListener("focusin",d),document.addEventListener("touchstart",d)),document.addEventListener("submit",_),Pn(()=>{document.removeEventListener("click",h),t&&(document.removeEventListener("mouseover",f),document.removeEventListener("mouseout",m),document.removeEventListener("focusin",d),document.removeEventListener("touchstart",d)),document.removeEventListener("submit",_)})}}function Sf(t){const e=()=>{const r=window.location.pathname+window.location.search;return{value:t.transformUrl?t.transformUrl(r)+window.location.hash:r+window.location.hash,state:window.history.state}},n=cu();return _f({get:e,set({value:r,replace:s,scroll:i,state:a}){s?window.history.replaceState(Yd(a),"",r):window.history.pushState(a,"",r),$f(window.location.hash.slice(1),i),Il()},init:r=>wf(window,"popstate",Zd(r,s=>{if(s&&s<0)return!n.confirm(s);{const i=e();return!n.confirm(i.value,{state:i.state})}})),create:kf(t.preload,t.explicitLinks,t.actionBase,t.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(t)}var xf=k("<a>");function ar(t){t=ht({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=St(t,["href","state","class","activeClass","inactiveClass","end"]),n=lf(()=>t.href),r=of(n),s=pu(),i=O(()=>{const a=n();if(a===void 0)return[!1,!1];const l=or(a.split(/[?#]/,1)[0]).toLowerCase(),c=or(s.pathname).toLowerCase();return[t.end?l===c:c.startsWith(l),l===c]});return(()=>{var a=xf();return ft(a,ht(e,{get href(){return r()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!i()[0],[t.activeClass]:i()[0],...e.classList}},link:"",get"aria-current"(){return i()[1]?"page":void 0}}),!1,!1),a})()}const za=Symbol("store-raw"),Er=Symbol("store-node"),wn=Symbol("store-has"),bu=Symbol("store-self");function yu(t){let e=t[sn];if(!e&&(Object.defineProperty(t,sn,{value:e=new Proxy(t,Ef)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let s=0,i=n.length;s<i;s++){const a=n[s];r[a].get&&Object.defineProperty(t,a,{enumerable:r[a].enumerable,get:r[a].get.bind(e)})}}return e}function Ti(t){let e;return t!=null&&typeof t=="object"&&(t[sn]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function ys(t,e=new Set){let n,r,s,i;if(n=t!=null&&t[za])return n;if(!Ti(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,l=t.length;a<l;a++)s=t[a],(r=ys(s,e))!==s&&(t[a]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),l=Object.getOwnPropertyDescriptors(t);for(let c=0,u=a.length;c<u;c++)i=a[c],!l[i].get&&(s=t[i],(r=ys(s,e))!==s&&(t[i]=r))}return t}function Ai(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function _s(t,e,n){if(t[e])return t[e];const[r,s]=L(n,{equals:!1,internal:!0});return r.$=s,t[e]=r}function Tf(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===sn||e===Er||(delete n.value,delete n.writable,n.get=()=>t[sn][e]),n}function _u(t){Fa()&&_s(Ai(t,Er),bu)()}function Af(t){return _u(t),Reflect.ownKeys(t)}const Ef={get(t,e,n){if(e===za)return t;if(e===sn)return n;if(e===Ma)return _u(t),n;const r=Ai(t,Er),s=r[e];let i=s?s():t[e];if(e===Er||e===wn||e==="__proto__")return i;if(!s){const a=Object.getOwnPropertyDescriptor(t,e);Fa()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(i=_s(r,e,i)())}return Ti(i)?yu(i):i},has(t,e){return e===za||e===sn||e===Ma||e===Er||e===wn||e==="__proto__"?!0:(Fa()&&_s(Ai(t,wn),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Af,getOwnPropertyDescriptor:Tf};function Ei(t,e,n,r=!1){if(!r&&t[e]===n)return;const s=t[e],i=t.length;n===void 0?(delete t[e],t[wn]&&t[wn][e]&&s!==void 0&&t[wn][e].$()):(t[e]=n,t[wn]&&t[wn][e]&&s===void 0&&t[wn][e].$());let a=Ai(t,Er),l;if((l=_s(a,e,s))&&l.$(()=>n),Array.isArray(t)&&t.length!==i){for(let c=t.length;c<i;c++)(l=a[c])&&l.$();(l=_s(a,"length",i))&&l.$(t.length)}(l=a[bu])&&l.$()}function wu(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const s=n[r];Ei(t,s,e[s])}}function Lf(t,e){if(typeof e=="function"&&(e=e(t)),e=ys(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const s=e[n];t[n]!==s&&Ei(t,n,s)}Ei(t,"length",r)}else wu(t,e)}function os(t,e,n=[]){let r,s=t;if(e.length>1){r=e.shift();const a=typeof r,l=Array.isArray(t);if(Array.isArray(r)){for(let c=0;c<r.length;c++)os(t,[r[c]].concat(e),n);return}else if(l&&a==="function"){for(let c=0;c<t.length;c++)r(t[c],c)&&os(t,[c].concat(e),n);return}else if(l&&a==="object"){const{from:c=0,to:u=t.length-1,by:h=1}=r;for(let d=c;d<=u;d+=h)os(t,[d].concat(e),n);return}else if(e.length>1){os(t[r],e,[r].concat(n));return}s=t[r],n=[r].concat(n)}let i=e[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=ys(i),r===void 0||Ti(s)&&Ti(i)&&!Array.isArray(i)?wu(s,i):Ei(t,r,i))}function hs(...[t,e]){const n=ys(t||{}),r=Array.isArray(n),s=yu(n);function i(...a){_d(()=>{r&&a.length===1?Lf(n,a[0]):os(n,a)})}return[s,i]}var Ha=function(t,e){return Ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ha(t,e)};function Dn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ha(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Pf(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function $u(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(h){return c([u,h])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Nr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ws(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function $s(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Lr(t){return this instanceof Lr?(this.v=t,this):new Lr(t)}function If(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(f){r[f]&&(s[f]=function(m){return new Promise(function(_,p){i.push([f,m,_,p])>1||l(f,m)})})}function l(f,m){try{c(r[f](m))}catch(_){d(i[0][3],_)}}function c(f){f.value instanceof Lr?Promise.resolve(f.value.v).then(u,h):d(i[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,m){f(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Of(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Nr=="function"?Nr(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(a){return new Promise(function(l,c){a=t[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function mt(t){return typeof t=="function"}function Cu(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var sa=Cu(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,s){return s+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Li(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Is=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,s,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var l=Nr(a),c=l.next();!c.done;c=l.next()){var u=c.value;u.remove(this)}}catch(p){e={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}else a.remove(this);var h=this.initialTeardown;if(mt(h))try{h()}catch(p){i=p instanceof sa?p.errors:[p]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=Nr(d),m=f.next();!m.done;m=f.next()){var _=m.value;try{Fo(_)}catch(p){i=i??[],p instanceof sa?i=$s($s([],ws(i)),ws(p.errors)):i.push(p)}}}catch(p){r={error:p}}finally{try{m&&!m.done&&(s=f.return)&&s.call(f)}finally{if(r)throw r.error}}}if(i)throw new sa(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Fo(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Li(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Li(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),ku=Is.EMPTY;function Su(t){return t instanceof Is||t&&"closed"in t&&mt(t.remove)&&mt(t.add)&&mt(t.unsubscribe)}function Fo(t){mt(t)?t():t.unsubscribe()}var xu={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Tu={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,$s([t,e],ws(n)))},clearTimeout:function(t){var e=Tu.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Au(t){Tu.setTimeout(function(){throw t})}function Wa(){}function hi(t){t()}var Dl=function(t){Dn(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Su(n)&&n.add(r)):r.destination=Nf,r}return e.create=function(n,r,s){return new Va(n,r,s)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Is),Rf=Function.prototype.bind;function ia(t,e){return Rf.call(t,e)}var Df=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Us(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Us(r)}else Us(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Us(n)}},t}(),Va=function(t){Dn(e,t);function e(n,r,s){var i=t.call(this)||this,a;if(mt(n)||!n)a={next:n??void 0,error:r??void 0,complete:s??void 0};else{var l;i&&xu.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return i.unsubscribe()},a={next:n.next&&ia(n.next,l),error:n.error&&ia(n.error,l),complete:n.complete&&ia(n.complete,l)}):a=n}return i.destination=new Df(a),i}return e}(Dl);function Us(t){Au(t)}function Bf(t){throw t}var Nf={closed:!0,next:Wa,error:Bf,complete:Wa},Bl=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Os(t){return t}function Mf(t){return t.length===0?Os:t.length===1?t[0]:function(n){return t.reduce(function(r,s){return s(r)},n)}}var kt=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var s=this,i=jf(e)?e:new Va(e,n,r);return hi(function(){var a=s,l=a.operator,c=a.source;i.add(l?l.call(i,c):c?s._subscribe(i):s._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=jo(n),new n(function(s,i){var a=new Va({next:function(l){try{e(l)}catch(c){i(c),a.unsubscribe()}},error:i,complete:s});r.subscribe(a)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Bl]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Mf(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=jo(e),new e(function(r,s){var i;n.subscribe(function(a){return i=a},function(a){return s(a)},function(){return r(i)})})},t.create=function(e){return new t(e)},t}();function jo(t){var e;return(e=t??xu.Promise)!==null&&e!==void 0?e:Promise}function Ff(t){return t&&mt(t.next)&&mt(t.error)&&mt(t.complete)}function jf(t){return t&&t instanceof Dl||Ff(t)&&Su(t)}function Uf(t){return mt(t?.lift)}function Zn(t){return function(e){if(Uf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function In(t,e,n,r,s){return new qf(t,e,n,r,s)}var qf=function(t){Dn(e,t);function e(n,r,s,i,a,l){var c=t.call(this,n)||this;return c.onFinalize=a,c.shouldUnsubscribe=l,c._next=r?function(u){try{r(u)}catch(h){n.error(h)}}:t.prototype._next,c._error=i?function(u){try{i(u)}catch(h){n.error(h)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=s?function(){try{s()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Dl),Kf=Cu(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Eu=function(t){Dn(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Uo(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new Kf},e.prototype.next=function(n){var r=this;hi(function(){var s,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Nr(r.currentObservers),l=a.next();!l.done;l=a.next()){var c=l.value;c.next(n)}}catch(u){s={error:u}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}}})},e.prototype.error=function(n){var r=this;hi(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var s=r.observers;s.length;)s.shift().error(n)}})},e.prototype.complete=function(){var n=this;hi(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,s=this,i=s.hasError,a=s.isStopped,l=s.observers;return i||a?ku:(this.currentObservers=null,l.push(n),new Is(function(){r.currentObservers=null,Li(l,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,s=r.hasError,i=r.thrownError,a=r.isStopped;s?n.error(i):a&&n.complete()},e.prototype.asObservable=function(){var n=new kt;return n.source=this,n},e.create=function(n,r){return new Uo(n,r)},e}(kt),Uo=function(t){Dn(e,t);function e(n,r){var s=t.call(this)||this;return s.destination=n,s.source=r,s}return e.prototype.next=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,n)},e.prototype.error=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&s!==void 0?s:ku},e}(Eu),zf=function(t){Dn(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,s=n.thrownError,i=n._value;if(r)throw s;return this._throwIfClosed(),i},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(Eu),Hf={now:function(){return Date.now()},delegate:void 0},Wf=function(t){Dn(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Is),Ga={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,$s([t,e],ws(n)))},clearInterval:function(t){var e=Ga.delegate;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},Vf=function(t){Dn(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.scheduler=n,s.work=r,s.pending=!1,s}return e.prototype.schedule=function(n,r){var s;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,r)),this.pending=!0,this.delay=r,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(a,this.id,r),this},e.prototype.requestAsyncId=function(n,r,s){return s===void 0&&(s=0),Ga.setInterval(n.flush.bind(n,this),s)},e.prototype.recycleAsyncId=function(n,r,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return r;r!=null&&Ga.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(n,r);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var s=!1,i;try{this.work(n)}catch(a){s=!0,i=a||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,s=n.scheduler,i=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Li(i,this),r!=null&&(this.id=this.recycleAsyncId(s,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Wf),qo=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=Hf.now,t}(),Gf=function(t){Dn(e,t);function e(n,r){r===void 0&&(r=qo.now);var s=t.call(this,n,r)||this;return s.actions=[],s._active=!1,s}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var s;this._active=!0;do if(s=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,s){for(;n=r.shift();)n.unsubscribe();throw s}},e}(qo),Lu=new Gf(Vf),Yf=Lu,Zf=new kt(function(t){return t.complete()});function Pu(t){return t&&mt(t.schedule)}function Iu(t){return t[t.length-1]}function Xf(t){return mt(Iu(t))?t.pop():void 0}function Nl(t){return Pu(Iu(t))?t.pop():void 0}var Ou=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Ru(t){return mt(t?.then)}function Du(t){return mt(t[Bl])}function Bu(t){return Symbol.asyncIterator&&mt(t?.[Symbol.asyncIterator])}function Nu(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Jf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Mu=Jf();function Fu(t){return mt(t?.[Mu])}function ju(t){return If(this,arguments,function(){var n,r,s,i;return $u(this,function(a){switch(a.label){case 0:n=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Lr(n.read())];case 3:return r=a.sent(),s=r.value,i=r.done,i?[4,Lr(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Lr(s)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Uu(t){return mt(t?.getReader)}function pr(t){if(t instanceof kt)return t;if(t!=null){if(Du(t))return Qf(t);if(Ou(t))return eg(t);if(Ru(t))return tg(t);if(Bu(t))return qu(t);if(Fu(t))return ng(t);if(Uu(t))return rg(t)}throw Nu(t)}function Qf(t){return new kt(function(e){var n=t[Bl]();if(mt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eg(t){return new kt(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function tg(t){return new kt(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,Au)})}function ng(t){return new kt(function(e){var n,r;try{for(var s=Nr(t),i=s.next();!i.done;i=s.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}e.complete()})}function qu(t){return new kt(function(e){sg(t,e).catch(function(n){return e.error(n)})})}function rg(t){return qu(ju(t))}function sg(t,e){var n,r,s,i;return Pf(this,void 0,void 0,function(){var a,l;return $u(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Of(t),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(a=r.value,e.next(a),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=c.sent(),s={error:l},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function xn(t,e,n,r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var i=e.schedule(function(){n(),s?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!s)return i}function Ku(t,e){return e===void 0&&(e=0),Zn(function(n,r){n.subscribe(In(r,function(s){return xn(r,t,function(){return r.next(s)},e)},function(){return xn(r,t,function(){return r.complete()},e)},function(s){return xn(r,t,function(){return r.error(s)},e)}))})}function zu(t,e){return e===void 0&&(e=0),Zn(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function ig(t,e){return pr(t).pipe(zu(e),Ku(e))}function ag(t,e){return pr(t).pipe(zu(e),Ku(e))}function lg(t,e){return new kt(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function og(t,e){return new kt(function(n){var r;return xn(n,e,function(){r=t[Mu](),xn(n,e,function(){var s,i,a;try{s=r.next(),i=s.value,a=s.done}catch(l){n.error(l);return}a?n.complete():n.next(i)},0,!0)}),function(){return mt(r?.return)&&r.return()}})}function Hu(t,e){if(!t)throw new Error("Iterable cannot be null");return new kt(function(n){xn(n,e,function(){var r=t[Symbol.asyncIterator]();xn(n,e,function(){r.next().then(function(s){s.done?n.complete():n.next(s.value)})},0,!0)})})}function cg(t,e){return Hu(ju(t),e)}function ug(t,e){if(t!=null){if(Du(t))return ig(t,e);if(Ou(t))return lg(t,e);if(Ru(t))return ag(t,e);if(Bu(t))return Hu(t,e);if(Fu(t))return og(t,e);if(Uu(t))return cg(t,e)}throw Nu(t)}function Wi(t,e){return e?ug(t,e):pr(t)}function nt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Nl(t);return Wi(t,n)}function hg(t){return t instanceof Date&&!isNaN(t)}function Vi(t,e){return Zn(function(n,r){var s=0;n.subscribe(In(r,function(i){r.next(t.call(e,i,s++))}))})}var dg=Array.isArray;function fg(t,e){return dg(e)?t.apply(void 0,$s([],ws(e))):t(e)}function gg(t){return Vi(function(e){return fg(t,e)})}var pg=Array.isArray,mg=Object.getPrototypeOf,vg=Object.prototype,bg=Object.keys;function yg(t){if(t.length===1){var e=t[0];if(pg(e))return{args:e,keys:null};if(_g(e)){var n=bg(e);return{args:n.map(function(r){return e[r]}),keys:n}}}return{args:t,keys:null}}function _g(t){return t&&typeof t=="object"&&mg(t)===vg}function wg(t,e){return t.reduce(function(n,r,s){return n[r]=e[s],n},{})}function $g(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Nl(t),r=Xf(t),s=yg(t),i=s.args,a=s.keys;if(i.length===0)return Wi([],n);var l=new kt(Cg(i,n,a?function(c){return wg(a,c)}:Os));return r?l.pipe(gg(r)):l}function Cg(t,e,n){return n===void 0&&(n=Os),function(r){Ko(e,function(){for(var s=t.length,i=new Array(s),a=s,l=s,c=function(h){Ko(e,function(){var d=Wi(t[h],e),f=!1;d.subscribe(In(r,function(m){i[h]=m,f||(f=!0,l--),l||r.next(n(i.slice()))},function(){--a||r.complete()}))},r)},u=0;u<s;u++)c(u)},r)}}function Ko(t,e,n){t?xn(n,t,e):e()}function kg(t,e,n,r,s,i,a,l){var c=[],u=0,h=0,d=!1,f=function(){d&&!c.length&&!u&&e.complete()},m=function(p){return u<r?_(p):c.push(p)},_=function(p){i&&e.next(p),u++;var y=!1;pr(n(p,h++)).subscribe(In(e,function(b){s?.(b),i?m(b):e.next(b)},function(){y=!0},void 0,function(){if(y)try{u--;for(var b=function(){var v=c.shift();a?xn(e,a,function(){return _(v)}):_(v)};c.length&&u<r;)b();f()}catch(v){e.error(v)}}))};return t.subscribe(In(e,m,function(){d=!0,f()})),function(){l?.()}}function Cs(t,e,n){return n===void 0&&(n=1/0),mt(e)?Cs(function(r,s){return Vi(function(i,a){return e(r,i,s,a)})(pr(t(r,s)))},n):(typeof e=="number"&&(n=e),Zn(function(r,s){return kg(r,s,t,n)}))}function Sg(t){return t===void 0&&(t=1/0),Cs(Os,t)}function xg(){return Sg(1)}function Tg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xg()(Wi(t,Nl(t)))}function Ag(t,e,n){t===void 0&&(t=0),n===void 0&&(n=Yf);var r=-1;return e!=null&&(Pu(e)?n=e:r=e),new kt(function(s){var i=hg(t)?+t-n.now():t;i<0&&(i=0);var a=0;return n.schedule(function(){s.closed||(s.next(a++),0<=r?this.schedule(void 0,r):s.complete())},i)})}function mr(t){return Zn(function(e,n){var r=null,s=!1,i;r=e.subscribe(In(n,void 0,void 0,function(a){i=pr(t(a,mr(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,i.subscribe(n))})}function lt(t,e){return mt(e)?Cs(t,e,1):Cs(t,1)}function Le(t){return t<=0?function(){return Zf}:Zn(function(e,n){var r=0;e.subscribe(In(n,function(s){++r<=t&&(n.next(s),t<=r&&n.complete())}))})}function Eg(){return Zn(function(t,e){t.subscribe(In(e,Wa))})}function Lg(t){return Vi(function(){return t})}function Wu(t,e){return e?function(n){return Tg(e.pipe(Le(1),Eg()),n.pipe(Wu(t)))}:Cs(function(n,r){return pr(t(n,r)).pipe(Le(1),Lg(n))})}function Pg(t,e){e===void 0&&(e=Lu);var n=Ag(t,e);return Wu(function(){return n})}function bt(t,e,n){var r=mt(t)||e||n?{next:t,error:e,complete:n}:t;return r?Zn(function(s,i){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var l=!0;s.subscribe(In(i,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},function(){var c;l=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var u;l=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},function(){var c,u;l&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Os}class Ig{loggedIn=L({});tokenValue=L("");set token(e){this.tokenValue[1](e),this.loggedIn[1]({Authorization:`Bearer ${e}`})}get token(){return this.tokenValue[0]}clearToken(){this.loggedIn[1]({Authorization:""})}toObservable(e){return new kt(n=>{e.then(r=>{n.next(r)}).catch(r=>n.error(r)).finally(()=>n.complete())})}post(e,n,r){return new kt(s=>{fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...r?.headers,...this.loggedIn[0]()},body:JSON.stringify(n)}).then(i=>{if(!i.ok)throw new Error(i.statusText);return i.json()}).then(i=>{s.next(i)}).catch(i=>s.error(i)).finally(()=>s.complete())})}get(e,n){return new kt(r=>{fetch(e,{method:"GET",headers:{"Content-Type":"application/json",...n?.headers,...this.loggedIn[0]()}}).then(s=>{if(!s.ok)throw new Error(s.statusText);return s.json()}).then(s=>{r.next(s)}).catch(s=>r.error(s)).finally(()=>r.complete())})}}const Se=new Ig,ct=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yt=Object.keys,At=Array.isArray;function Rt(t,e){return typeof e!="object"||yt(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||ct.Promise||(ct.Promise=Promise);const ks=Object.getPrototypeOf,Og={}.hasOwnProperty;function Vt(t,e){return Og.call(t,e)}function Mr(t,e){typeof e=="function"&&(e=e(ks(t))),(typeof Reflect>"u"?yt:Reflect.ownKeys)(e).forEach(n=>{Tn(t,n,e[n])})}const Vu=Object.defineProperty;function Tn(t,e,n,r){Vu(t,e,Rt(n&&Vt(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Pr(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Tn(t.prototype,"constructor",t),{extend:Mr.bind(null,t.prototype)}}}}const Rg=Object.getOwnPropertyDescriptor;function Ml(t,e){let n;return Rg(t,e)||(n=ks(t))&&Ml(n,e)}const Dg=[].slice;function Pi(t,e,n){return Dg.call(t,e,n)}function Gu(t,e){return e(t)}function cs(t){if(!t)throw new Error("Assertion Failed")}function Yu(t){ct.setImmediate?setImmediate(t):setTimeout(t,0)}function Zu(t,e){return t.reduce((n,r,s)=>{var i=e(r,s);return i&&(n[i[0]]=i[1]),n},{})}function An(t,e){if(Vt(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,s=e.length;r<s;++r){var i=An(t,e[r]);n.push(i)}return n}var a=e.indexOf(".");if(a!==-1){var l=t[e.substr(0,a)];return l===void 0?void 0:An(l,e.substr(a+1))}}function nn(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){cs(typeof n!="string"&&"length"in n);for(var r=0,s=e.length;r<s;++r)nn(t,e[r],n[r])}else{var i=e.indexOf(".");if(i!==-1){var a=e.substr(0,i),l=e.substr(i+1);if(l==="")n===void 0?At(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var c=t[a];c&&Vt(t,a)||(c=t[a]={}),nn(c,l,n)}}else n===void 0?At(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function Xu(t){var e={};for(var n in t)Vt(t,n)&&(e[n]=t[n]);return e}const Bg=[].concat;function Ju(t){return Bg.apply([],t)}const Qu="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ju([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>ct[t]),Ng=Qu.map(t=>ct[t]);Zu(Qu,t=>[t,!0]);let qn=null;function Rs(t){qn=typeof WeakMap<"u"&&new WeakMap;const e=Ya(t);return qn=null,e}function Ya(t){if(!t||typeof t!="object")return t;let e=qn&&qn.get(t);if(e)return e;if(At(t)){e=[],qn&&qn.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(Ya(t[n]))}else if(Ng.indexOf(t.constructor)>=0)e=t;else{const i=ks(t);for(var s in e=i===Object.prototype?{}:Object.create(i),qn&&qn.set(t,e),t)Vt(t,s)&&(e[s]=Ya(t[s]))}return e}const{toString:Mg}={};function Za(t){return Mg.call(t).slice(8,-1)}const Xa=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Fg=typeof Xa=="symbol"?function(t){var e;return t!=null&&(e=t[Xa])&&e.apply(t)}:function(){return null},Sr={};function Cn(t){var e,n,r,s;if(arguments.length===1){if(At(t))return t.slice();if(this===Sr&&typeof t=="string")return[t];if(s=Fg(t)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const Fl=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var mn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function eh(t,e){mn=t,th=e}var th=()=>!0;const jg=!new Error("").stack;function vr(){if(jg)try{throw vr.arguments,new Error}catch(t){return t}return new Error}function Ja(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(th).map(r=>`
`+r).join("")):""}var nh=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],jl=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(nh),Ug={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ir(t,e){this._e=vr(),this.name=t,this.message=e}function rh(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,s)=>s.indexOf(n)===r).join(`
`)}function Ii(t,e,n,r){this._e=vr(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=rh(t,e)}function ds(t,e){this._e=vr(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=rh(t,e)}Pr(Ir).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Ja(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Pr(Ii).from(Ir),Pr(ds).from(Ir);var Ul=jl.reduce((t,e)=>(t[e]=e+"Error",t),{});const qg=Ir;var Ce=jl.reduce((t,e)=>{var n=e+"Error";function r(s,i){this._e=vr(),this.name=n,s?typeof s=="string"?(this.message=`${s}${i?`
 `+i:""}`,this.inner=i||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=Ug[e]||n,this.inner=null)}return Pr(r).from(qg),t[e]=r,t},{});Ce.Syntax=SyntaxError,Ce.Type=TypeError,Ce.Range=RangeError;var zo=nh.reduce((t,e)=>(t[e+"Error"]=Ce[e],t),{}),di=jl.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=Ce[e]),t),{});function et(){}function Ss(t){return t}function Kg(t,e){return t==null||t===Ss?e:function(n){return e(t(n))}}function dr(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function zg(t,e){return t===et?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?dr(r,this.onsuccess):r),s&&(this.onerror=this.onerror?dr(s,this.onerror):s),i!==void 0?i:n}}function Hg(t,e){return t===et?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?dr(n,this.onsuccess):n),r&&(this.onerror=this.onerror?dr(r,this.onerror):r)}}function Wg(t,e){return t===et?e:function(n){var r=t.apply(this,arguments);Rt(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?dr(s,this.onsuccess):s),i&&(this.onerror=this.onerror?dr(i,this.onerror):i),r===void 0?a===void 0?void 0:a:Rt(r,a)}}function Vg(t,e){return t===et?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function ql(t,e){return t===et?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then(function(){return e.apply(r,i)})}return e.apply(this,arguments)}}di.ModifyError=Ii,di.DexieError=Ir,di.BulkError=ds;var xs={};const sh=100,[Qa,Oi,el]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,ks(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,ks(e),t]})(),ih=Oi&&Oi.then,fi=Qa&&Qa.constructor,Kl=!!el;var tl=!1,Gg=el?()=>{el.then(qs)}:ct.setImmediate?setImmediate.bind(null,qs):ct.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{qs(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(qs,0)},fs=function(t,e){us.push([t,e]),Ri&&(Gg(),Ri=!1)},nl=!0,Ri=!0,cr=[],gi=[],rl=null,sl=Ss,Or={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Vo,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{Vo(t[0],t[1])}catch{}})}},we=Or,us=[],ur=0,pi=[];function de(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=et,this._lib=!1;var e=this._PSD=we;if(mn&&(this._stackHolder=vr(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==xs)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&al(this,this._value))}this._state=null,this._value=null,++e.ref,lh(this,t)}const il={get:function(){var t=we,e=Di;function n(r,s){var i=!t.global&&(t!==we||e!==Di);const a=i&&!On();var l=new de((c,u)=>{zl(this,new ah(Bi(r,t,i,a),Bi(s,t,i,a),c,u,t))});return mn&&uh(l,this),l}return n.prototype=xs,n},set:function(t){Tn(this,"then",t&&t.prototype===xs?il:{get:function(){return t},set:il.set})}};function ah(t,e,n,r,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=s}function lh(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Ds();n&&typeof n.then=="function"?lh(t,(s,i)=>{n instanceof de?n._then(s,i):n.then(s,i)}):(t._state=!0,t._value=n,oh(t)),r&&Bs()}},al.bind(null,t))}catch(n){al(t,n)}}function al(t,e){if(gi.push(e),t._state===null){var n=t._lib&&Ds();e=sl(e),t._state=!1,t._value=e,mn&&e!==null&&typeof e=="object"&&!e._promise&&function(r,s,i){try{r.apply(null,i)}catch(a){s&&s(a)}}(()=>{var r=Ml(e,"stack");e._promise=t,Tn(e,"stack",{get:()=>tl?r&&(r.get?r.get.apply(e):r.value):t.stack})}),function(r){cr.some(s=>s._value===r._value)||cr.push(r)}(t),oh(t),n&&Bs()}}function oh(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)zl(t,e[n]);var s=t._PSD;--s.ref||s.finalize(),ur===0&&(++ur,fs(()=>{--ur==0&&Hl()},[]))}function zl(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++ur,fs(Yg,[n,t,e])}else t._listeners.push(e)}function Yg(t,e,n){try{rl=e;var r,s=e._value;e._state?r=t(s):(gi.length&&(gi=[]),r=t(s),gi.indexOf(s)===-1&&function(i){for(var a=cr.length;a;)if(cr[--a]._value===i._value)return void cr.splice(a,1)}(e)),n.resolve(r)}catch(i){n.reject(i)}finally{rl=null,--ur==0&&Hl(),--n.psd.ref||n.psd.finalize()}}function ch(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var s,i,a=t._value;a!=null?(s=a.name||"Error",i=a.message||a,r=Ja(a,0)):(s=a,i=""),e.push(s+(i?": "+i:"")+r)}return mn&&((r=Ja(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&ch(t._prev,e,n)),e}function uh(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function qs(){Ds()&&Bs()}function Ds(){var t=nl;return nl=!1,Ri=!1,t}function Bs(){var t,e,n;do for(;us.length>0;)for(t=us,us=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(us.length>0);nl=!0,Ri=!0}function Hl(){var t=cr;cr=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=pi.slice(0),n=e.length;n;)e[--n]()}function Ks(t){return new de(xs,!1,t)}function ut(t,e){var n=we;return function(){var r=Ds(),s=we;try{return Gn(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{Gn(s,!1),r&&Bs()}}}Mr(de.prototype,{then:il,_then:function(t,e){zl(this,new ah(null,null,t,e,we))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):Ks(r)):this.then(null,r=>r&&r.name===e?n(r):Ks(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),Ks(e)))},stack:{get:function(){if(this._stack)return this._stack;try{tl=!0;var t=ch(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{tl=!1}}},timeout:function(t,e){return t<1/0?new de((n,r)=>{var s=setTimeout(()=>r(new Ce.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Tn(de.prototype,Symbol.toStringTag,"Dexie.Promise"),Or.env=hh(),Mr(de,{all:function(){var t=Cn.apply(null,arguments).map(zs);return new de(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((s,i)=>de.resolve(s).then(a=>{t[i]=a,--r||e(t)},n))})},resolve:t=>{if(t instanceof de)return t;if(t&&typeof t.then=="function")return new de((n,r)=>{t.then(n,r)});var e=new de(xs,!0,t);return uh(e,rl),e},reject:Ks,race:function(){var t=Cn.apply(null,arguments).map(zs);return new de((e,n)=>{t.map(r=>de.resolve(r).then(e,n))})},PSD:{get:()=>we,set:t=>we=t},totalEchoes:{get:()=>Di},newPSD:Vn,usePSD:Kr,scheduler:{get:()=>fs,set:t=>{fs=t}},rejectionMapper:{get:()=>sl,set:t=>{sl=t}},follow:(t,e)=>new de((n,r)=>Vn((s,i)=>{var a=we;a.unhandleds=[],a.onunhandled=i,a.finalize=dr(function(){(function(l){function c(){l(),pi.splice(pi.indexOf(c),1)}pi.push(c),++ur,fs(()=>{--ur==0&&Hl()},[])})(()=>{this.unhandleds.length===0?s():i(this.unhandleds[0])})},a.finalize),t()},e,n,r))}),fi&&(fi.allSettled&&Tn(de,"allSettled",function(){const t=Cn.apply(null,arguments).map(zs);return new de(e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach((s,i)=>de.resolve(s).then(a=>r[i]={status:"fulfilled",value:a},a=>r[i]={status:"rejected",reason:a}).then(()=>--n||e(r)))})}),fi.any&&typeof AggregateError<"u"&&Tn(de,"any",function(){const t=Cn.apply(null,arguments).map(zs);return new de((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const s=new Array(r);t.forEach((i,a)=>de.resolve(i).then(l=>e(l),l=>{s[a]=l,--r||n(new AggregateError(s))}))})}));const Tt={awaits:0,echoes:0,id:0};var Zg=0,mi=[],aa=0,Di=0,Xg=0;function Vn(t,e,n,r){var s=we,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++Xg;var a=Or.env;i.env=Kl?{Promise:de,PromiseProp:{value:de,configurable:!0,writable:!0},all:de.all,race:de.race,allSettled:de.allSettled,any:de.any,resolve:de.resolve,reject:de.reject,nthen:Ho(a.nthen,i),gthen:Ho(a.gthen,i)}:{},e&&Rt(i,e),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=Kr(i,t,n,r);return i.ref===0&&i.finalize(),l}function qr(){return Tt.id||(Tt.id=++Zg),++Tt.awaits,Tt.echoes+=sh,Tt.id}function On(){return!!Tt.awaits&&(--Tt.awaits==0&&(Tt.id=0),Tt.echoes=Tt.awaits*sh,!0)}function zs(t){return Tt.echoes&&t&&t.constructor===fi?(qr(),t.then(e=>(On(),e),e=>(On(),_t(e)))):t}function Jg(t){++Di,Tt.echoes&&--Tt.echoes!=0||(Tt.echoes=Tt.id=0),mi.push(we),Gn(t,!0)}function Qg(){var t=mi[mi.length-1];mi.pop(),Gn(t,!1)}function Gn(t,e){var n=we;if((e?!Tt.echoes||aa++&&t===we:!aa||--aa&&t===we)||dh(e?Jg.bind(null,t):Qg),t!==we&&(we=t,n===Or&&(Or.env=hh()),Kl)){var r=Or.env.Promise,s=t.env;Oi.then=s.nthen,r.prototype.then=s.gthen,(n.global||t.global)&&(Object.defineProperty(ct,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function hh(){var t=ct.Promise;return Kl?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(ct,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Oi.then,gthen:t.prototype.then}:{}}function Kr(t,e,n,r,s){var i=we;try{return Gn(t,!0),e(n,r,s)}finally{Gn(i,!1)}}function dh(t){ih.call(Qa,t)}function Bi(t,e,n,r){return typeof t!="function"?t:function(){var s=we;n&&qr(),Gn(e,!0);try{return t.apply(this,arguments)}finally{Gn(s,!1),r&&dh(On)}}}function Ho(t,e){return function(n,r){return t.call(this,Bi(n,e),Bi(r,e))}}(""+ih).indexOf("[native code]")===-1&&(qr=On=et);const Wo="unhandledrejection";function Vo(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,s={promise:e,reason:t};if(ct.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Wo,!0,!0),Rt(r,s)):ct.CustomEvent&&Rt(r=new CustomEvent(Wo,{detail:s}),s),r&&ct.dispatchEvent&&(dispatchEvent(r),!ct.PromiseRejectionEvent&&ct.onunhandledrejection))try{ct.onunhandledrejection(r)}catch{}mn&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var _t=de.reject;function ll(t,e,n,r){if(t.idbdb&&(t._state.openComplete||we.letThrough||t._vip)){var s=t._createTransaction(e,n,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===Ul.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>ll(t,e,n,r))):_t(i)}return s._promise(e,(i,a)=>Vn(()=>(we.trans=s,r(i,a,s)))).then(i=>s._completion.then(()=>i))}if(t._state.openComplete)return _t(new Ce.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return _t(new Ce.DatabaseClosed);t.open().catch(et)}return t._state.dbReadyPromise.then(()=>ll(t,e,n,r))}const Go="3.2.4",lr="",ol=-1/0,yn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",fh="String expected.",gs=[],Gi=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ep=Gi,tp=Gi,gh=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),Yi="__dbnames",la="readonly",oa="readwrite";function fr(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const ph={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Hs(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=Rs(e))[t],e)}class np{_trans(e,n,r){const s=this._tx||we.trans,i=this.name;function a(c,u,h){if(!h.schema[i])throw new Ce.NotFound("Table "+i+" not part of transaction");return n(h.idbtrans,h)}const l=Ds();try{return s&&s.db===this.db?s===we.trans?s._promise(e,a,r):Vn(()=>s._promise(e,a,r),{trans:s,transless:we.transless||we}):ll(this.db,e,[this.name],a)}finally{l&&Bs()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(s=>this.hook.reading.fire(s))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(At(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=yt(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>u.compound&&n.every(h=>u.keyPath.indexOf(h)>=0)&&u.keyPath.every(h=>n.indexOf(h)>=0))[0];if(r&&this.db._maxKey!==lr)return this.where(r.name).equals(r.keyPath.map(u=>e[u]));!r&&mn&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:s}=this.schema,i=this.db._deps.indexedDB;function a(u,h){try{return i.cmp(u,h)===0}catch{return!1}}const[l,c]=n.reduce(([u,h],d)=>{const f=s[d],m=e[d];return[u||f,u||!f?fr(h,f&&f.multi?_=>{const p=An(_,d);return At(p)&&p.some(y=>a(m,y))}:_=>a(m,An(_,d))):h]},[null,null]);return l?this.where(l.name).equals(e[l.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,At(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const s=Object.create(e.prototype);for(var i in r)if(Vt(r,i))try{s[i]=r[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){Rt(this,e)})}add(e,n){const{auto:r,keyPath:s}=this.schema.primKey;let i=e;return s&&r&&(i=Hs(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[i]})).then(a=>a.numFailures?de.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{nn(e,s,a)}catch{}return a})}update(e,n){if(typeof e!="object"||At(e))return this.where(":id").equals(e).modify(n);{const r=An(e,this.schema.primKey.keyPath);if(r===void 0)return _t(new Ce.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?yt(n).forEach(s=>{nn(e,s,n[s])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:s}=this.schema.primKey;let i=e;return s&&r&&(i=Hs(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[i],keys:n!=null?[n]:null})).then(a=>a.numFailures?de.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{nn(e,s,a)}catch{}return a})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?de.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:ph})).then(e=>e.numFailures?de.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,n,r){const s=Array.isArray(n)?n:void 0,i=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&s)throw new Ce.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let h=c&&l?e.map(Hs(c)):e;return this.core.mutate({trans:a,type:"add",keys:s,values:h,wantResults:i}).then(({numFailures:d,results:f,lastResult:m,failures:_})=>{if(d===0)return i?f:m;throw new ds(`${this.name}.bulkAdd(): ${d} of ${u} operations failed`,_)})})}bulkPut(e,n,r){const s=Array.isArray(n)?n:void 0,i=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&s)throw new Ce.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let h=c&&l?e.map(Hs(c)):e;return this.core.mutate({trans:a,type:"put",keys:s,values:h,wantResults:i}).then(({numFailures:d,results:f,lastResult:m,failures:_})=>{if(d===0)return i?f:m;throw new ds(`${this.name}.bulkPut(): ${d} of ${u} operations failed`,_)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:s,failures:i})=>{if(r===0)return s;throw new ds(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function ps(t){var e={},n=function(a,l){if(l){for(var c=arguments.length,u=new Array(c-1);--c;)u[c-1]=arguments[c];return e[a].subscribe.apply(null,u),t}if(typeof a=="string")return e[a]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(a,l,c){if(typeof a!="object"){var u;l||(l=Vg),c||(c=et);var h={subscribers:[],fire:c,subscribe:function(d){h.subscribers.indexOf(d)===-1&&(h.subscribers.push(d),h.fire=l(h.fire,d))},unsubscribe:function(d){h.subscribers=h.subscribers.filter(function(f){return f!==d}),h.fire=h.subscribers.reduce(l,c)}};return e[a]=n[a]=h,h}yt(u=a).forEach(function(d){var f=u[d];if(At(f))i(d,u[d][0],u[d][1]);else{if(f!=="asap")throw new Ce.InvalidArgument("Invalid event config");var m=i(d,Ss,function(){for(var _=arguments.length,p=new Array(_);_--;)p[_]=arguments[_];m.subscribers.forEach(function(y){Yu(function(){y.apply(null,p)})})})}})}}function Gr(t,e){return Pr(e).from({prototype:t}),e}function $r(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function ca(t,e){t.filter=fr(t.filter,e)}function ua(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>fr(r(),e()):e,t.justLimit=n&&!r}function vi(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new Ce.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Yo(t,e,n){const r=vi(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Ws(t,e,n,r){const s=t.replayFilter?fr(t.filter,t.replayFilter()):t.filter;if(t.or){const i={},a=(l,c,u)=>{if(!s||s(c,u,f=>c.stop(f),f=>c.fail(f))){var h=c.primaryKey,d=""+h;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(h)),Vt(i,d)||(i[d]=!0,e(l,c,u))}};return Promise.all([t.or._iterate(a,n),Zo(Yo(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return Zo(Yo(t,r,n),fr(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function Zo(t,e,n,r){var s=ut(r?(i,a,l)=>n(r(i),a,l):n);return t.then(i=>{if(i)return i.start(()=>{var a=()=>i.continue();e&&!e(i,l=>a=l,l=>{i.stop(l),a=et},l=>{i.fail(l),a=et})||s(i.value,i,l=>a=l),a()})})}function It(t,e){try{const n=Xo(t),r=Xo(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,i){const a=s.length,l=i.length,c=a<l?a:l;for(let u=0;u<c;++u)if(s[u]!==i[u])return s[u]<i[u]?-1:1;return a===l?0:a<l?-1:1}(Jo(t),Jo(e));case"Array":return function(s,i){const a=s.length,l=i.length,c=a<l?a:l;for(let u=0;u<c;++u){const h=It(s[u],i[u]);if(h!==0)return h}return a===l?0:a<l?-1:1}(t,e)}}catch{}return NaN}function Xo(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=Za(t);return n==="ArrayBuffer"?"binary":n}function Jo(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class rp{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,_t.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,_t.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=fr(n.algorithm,e)}_iterate(e,n){return Ws(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Rt(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>Ws(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,s=r.table.core;if($r(r,!0))return s.count({trans:n,query:{index:vi(r,s.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var i=0;return Ws(r,()=>(++i,!1),n,s).then(()=>i)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),s=r[0],i=r.length-1;function a(u,h){return h?a(u[r[h]],h-1):u[s]}var l=this._ctx.dir==="next"?1:-1;function c(u,h){var d=a(u,i),f=a(h,i);return d<f?-l:d>f?l:0}return this.toArray(function(u){return u.sort(c)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&$r(r,!0)&&r.limit>0){const{valueMapper:s}=r,i=vi(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:a})=>s?a.map(s):a)}{const s=[];return Ws(r,i=>s.push(i),n,r.table.core).then(()=>s)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,$r(n)?ua(n,()=>{var r=e;return(s,i)=>r===0||(r===1?(--r,!1):(i(()=>{s.advance(r),r=0}),!1))}):ua(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),ua(this._ctx,()=>{var n=e;return function(r,s,i){return--n<=0&&s(i),n>=0}},!0),this}until(e,n){return ca(this._ctx,function(r,s,i){return!e(r.value)||(s(i),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return ca(this._ctx,function(s){return e(s.value)}),n=this._ctx,r=e,n.isMatch=fr(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.primaryKey,s)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&$r(n,!0)&&n.limit>0)return this._read(s=>{var i=vi(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:s})=>s).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return ca(this._ctx,function(s){var i=s.primaryKey.toString(),a=Vt(r,i);return r[i]=!0,!a}),this}modify(e){var n=this._ctx;return this._write(r=>{var s;if(typeof e=="function")s=e;else{var i=yt(e),a=i.length;s=function(p){for(var y=!1,b=0;b<a;++b){var v=i[b],$=e[v];An(p,v)!==$&&(nn(p,v,$),y=!0)}return y}}const l=n.table.core,{outbound:c,extractKey:u}=l.schema.primaryKey,h=this.db._options.modifyChunkSize||200,d=[];let f=0;const m=[],_=(p,y)=>{const{failures:b,numFailures:v}=y;f+=p-v;for(let $ of yt(b))d.push(b[$])};return this.clone().primaryKeys().then(p=>{const y=b=>{const v=Math.min(h,p.length-b);return l.getMany({trans:r,keys:p.slice(b,b+v),cache:"immutable"}).then($=>{const S=[],C=[],P=c?[]:null,w=[];for(let T=0;T<v;++T){const I=$[T],E={value:Rs(I),primKey:p[b+T]};s.call(E,E.value,E)!==!1&&(E.value==null?w.push(p[b+T]):c||It(u(I),u(E.value))===0?(C.push(E.value),c&&P.push(p[b+T])):(w.push(p[b+T]),S.push(E.value)))}const F=$r(n)&&n.limit===1/0&&(typeof e!="function"||e===ha)&&{index:n.index,range:n.range};return Promise.resolve(S.length>0&&l.mutate({trans:r,type:"add",values:S}).then(T=>{for(let I in T.failures)w.splice(parseInt(I),1);_(S.length,T)})).then(()=>(C.length>0||F&&typeof e=="object")&&l.mutate({trans:r,type:"put",keys:P,values:C,criteria:F,changeSpec:typeof e!="function"&&e}).then(T=>_(C.length,T))).then(()=>(w.length>0||F&&e===ha)&&l.mutate({trans:r,type:"delete",keys:w,criteria:F}).then(T=>_(w.length,T))).then(()=>p.length>b+v&&y(b+h))})};return y(0).then(()=>{if(d.length>0)throw new Ii("Error modifying one or more objects",d,f,m);return p.length})})})}delete(){var e=this._ctx,n=e.range;return $r(e)&&(e.isPrimKey&&!tp||n.type===3)?this._write(r=>{const{primaryKey:s}=e.table.core.schema,i=n;return e.table.core.count({trans:r,query:{index:s,range:i}}).then(a=>e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:l,lastResult:c,results:u,numFailures:h})=>{if(h)throw new Ii("Could not delete some values",Object.keys(l).map(d=>l[d]),a-h);return a-h}))}):this.modify(ha)}}const ha=(t,e)=>e.value=null;function sp(t,e){return t<e?-1:t===e?0:1}function ip(t,e){return t>e?-1:t===e?0:1}function zt(t,e,n){var r=t instanceof vh?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Cr(t){return new t.Collection(t,()=>mh("")).limit(0)}function ap(t,e,n,r,s,i){for(var a=Math.min(t.length,r.length),l=-1,c=0;c<a;++c){var u=e[c];if(u!==r[c])return s(t[c],n[c])<0?t.substr(0,c)+n[c]+n.substr(c+1):s(t[c],r[c])<0?t.substr(0,c)+r[c]+n.substr(c+1):l>=0?t.substr(0,l)+e[l]+n.substr(l+1):null;s(t[c],u)<0&&(l=c)}return a<r.length&&i==="next"?t+n.substr(t.length):a<t.length&&i==="prev"?t.substr(0,n.length):l<0?null:t.substr(0,l)+r[l]+n.substr(l+1)}function Vs(t,e,n,r){var s,i,a,l,c,u,h,d=n.length;if(!n.every(p=>typeof p=="string"))return zt(t,fh);function f(p){s=function(b){return b==="next"?v=>v.toUpperCase():v=>v.toLowerCase()}(p),i=function(b){return b==="next"?v=>v.toLowerCase():v=>v.toUpperCase()}(p),a=p==="next"?sp:ip;var y=n.map(function(b){return{lower:i(b),upper:s(b)}}).sort(function(b,v){return a(b.lower,v.lower)});l=y.map(function(b){return b.upper}),c=y.map(function(b){return b.lower}),u=p,h=p==="next"?"":r}f("next");var m=new t.Collection(t,()=>Un(l[0],c[d-1]+r));m._ondirectionchange=function(p){f(p)};var _=0;return m._addAlgorithm(function(p,y,b){var v=p.key;if(typeof v!="string")return!1;var $=i(v);if(e($,c,_))return!0;for(var S=null,C=_;C<d;++C){var P=ap(v,$,l[C],c[C],a,u);P===null&&S===null?_=C+1:(S===null||a(S,P)>0)&&(S=P)}return y(S!==null?function(){p.continue(S+h)}:b),!1}),m}function Un(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function mh(t){return{type:1,lower:t,upper:t}}class vh{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||s)&&(!r||!s)?Cr(this):new this.Collection(this,()=>Un(e,n,!r,!s))}catch{return zt(this,yn)}}equals(e){return e==null?zt(this,yn):new this.Collection(this,()=>mh(e))}above(e){return e==null?zt(this,yn):new this.Collection(this,()=>Un(e,void 0,!0))}aboveOrEqual(e){return e==null?zt(this,yn):new this.Collection(this,()=>Un(e,void 0,!1))}below(e){return e==null?zt(this,yn):new this.Collection(this,()=>Un(void 0,e,!1,!0))}belowOrEqual(e){return e==null?zt(this,yn):new this.Collection(this,()=>Un(void 0,e))}startsWith(e){return typeof e!="string"?zt(this,fh):this.between(e,e+lr,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):Vs(this,(n,r)=>n.indexOf(r[0])===0,[e],lr)}equalsIgnoreCase(e){return Vs(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=Cn.apply(Sr,arguments);return e.length===0?Cr(this):Vs(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=Cn.apply(Sr,arguments);return e.length===0?Cr(this):Vs(this,(n,r)=>r.some(s=>n.indexOf(s)===0),e,lr)}anyOf(){const e=Cn.apply(Sr,arguments);let n=this._cmp;try{e.sort(n)}catch{return zt(this,yn)}if(e.length===0)return Cr(this);const r=new this.Collection(this,()=>Un(e[0],e[e.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,e.sort(n)};let s=0;return r._addAlgorithm((i,a,l)=>{const c=i.key;for(;n(c,e[s])>0;)if(++s,s===e.length)return a(l),!1;return n(c,e[s])===0||(a(()=>{i.continue(e[s])}),!1)}),r}notEqual(e){return this.inAnyRange([[ol,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Cn.apply(Sr,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return zt(this,yn)}const n=e.reduce((r,s)=>r?r.concat([[r[r.length-1][1],s]]):[[ol,s]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,s=this._ascending,i=this._descending,a=this._min,l=this._max;if(e.length===0)return Cr(this);if(!e.every(v=>v[0]!==void 0&&v[1]!==void 0&&s(v[0],v[1])<=0))return zt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ce.InvalidArgument);const c=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let h,d=s;function f(v,$){return d(v[0],$[0])}try{h=e.reduce(function(v,$){let S=0,C=v.length;for(;S<C;++S){const P=v[S];if(r($[0],P[1])<0&&r($[1],P[0])>0){P[0]=a(P[0],$[0]),P[1]=l(P[1],$[1]);break}}return S===C&&v.push($),v},[]),h.sort(f)}catch{return zt(this,yn)}let m=0;const _=u?v=>s(v,h[m][1])>0:v=>s(v,h[m][1])>=0,p=c?v=>i(v,h[m][0])>0:v=>i(v,h[m][0])>=0;let y=_;const b=new this.Collection(this,()=>Un(h[0][0],h[h.length-1][1],!c,!u));return b._ondirectionchange=v=>{v==="next"?(y=_,d=s):(y=p,d=i),h.sort(f)},b._addAlgorithm((v,$,S)=>{for(var C=v.key;y(C);)if(++m,m===h.length)return $(S),!1;return!!function(P){return!_(P)&&!p(P)}(C)||(this._cmp(C,h[m][1])===0||this._cmp(C,h[m][0])===0||$(()=>{d===s?v.continue(h[m][0]):v.continue(h[m][1])}),!1)}),b}startsWithAnyOf(){const e=Cn.apply(Sr,arguments);return e.every(n=>typeof n=="string")?e.length===0?Cr(this):this.inAnyRange(e.map(n=>[n,n+lr])):zt(this,"startsWithAnyOf() only works with strings")}}function hn(t){return ut(function(e){return Ts(e),t(e.target.error),!1})}function Ts(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const As="storagemutated",Kn="x-storagemutated-1",Yn=ps(null,As);class lp{_lock(){return cs(!we.global),++this._reculock,this._reculock!==1||we.global||(we.lockOwnerFor=this),this}_unlock(){if(cs(!we.global),--this._reculock==0)for(we.global||(we.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Kr(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&we.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(cs(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Ce.DatabaseClosed(r);case"MissingAPIError":throw new Ce.MissingAPI(r.message,r);default:throw new Ce.OpenFailed(r)}if(!this.active)throw new Ce.TransactionInactive;return cs(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ut(s=>{Ts(s),this._reject(e.error)}),e.onabort=ut(s=>{Ts(s),this.active&&this._reject(new Ce.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=ut(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Yn.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return _t(new Ce.ReadOnly("Transaction is readonly"));if(!this.active)return _t(new Ce.TransactionInactive);if(this._locked())return new de((i,a)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(i,a)},we])});if(r)return Vn(()=>{var i=new de((a,l)=>{this._lock();const c=n(a,l,this);c&&c.then&&c.then(a,l)});return i.finally(()=>this._unlock()),i._lib=!0,i});var s=new de((i,a)=>{var l=n(i,a,this);l&&l.then&&l.then(i,a)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=de.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=a)})()}var i=n._waitingFor;return new de((a,l)=>{r.then(c=>n._waitingQueue.push(ut(a.bind(null,c))),c=>n._waitingQueue.push(ut(l.bind(null,c)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ce.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(Vt(n,e))return n[e];const r=this.schema[e];if(!r)throw new Ce.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,r,this);return s.core=this.db.core.table(e),n[e]=s,s}}function cl(t,e,n,r,s,i,a){return{name:t,keyPath:e,unique:n,multi:r,auto:s,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(s?"++":"")+bh(e)}}function bh(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function yh(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Zu(n,r=>[r.name,r])}}let Es=t=>{try{return t.only([[]]),Es=()=>[[]],[[]]}catch{return Es=()=>lr,lr}};function ul(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>An(r,e)}(t):e=>An(e,t)}function Qo(t){return[].slice.call(t)}let op=0;function ms(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function cp(t,e,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:h,lowerOpen:d,upperOpen:f}=c;return u===void 0?h===void 0?null:e.upperBound(h,!!f):h===void 0?e.lowerBound(u,!!d):e.bound(u,h,!!d,!!f)}const{schema:s,hasGetAll:i}=function(c,u){const h=Qo(c.objectStoreNames);return{schema:{name:c.name,tables:h.map(d=>u.objectStore(d)).map(d=>{const{keyPath:f,autoIncrement:m}=d,_=At(f),p=f==null,y={},b={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:p,compound:_,keyPath:f,autoIncrement:m,unique:!0,extractKey:ul(f)},indexes:Qo(d.indexNames).map(v=>d.index(v)).map(v=>{const{name:$,unique:S,multiEntry:C,keyPath:P}=v,w={name:$,compound:At(P),keyPath:P,unique:S,multiEntry:C,extractKey:ul(P)};return y[ms(P)]=w,w}),getIndexByKeyPath:v=>y[ms(v)]};return y[":id"]=b.primaryKey,f!=null&&(y[ms(f)]=b.primaryKey),b})},hasGetAll:h.length>0&&"getAll"in u.objectStore(h[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),a=s.tables.map(c=>function(u){const h=u.name;return{name:h,schema:u,mutate:function({trans:d,type:f,keys:m,values:_,range:p}){return new Promise((y,b)=>{y=ut(y);const v=d.objectStore(h),$=v.keyPath==null,S=f==="put"||f==="add";if(!S&&f!=="delete"&&f!=="deleteRange")throw new Error("Invalid operation type: "+f);const{length:C}=m||_||{length:1};if(m&&_&&m.length!==_.length)throw new Error("Given keys array must have same length as given values array.");if(C===0)return y({numFailures:0,failures:{},results:[],lastResult:void 0});let P;const w=[],F=[];let T=0;const I=B=>{++T,Ts(B)};if(f==="deleteRange"){if(p.type===4)return y({numFailures:T,failures:F,results:[],lastResult:void 0});p.type===3?w.push(P=v.clear()):w.push(P=v.delete(r(p)))}else{const[B,U]=S?$?[_,m]:[_,null]:[m,null];if(S)for(let W=0;W<C;++W)w.push(P=U&&U[W]!==void 0?v[f](B[W],U[W]):v[f](B[W])),P.onerror=I;else for(let W=0;W<C;++W)w.push(P=v[f](B[W])),P.onerror=I}const E=B=>{const U=B.target.result;w.forEach((W,Q)=>W.error!=null&&(F[Q]=W.error)),y({numFailures:T,failures:F,results:f==="delete"?m:w.map(W=>W.result),lastResult:U})};P.onerror=B=>{I(B),E(B)},P.onsuccess=E})},getMany:({trans:d,keys:f})=>new Promise((m,_)=>{m=ut(m);const p=d.objectStore(h),y=f.length,b=new Array(y);let v,$=0,S=0;const C=w=>{const F=w.target;b[F._pos]=F.result,++S===$&&m(b)},P=hn(_);for(let w=0;w<y;++w)f[w]!=null&&(v=p.get(f[w]),v._pos=w,v.onsuccess=C,v.onerror=P,++$);$===0&&m(b)}),get:({trans:d,key:f})=>new Promise((m,_)=>{m=ut(m);const p=d.objectStore(h).get(f);p.onsuccess=y=>m(y.target.result),p.onerror=hn(_)}),query:function(d){return f=>new Promise((m,_)=>{m=ut(m);const{trans:p,values:y,limit:b,query:v}=f,$=b===1/0?void 0:b,{index:S,range:C}=v,P=p.objectStore(h),w=S.isPrimaryKey?P:P.index(S.name),F=r(C);if(b===0)return m({result:[]});if(d){const T=y?w.getAll(F,$):w.getAllKeys(F,$);T.onsuccess=I=>m({result:I.target.result}),T.onerror=hn(_)}else{let T=0;const I=y||!("openKeyCursor"in w)?w.openCursor(F):w.openKeyCursor(F),E=[];I.onsuccess=B=>{const U=I.result;return U?(E.push(y?U.value:U.primaryKey),++T===b?m({result:E}):void U.continue()):m({result:E})},I.onerror=hn(_)}})}(i),openCursor:function({trans:d,values:f,query:m,reverse:_,unique:p}){return new Promise((y,b)=>{y=ut(y);const{index:v,range:$}=m,S=d.objectStore(h),C=v.isPrimaryKey?S:S.index(v.name),P=_?p?"prevunique":"prev":p?"nextunique":"next",w=f||!("openKeyCursor"in C)?C.openCursor(r($),P):C.openKeyCursor(r($),P);w.onerror=hn(b),w.onsuccess=ut(F=>{const T=w.result;if(!T)return void y(null);T.___id=++op,T.done=!1;const I=T.continue.bind(T);let E=T.continuePrimaryKey;E&&(E=E.bind(T));const B=T.advance.bind(T),U=()=>{throw new Error("Cursor not stopped")};T.trans=d,T.stop=T.continue=T.continuePrimaryKey=T.advance=()=>{throw new Error("Cursor not started")},T.fail=ut(b),T.next=function(){let W=1;return this.start(()=>W--?this.continue():this.stop()).then(()=>this)},T.start=W=>{const Q=new Promise((ve,Ae)=>{ve=ut(ve),w.onerror=hn(Ae),T.fail=Ae,T.stop=q=>{T.stop=T.continue=T.continuePrimaryKey=T.advance=U,ve(q)}}),le=()=>{if(w.result)try{W()}catch(ve){T.fail(ve)}else T.done=!0,T.start=()=>{throw new Error("Cursor behind last entry")},T.stop()};return w.onsuccess=ut(ve=>{w.onsuccess=le,le()}),T.continue=I,T.continuePrimaryKey=E,T.advance=B,le(),Q},y(T)},b)})},count({query:d,trans:f}){const{index:m,range:_}=d;return new Promise((p,y)=>{const b=f.objectStore(h),v=m.isPrimaryKey?b:b.index(m.name),$=r(_),S=$?v.count($):v.count();S.onsuccess=ut(C=>p(C.target.result)),S.onerror=hn(y)})}}}(c)),l={};return a.forEach(c=>l[c.name]=c),{stack:"dbcore",transaction:t.transaction.bind(t),table(c){if(!l[c])throw new Error(`Table '${c}' not found`);return l[c]},MIN_KEY:-1/0,MAX_KEY:Es(e),schema:s}}function hl({_novip:t},e){const n=e.db,r=function(s,i,{IDBKeyRange:a,indexedDB:l},c){return{dbcore:function(h,d){return d.reduce((f,{create:m})=>({...f,...m(f)}),h)}(cp(i,a,c),s.dbcore)}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(s=>{const i=s.name;t.core.schema.tables.some(a=>a.name===i)&&(s.core=t.core.table(i),t[i]instanceof t.Table&&(t[i].core=s.core))})}function Ni({_novip:t},e,n,r){n.forEach(s=>{const i=r[s];e.forEach(a=>{const l=Ml(a,s);(!l||"value"in l&&l.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?Tn(a,s,{get(){return this.table(s)},set(c){Vu(this,s,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):a[s]=new t.Table(s,i))})})}function dl({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function up(t,e){return t._cfg.version-e._cfg.version}function hp(t,e,n,r){const s=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,s);i.create(n),i._completion.catch(r);const a=i._reject.bind(i),l=we.transless||we;Vn(()=>{we.trans=i,we.transless=l,e===0?(yt(s).forEach(c=>{da(n,c,s[c].primKey,s[c].indexes)}),hl(t,n),de.follow(()=>t.on.populate.fire(i)).catch(a)):function({_novip:c},u,h,d){const f=[],m=c._versions;let _=c._dbSchema=gl(c,c.idbdb,d),p=!1;const y=m.filter(v=>v._cfg.version>=u);function b(){return f.length?de.resolve(f.shift()(h.idbtrans)).then(b):de.resolve()}return y.forEach(v=>{f.push(()=>{const $=_,S=v._cfg.dbschema;pl(c,$,d),pl(c,S,d),_=c._dbSchema=S;const C=_h($,S);C.add.forEach(w=>{da(d,w[0],w[1].primKey,w[1].indexes)}),C.change.forEach(w=>{if(w.recreate)throw new Ce.Upgrade("Not yet support for changing primary key");{const F=d.objectStore(w.name);w.add.forEach(T=>fl(F,T)),w.change.forEach(T=>{F.deleteIndex(T.name),fl(F,T)}),w.del.forEach(T=>F.deleteIndex(T))}});const P=v._cfg.contentUpgrade;if(P&&v._cfg.version>u){hl(c,d),h._memoizedTables={},p=!0;let w=Xu(S);C.del.forEach(E=>{w[E]=$[E]}),dl(c,[c.Transaction.prototype]),Ni(c,[c.Transaction.prototype],yt(w),w),h.schema=w;const F=Fl(P);let T;F&&qr();const I=de.follow(()=>{if(T=P(h),T&&F){var E=On.bind(null,null);T.then(E,E)}});return T&&typeof T.then=="function"?de.resolve(T):I.then(()=>T)}}),f.push($=>{(!p||!ep)&&function(S,C){[].slice.call(C.db.objectStoreNames).forEach(P=>S[P]==null&&C.db.deleteObjectStore(P))}(v._cfg.dbschema,$),dl(c,[c.Transaction.prototype]),Ni(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),h.schema=c._dbSchema})}),b().then(()=>{var v,$;$=d,yt(v=_).forEach(S=>{$.db.objectStoreNames.contains(S)||da($,S,v[S].primKey,v[S].indexes)})})}(t,e,i,n).catch(a)})}function _h(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const s=t[r],i=e[r];if(s){const a={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!Gi)a.recreate=!0,n.change.push(a);else{const l=s.idxByName,c=i.idxByName;let u;for(u in l)c[u]||a.del.push(u);for(u in c){const h=l[u],d=c[u];h?h.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,i])}return n}function da(t,e,n,r){const s=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>fl(s,i)),s}function fl(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function gl(t,e,n){const r={};return Pi(e.objectStoreNames,0).forEach(s=>{const i=n.objectStore(s);let a=i.keyPath;const l=cl(bh(a),a||"",!1,!1,!!i.autoIncrement,a&&typeof a!="string",!0),c=[];for(let h=0;h<i.indexNames.length;++h){const d=i.index(i.indexNames[h]);a=d.keyPath;var u=cl(d.name,a,!!d.unique,!!d.multiEntry,!1,a&&typeof a!="string",!1);c.push(u)}r[s]=yh(s,l,c)}),r}function pl({_novip:t},e,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const i=r[s],a=n.objectStore(i);t._hasGetAll="getAll"in a;for(let l=0;l<a.indexNames.length;++l){const c=a.indexNames[l],u=a.index(c).keyPath,h=typeof u=="string"?u:"["+Pi(u).join("+")+"]";if(e[i]){const d=e[i].idxByName[h];d&&(d.name=c,delete e[i].idxByName[h],e[i].idxByName[c]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ct.WorkerGlobalScope&&ct instanceof ct.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class dp{_parseStoresSpec(e,n){yt(e).forEach(r=>{if(e[r]!==null){var s=e[r].split(",").map((a,l)=>{const c=(a=a.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return cl(c,u||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),At(u),l===0)}),i=s.shift();if(i.multi)throw new Ce.Schema("Primary key cannot be multi-valued");s.forEach(a=>{if(a.auto)throw new Ce.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new Ce.Schema("Index must have a name and cannot be an empty string")}),n[r]=yh(r,i,s)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?Rt(this._cfg.storesSource,e):e;const r=n._versions,s={};let i={};return r.forEach(a=>{Rt(s,a._cfg.storesSource),i=a._cfg.dbschema={},a._parseStoresSpec(s,i)}),n._dbSchema=i,dl(n,[n._allTables,n,n.Transaction.prototype]),Ni(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],yt(i),i),n._storeNames=yt(i),this}upgrade(e){return this._cfg.contentUpgrade=ql(this._cfg.contentUpgrade||et,e),this}}function Wl(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new En(Yi,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Vl(t){return t&&typeof t.databases=="function"}function ml(t){return Vn(function(){return we.letThrough=!0,t()})}function fp(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function gp(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?_t(e.dbOpenError):t);mn&&(e.openCanceller._stackHolder=vr()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function s(){if(e.openCanceller!==r)throw new Ce.DatabaseClosed("db.open() was cancelled")}let i=e.dbReadyResolve,a=null,l=!1;return de.race([r,(typeof navigator>"u"?de.resolve():fp()).then(()=>new de((c,u)=>{if(s(),!n)throw new Ce.MissingAPI;const h=t.name,d=e.autoSchema?n.open(h):n.open(h,Math.round(10*t.verno));if(!d)throw new Ce.MissingAPI;d.onerror=hn(u),d.onblocked=ut(t._fireOnBlocked),d.onupgradeneeded=ut(f=>{if(a=d.transaction,e.autoSchema&&!t._options.allowEmptyDB){d.onerror=Ts,a.abort(),d.result.close();const _=n.deleteDatabase(h);_.onsuccess=_.onerror=ut(()=>{u(new Ce.NoSuchDatabase(`Database ${h} doesnt exist`))})}else{a.onerror=hn(u);var m=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;l=m<1,t._novip.idbdb=d.result,hp(t,m/10,a,u)}},u),d.onsuccess=ut(()=>{a=null;const f=t._novip.idbdb=d.result,m=Pi(f.objectStoreNames);if(m.length>0)try{const p=f.transaction((_=m).length===1?_[0]:_,"readonly");e.autoSchema?function({_novip:y},b,v){y.verno=b.version/10;const $=y._dbSchema=gl(0,b,v);y._storeNames=Pi(b.objectStoreNames,0),Ni(y,[y._allTables],yt($),$)}(t,f,p):(pl(t,t._dbSchema,p),function(y,b){const v=_h(gl(0,y.idbdb,b),y._dbSchema);return!(v.add.length||v.change.some($=>$.add.length||$.change.length))}(t,p)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),hl(t,p)}catch{}var _;gs.push(t),f.onversionchange=ut(p=>{e.vcFired=!0,t.on("versionchange").fire(p)}),f.onclose=ut(p=>{t.on("close").fire(p)}),l&&function({indexedDB:p,IDBKeyRange:y},b){!Vl(p)&&b!==Yi&&Wl(p,y).put({name:b}).catch(et)}(t._deps,h),c()},u)}))]).then(()=>(s(),e.onReadyBeingFired=[],de.resolve(ml(()=>t.on.ready.fire(t.vip))).then(function c(){if(e.onReadyBeingFired.length>0){let u=e.onReadyBeingFired.reduce(ql,et);return e.onReadyBeingFired=[],de.resolve(ml(()=>u(t.vip))).then(c)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(c=>{e.dbOpenError=c;try{a&&a.abort()}catch{}return r===e.openCanceller&&t._close(),_t(c)}).finally(()=>{e.openComplete=!0,i()})}function vl(t){var e=i=>t.next(i),n=s(e),r=s(i=>t.throw(i));function s(i){return a=>{var l=i(a),c=l.value;return l.done?c:c&&typeof c.then=="function"?c.then(n,r):At(c)?Promise.all(c).then(n,r):n(c)}}return s(e)()}function pp(t,e,n){var r=arguments.length;if(r<2)throw new Ce.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];return n=s.pop(),[t,Ju(s),n]}function wh(t,e,n,r,s){return de.resolve().then(()=>{const i=we.transless||we,a=t._createTransaction(e,n,t._dbSchema,r),l={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(d){return d.name===Ul.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>wh(t,e,n,null,s))):_t(d)}const c=Fl(s);let u;c&&qr();const h=de.follow(()=>{if(u=s.call(a,a),u)if(c){var d=On.bind(null,null);u.then(d,d)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=vl(u))},l);return(u&&typeof u.then=="function"?de.resolve(u).then(d=>a.active?d:_t(new Ce.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):h.then(()=>u)).then(d=>(r&&a._resolve(),a._completion.then(()=>d))).catch(d=>(a._reject(d),_t(d)))})}function Gs(t,e,n){const r=At(t)?t.slice():[t];for(let s=0;s<n;++s)r.push(e);return r}const mp={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,s={},i=[];function a(h,d,f){const m=ms(h),_=s[m]=s[m]||[],p=h==null?0:typeof h=="string"?1:h.length,y=d>0,b={...f,isVirtual:y,keyTail:d,keyLength:p,extractKey:ul(h),unique:!y&&f.unique};return _.push(b),b.isPrimaryKey||i.push(b),p>1&&a(p===2?h[0]:h.slice(0,p-1),d+1,f),_.sort((v,$)=>v.keyTail-$.keyTail),b}const l=a(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[l];for(const h of r.indexes)a(h.keyPath,0,h);function c(h){const d=h.query.index;return d.isVirtual?{...h,query:{index:d,range:(f=h.query.range,m=d.keyTail,{type:f.type===1?2:f.type,lower:Gs(f.lower,f.lowerOpen?t.MAX_KEY:t.MIN_KEY,m),lowerOpen:!0,upper:Gs(f.upper,f.upperOpen?t.MIN_KEY:t.MAX_KEY,m),upperOpen:!0})}}:h;var f,m}return{...n,schema:{...r,primaryKey:l,indexes:i,getIndexByKeyPath:function(h){const d=s[ms(h)];return d&&d[0]}},count:h=>n.count(c(h)),query:h=>n.query(c(h)),openCursor(h){const{keyTail:d,isVirtual:f,keyLength:m}=h.query.index;return f?n.openCursor(c(h)).then(_=>_&&function(p){return Object.create(p,{continue:{value:function(b){b!=null?p.continue(Gs(b,h.reverse?t.MAX_KEY:t.MIN_KEY,d)):h.unique?p.continue(p.key.slice(0,m).concat(h.reverse?t.MIN_KEY:t.MAX_KEY,d)):p.continue()}},continuePrimaryKey:{value(b,v){p.continuePrimaryKey(Gs(b,t.MAX_KEY,d),v)}},primaryKey:{get:()=>p.primaryKey},key:{get(){const b=p.key;return m===1?b[0]:b.slice(0,m)}},value:{get:()=>p.value}})}(_)):n.openCursor(h)}}}}}};function Gl(t,e,n,r){return n=n||{},r=r||"",yt(t).forEach(s=>{if(Vt(e,s)){var i=t[s],a=e[s];if(typeof i=="object"&&typeof a=="object"&&i&&a){const l=Za(i);l!==Za(a)?n[r+s]=e[s]:l==="Object"?Gl(i,a,n,r+s+"."):i!==a&&(n[r+s]=e[s])}else i!==a&&(n[r+s]=e[s])}else n[r+s]=void 0}),yt(e).forEach(s=>{Vt(t,s)||(n[r+s]=e[s])}),n}const vp={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(i){const a=we.trans,{deleting:l,creating:c,updating:u}=a.table(e).hook;switch(i.type){case"add":if(c.fire===et)break;return a._promise("readwrite",()=>h(i),!0);case"put":if(c.fire===et&&u.fire===et)break;return a._promise("readwrite",()=>h(i),!0);case"delete":if(l.fire===et)break;return a._promise("readwrite",()=>h(i),!0);case"deleteRange":if(l.fire===et)break;return a._promise("readwrite",()=>function(f){return d(f.trans,f.range,1e4)}(i),!0)}return n.mutate(i);function h(f){const m=we.trans,_=f.keys||function(p,y){return y.type==="delete"?y.keys:y.keys||y.values.map(p.extractKey)}(r,f);if(!_)throw new Error("Keys missing");return(f=f.type==="add"||f.type==="put"?{...f,keys:_}:{...f}).type!=="delete"&&(f.values=[...f.values]),f.keys&&(f.keys=[...f.keys]),function(p,y,b){return y.type==="add"?Promise.resolve([]):p.getMany({trans:y.trans,keys:b,cache:"immutable"})}(n,f,_).then(p=>{const y=_.map((b,v)=>{const $=p[v],S={onerror:null,onsuccess:null};if(f.type==="delete")l.fire.call(S,b,$,m);else if(f.type==="add"||$===void 0){const C=c.fire.call(S,b,f.values[v],m);b==null&&C!=null&&(b=C,f.keys[v]=b,r.outbound||nn(f.values[v],r.keyPath,b))}else{const C=Gl($,f.values[v]),P=u.fire.call(S,C,b,$,m);if(P){const w=f.values[v];Object.keys(P).forEach(F=>{Vt(w,F)?w[F]=P[F]:nn(w,F,P[F])})}}return S});return n.mutate(f).then(({failures:b,results:v,numFailures:$,lastResult:S})=>{for(let C=0;C<_.length;++C){const P=v?v[C]:_[C],w=y[C];P==null?w.onerror&&w.onerror(b[C]):w.onsuccess&&w.onsuccess(f.type==="put"&&p[C]?f.values[C]:P)}return{failures:b,results:v,numFailures:$,lastResult:S}}).catch(b=>(y.forEach(v=>v.onerror&&v.onerror(b)),Promise.reject(b)))})}function d(f,m,_){return n.query({trans:f,values:!1,query:{index:r,range:m},limit:_}).then(({result:p})=>h({type:"delete",keys:p,trans:f}).then(y=>y.numFailures>0?Promise.reject(y.failures[0]):p.length<_?{failures:[],numFailures:0,lastResult:void 0}:d(f,{...m,lower:p[p.length-1],lowerOpen:!0},_)))}}}}})};function $h(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let s=0,i=0;s<e.keys.length&&i<t.length;++s)It(e.keys[s],t[i])===0&&(r.push(n?Rs(e.values[s]):e.values[s]),++i);return r.length===t.length?r:null}catch{return null}}const bp={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const s=$h(r.keys,r.trans._cache,r.cache==="clone");return s?de.resolve(s):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Rs(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Yl(t){return!("from"in t)}const $n=function(t,e){if(!this){const n=new $n;return t&&"d"in t&&Rt(n,t),n}Rt(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Ls(t,e,n){const r=It(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Yl(t))return Rt(t,{from:e,to:n,d:1});const s=t.l,i=t.r;if(It(n,t.from)<0)return s?Ls(s,e,n):t.l={from:e,to:n,d:1,l:null,r:null},ec(t);if(It(e,t.to)>0)return i?Ls(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},ec(t);It(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),It(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;s&&!t.l&&Mi(t,s),i&&a&&Mi(t,i)}function Mi(t,e){Yl(e)||function n(r,{from:s,to:i,l:a,r:l}){Ls(r,s,i),a&&n(r,a),l&&n(r,l)}(t,e)}function yp(t,e){const n=bl(e);let r=n.next();if(r.done)return!1;let s=r.value;const i=bl(t);let a=i.next(s.from),l=a.value;for(;!r.done&&!a.done;){if(It(l.from,s.to)<=0&&It(l.to,s.from)>=0)return!0;It(s.from,l.from)<0?s=(r=n.next(l.from)).value:l=(a=i.next(s.from)).value}return!1}function bl(t){let e=Yl(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&It(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||It(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function ec(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const i=s==="r"?"l":"r",a={...t},l=t[s];t.from=l.from,t.to=l.to,t[s]=l[s],a[s]=l[i],t[i]=a,a.d=tc(a)}t.d=tc(t)}function tc({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Mr($n.prototype,{add(t){return Mi(this,t),this},addKey(t){return Ls(this,t,t),this},addKeys(t){return t.forEach(e=>Ls(this,e,e)),this},[Xa](){return bl(this)}});const _p={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new $n(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const s=t.table(r),{schema:i}=s,{primaryKey:a}=i,{extractKey:l,outbound:c}=a,u={...s,mutate:f=>{const m=f.trans,_=m.mutatedParts||(m.mutatedParts={}),p=P=>{const w=`idb://${e}/${r}/${P}`;return _[w]||(_[w]=new $n)},y=p(""),b=p(":dels"),{type:v}=f;let[$,S]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[];const C=f.trans._cache;return s.mutate(f).then(P=>{if(At($)){v!=="delete"&&($=P.results),y.addKeys($);const w=$h($,C);w||v==="add"||b.addKeys($),(w||S)&&function(F,T,I,E){function B(U){const W=F(U.name||"");function Q(ve){return ve!=null?U.extractKey(ve):null}const le=ve=>U.multiEntry&&At(ve)?ve.forEach(Ae=>W.addKey(Ae)):W.addKey(ve);(I||E).forEach((ve,Ae)=>{const q=I&&Q(I[Ae]),K=E&&Q(E[Ae]);It(q,K)!==0&&(q!=null&&le(q),K!=null&&le(K))})}T.indexes.forEach(B)}(p,i,w,S)}else if($){const w={from:$.lower,to:$.upper};b.add(w),y.add(w)}else y.add(n),b.add(n),i.indexes.forEach(w=>p(w.name).add(n));return P})}},h=({query:{index:f,range:m}})=>{var _,p;return[f,new $n((_=m.lower)!==null&&_!==void 0?_:t.MIN_KEY,(p=m.upper)!==null&&p!==void 0?p:t.MAX_KEY)]},d={get:f=>[a,new $n(f.key)],getMany:f=>[a,new $n().addKeys(f.keys)],count:h,query:h,openCursor:h};return yt(d).forEach(f=>{u[f]=function(m){const{subscr:_}=we;if(_){const p=S=>{const C=`idb://${e}/${r}/${S}`;return _[C]||(_[C]=new $n)},y=p(""),b=p(":dels"),[v,$]=d[f](m);if(p(v.name||"").add($),!v.isPrimaryKey){if(f!=="count"){const S=f==="query"&&c&&m.values&&s.query({...m,values:!1});return s[f].apply(this,arguments).then(C=>{if(f==="query"){if(c&&m.values)return S.then(({result:w})=>(y.addKeys(w),C));const P=m.values?C.result.map(l):C.result;m.values?y.addKeys(P):b.addKeys(P)}else if(f==="openCursor"){const P=C,w=m.values;return P&&Object.create(P,{key:{get:()=>(b.addKey(P.primaryKey),P.key)},primaryKey:{get(){const F=P.primaryKey;return b.addKey(F),F}},value:{get:()=>(w&&y.addKey(P.primaryKey),P.value)}})}return C})}b.add(n)}}return s[f].apply(this,arguments)}}),u}}}};class En{constructor(e,n){this._middlewares={},this.verno=0;const r=En.dependencies;this._options=n={addons:En.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:s}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:et,dbReadyPromise:null,cancelOpen:et,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;i.dbReadyPromise=new de(l=>{i.dbReadyResolve=l}),i.openCanceller=new de((l,c)=>{i.cancelOpen=c}),this._state=i,this.name=e,this.on=ps(this,"populate","blocked","versionchange","close",{ready:[ql,et]}),this.on.ready.subscribe=Gu(this.on.ready.subscribe,l=>(c,u)=>{En.vip(()=>{const h=this._state;if(h.openComplete)h.dbOpenError||de.resolve().then(c),u&&l(c);else if(h.onReadyBeingFired)h.onReadyBeingFired.push(c),u&&l(c);else{l(c);const d=this;u||l(function f(){d.on.ready.unsubscribe(c),d.on.ready.unsubscribe(f)})}})}),this.Collection=(a=this,Gr(rp.prototype,function(l,c){this.db=a;let u=ph,h=null;if(c)try{u=c()}catch(_){h=_}const d=l._ctx,f=d.table,m=f.hook.reading.fire;this._ctx={table:f,index:d.index,isPrimKey:!d.index||f.schema.primKey.keyPath&&d.index===f.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:h,or:d.or,valueMapper:m!==Ss?m:null}})),this.Table=function(l){return Gr(np.prototype,function(c,u,h){this.db=l,this._tx=h,this.name=c,this.schema=u,this.hook=l._allTables[c]?l._allTables[c].hook:ps(null,{creating:[zg,et],reading:[Kg,Ss],updating:[Wg,et],deleting:[Hg,et]})})}(this),this.Transaction=function(l){return Gr(lp.prototype,function(c,u,h,d,f){this.db=l,this.mode=c,this.storeNames=u,this.schema=h,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=ps(this,"complete","error","abort"),this.parent=f||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new de((m,_)=>{this._resolve=m,this._reject=_}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},m=>{var _=this.active;return this.active=!1,this.on.error.fire(m),this.parent?this.parent._reject(m):_&&this.idbtrans&&this.idbtrans.abort(),_t(m)})})}(this),this.Version=function(l){return Gr(dp.prototype,function(c){this.db=l,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return Gr(vh.prototype,function(c,u,h){this.db=l,this._ctx={table:c,index:u===":id"?null:u,or:h};const d=l._deps.indexedDB;if(!d)throw new Ce.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(f,m)=>d.cmp(m,f),this._max=(f,m)=>d.cmp(f,m)>0?f:m,this._min=(f,m)=>d.cmp(f,m)<0?f:m,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${l.oldVersion/10}`)}),this._maxKey=Es(n.IDBKeyRange),this._createTransaction=(l,c,u,h)=>new this.Transaction(l,c,u,this._options.chromeTransactionDurability,h),this._fireOnBlocked=l=>{this.on("blocked").fire(l),gs.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(l))},this.use(mp),this.use(vp),this.use(_p),this.use(bp),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(l=>l(this))}version(e){if(isNaN(e)||e<.1)throw new Ce.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Ce.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(s=>s._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(up),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||we.letThrough||this._vip)?e():new de((n,r)=>{if(this._state.openComplete)return r(new Ce.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Ce.DatabaseClosed);this.open().catch(et)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:s}){s&&this.unuse({stack:e,name:s});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:r??10,name:s}),i.sort((a,l)=>a.level-l.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>r?s.create!==r:!!n&&s.name!==n)),this}open(){return gp(this)}_close(){const e=this._state,n=gs.indexOf(this);if(n>=0&&gs.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new de(r=>{e.dbReadyResolve=r}),e.openCanceller=new de((r,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Ce.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new de((r,s)=>{const i=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=ut(()=>{(function({indexedDB:l,IDBKeyRange:c},u){!Vl(l)&&u!==Yi&&Wl(l,c).delete(u).catch(et)})(this._deps,this.name),r()}),a.onerror=hn(s),a.onblocked=this._fireOnBlocked};if(e)throw new Ce.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return yt(this._allTables).map(e=>this._allTables[e])}transaction(){const e=pp.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let s=we.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const i=e.indexOf("?")!==-1;let a,l;e=e.replace("!","").replace("?","");try{if(l=n.map(u=>{var h=u instanceof this.Table?u.name:u;if(typeof h!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return h}),e=="r"||e===la)a=la;else{if(e!="rw"&&e!=oa)throw new Ce.InvalidArgument("Invalid transaction mode: "+e);a=oa}if(s){if(s.mode===la&&a===oa){if(!i)throw new Ce.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&l.forEach(u=>{if(s&&s.storeNames.indexOf(u)===-1){if(!i)throw new Ce.SubTransaction("Table "+u+" not included in parent transaction.");s=null}}),i&&s&&!s.active&&(s=null)}}catch(u){return s?s._promise(null,(h,d)=>{d(u)}):_t(u)}const c=wh.bind(null,this,a,l,s,r);return s?s._promise(a,c,"lock"):we.trans?Kr(we.transless,()=>this._whenReady(c)):this._whenReady(c)}table(e){if(!Vt(this._allTables,e))throw new Ce.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const wp=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class $p{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[wp](){return this}}function Ch(t,e){return yt(e).forEach(n=>{Mi(t[n]||(t[n]=new $n),e[n])}),t}function Cp(t){let e,n=!1;const r=new $p(s=>{const i=Fl(t);let a=!1,l={},c={};const u={get closed(){return a},unsubscribe:()=>{a=!0,Yn.storagemutated.unsubscribe(m)}};s.start&&s.start(u);let h=!1,d=!1;function f(){return yt(c).some(p=>l[p]&&yp(l[p],c[p]))}const m=p=>{Ch(l,p),f()&&_()},_=()=>{if(h||a)return;l={};const p={},y=function(b){i&&qr();const v=()=>Vn(t,{subscr:b,trans:null}),$=we.trans?Kr(we.transless,v):v();return i&&$.then(On,On),$}(p);d||(Yn(As,m),d=!0),h=!0,Promise.resolve(y).then(b=>{n=!0,e=b,h=!1,a||(f()?_():(l={},c=p,s.next&&s.next(b)))},b=>{h=!1,n=!1,s.error&&s.error(b),u.unsubscribe()})};return _(),u});return r.hasValue=()=>n,r.getValue=()=>e,r}let yl;try{yl={indexedDB:ct.indexedDB||ct.mozIndexedDB||ct.webkitIndexedDB||ct.msIndexedDB,IDBKeyRange:ct.IDBKeyRange||ct.webkitIDBKeyRange}}catch{yl={indexedDB:null,IDBKeyRange:null}}const Xn=En;function bi(t){let e=kn;try{kn=!0,Yn.storagemutated.fire(t)}finally{kn=e}}Mr(Xn,{...di,delete:t=>new Xn(t,{addons:[]}).delete(),exists:t=>new Xn(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return Vl(e)?Promise.resolve(e.databases()).then(r=>r.map(s=>s.name).filter(s=>s!==Yi)):Wl(e,n).toCollection().primaryKeys()}(Xn.dependencies).then(t)}catch{return _t(new Ce.MissingAPI)}},defineClass:()=>function(t){Rt(this,t)},ignoreTransaction:t=>we.trans?Kr(we.transless,t):t(),vip:ml,async:function(t){return function(){try{var e=vl(t.apply(this,arguments));return e&&typeof e.then=="function"?e:de.resolve(e)}catch(n){return _t(n)}}},spawn:function(t,e,n){try{var r=vl(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:de.resolve(r)}catch(s){return _t(s)}},currentTransaction:{get:()=>we.trans||null},waitFor:function(t,e){const n=de.resolve(typeof t=="function"?Xn.ignoreTransaction(t):t).timeout(e||6e4);return we.trans?we.trans.waitFor(n):n},Promise:de,debug:{get:()=>mn,set:t=>{eh(t,t==="dexie"?()=>!0:gh)}},derive:Pr,extend:Rt,props:Mr,override:Gu,Events:ps,on:Yn,liveQuery:Cp,extendObservabilitySet:Ch,getByKeyPath:An,setByKeyPath:nn,delByKeyPath:function(t,e){typeof e=="string"?nn(t,e,void 0):"length"in e&&[].map.call(e,function(n){nn(t,n,void 0)})},shallowClone:Xu,deepClone:Rs,getObjectDiff:Gl,cmp:It,asap:Yu,minKey:ol,addons:[],connections:gs,errnames:Ul,dependencies:yl,semVer:Go,version:Go.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),Xn.maxKey=Es(Xn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Yn(As,t=>{if(!kn){let e;Gi?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Kn,!0,!0,t)):e=new CustomEvent(Kn,{detail:t}),kn=!0,dispatchEvent(e),kn=!1}}),addEventListener(Kn,({detail:t})=>{kn||bi(t)}));let kn=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(Kn);typeof t.unref=="function"&&t.unref(),Yn(As,e=>{kn||t.postMessage(e)}),t.onmessage=e=>{e.data&&bi(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Yn(As,e=>{try{kn||(typeof localStorage<"u"&&localStorage.setItem(Kn,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Kn,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===Kn){const n=JSON.parse(e.newValue);n&&bi(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===Kn&&bi(e.changedParts)})}de.rejectionMapper=function(t,e){if(!t||t instanceof Ir||t instanceof TypeError||t instanceof SyntaxError||!t.name||!zo[t.name])return t;var n=new zo[t.name](e||t.message,t);return"stack"in t&&Tn(n,"stack",{get:function(){return this.inner.stack}}),n},eh(mn,gh);class kp extends En{userSettings;constructor(e){super(e),this.version(1).stores({userSettings:"userId"})}}const kh=new kp("userSettings"),[nc,_l]=L({userId:0,username:"",email:"",theme:"light"}),[Sp,rc]=L(!1);function Ge(t){return t&&rc(!1),Sp()||(rc(!0),Tp().pipe(Le(1),bt(e=>{e.length>0&&e[0].userId===nc().userId&&_l(e[0])})).subscribe()),[nc,_l]}function xp(t,e){kh.userSettings.put(t).then(()=>{e&&e()}).catch(n=>{console.error(n)}),_l(t)}function Tp(){return Se.toObservable(kh.userSettings.toArray())}const Ap="_body_s8fmt_1",Ep="_primary_s8fmt_14",Lp="_accent_s8fmt_27",Pp="_tertiary_s8fmt_36",Ip="_warn_s8fmt_44",Op="_hover_s8fmt_48",Rp="_popup_s8fmt_65",Bn={body:Ap,primary:Ep,accent:Lp,tertiary:Pp,warn:Ip,hover:Op,popup:Rp},Dp="_body_1hc90_1",Bp="_primary_1hc90_14",Np="_accent_1hc90_27",Mp="_tertiary_1hc90_36",Fp="_warn_1hc90_44",jp="_hover_1hc90_48",Up="_popup_1hc90_65",Nn={body:Dp,primary:Bp,accent:Np,tertiary:Mp,warn:Fp,hover:jp,popup:Up},sr=function(){let t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor),t},qp="_active_1v5yj_1",Kp="_inactive_1v5yj_6",zp="_navbar_1v5yj_11",Hp="_toolBar_1v5yj_102",Ys={active:qp,inactive:Kp,navbar:zp,toolBar:Hp};var Wp=k('<svg width=40 height=40 viewBox="0 0 83 88"fill=none xmlns=http://www.w3.org/2000/svg><path d="M31.125 57.75C31.125 57.0207 31.3983 56.3212 31.8847 55.8055C32.3711 55.2897 33.0308 55 33.7188 55H49.2812C49.9692 55 50.6289 55.2897 51.1153 55.8055C51.6017 56.3212 51.875 57.0207 51.875 57.75C51.875 58.4793 51.6017 59.1788 51.1153 59.6945C50.6289 60.2103 49.9692 60.5 49.2812 60.5H33.7188C33.0308 60.5 32.3711 60.2103 31.8847 59.6945C31.3983 59.1788 31.125 58.4793 31.125 57.75ZM20.75 41.25C20.75 40.5207 21.0233 39.8212 21.5097 39.3055C21.9961 38.7897 22.6558 38.5 23.3438 38.5H59.6562C60.3442 38.5 61.0039 38.7897 61.4903 39.3055C61.9767 39.8212 62.25 40.5207 62.25 41.25C62.25 41.9793 61.9767 42.6788 61.4903 43.1945C61.0039 43.7103 60.3442 44 59.6562 44H23.3438C22.6558 44 21.9961 43.7103 21.5097 43.1945C21.0233 42.6788 20.75 41.9793 20.75 41.25ZM10.375 24.75C10.375 24.0207 10.6483 23.3212 11.1347 22.8055C11.6211 22.2897 12.2808 22 12.9688 22H70.0312C70.7192 22 71.3789 22.2897 71.8653 22.8055C72.3517 23.3212 72.625 24.0207 72.625 24.75C72.625 25.4793 72.3517 26.1788 71.8653 26.6945C71.3789 27.2103 70.7192 27.5 70.0312 27.5H12.9688C12.2808 27.5 11.6211 27.2103 11.1347 26.6945C10.6483 26.1788 10.375 25.4793 10.375 24.75Z"fill=white>');const Vp=()=>Wp();var Gp=k("<svg xmlns=http://www.w3.org/2000/svg width=200 height=300><rect x=10 y=10 width=180 height=280 rx=20 fill=#E0E0E0 stroke=#B0B0B0 stroke-width=2></rect><rect x=20 y=20 width=160 height=50 rx=10 fill=#FFFFFF stroke=#B0B0B0 stroke-width=1></rect><rect x=20 y=90 width=40 height=40 rx=8 fill=#F0F0F0 stroke=#B0B0B0 stroke-width=1></rect><rect x=70 y=90 width=40 height=40 rx=8 fill=#F0F0F0 stroke=#B0B0B0 stroke-width=1></rect><rect x=120 y=90 width=40 height=40 rx=8 fill=#F0F0F0 stroke=#B0B0B0 stroke-width=1></rect><rect x=20 y=140 width=40 height=40 rx=8 fill=#F0F0F0 stroke=#B0B0B0 stroke-width=1></rect><rect x=70 y=140 width=40 height=40 rx=8 fill=#F0F0F0 stroke=#B0B0B0 stroke-width=1></rect><rect x=120 y=140 width=40 height=40 rx=8 fill=#F0F0F0 stroke=#B0B0B0 stroke-width=1></rect><rect x=20 y=190 width=40 height=40 rx=8 fill=#F0F0F0 stroke=#B0B0B0 stroke-width=1></rect><rect x=70 y=190 width=40 height=40 rx=8 fill=#F0F0F0 stroke=#B0B0B0 stroke-width=1></rect><rect x=120 y=190 width=40 height=40 rx=8 fill=#F0F0F0 stroke=#B0B0B0 stroke-width=1></rect><rect x=20 y=240 width=150 height=40 rx=8 fill=#F0F0F0 stroke=#B0B0B0 stroke-width=1>");const Yp=t=>(()=>{var e=Gp();return ft(e,ht(t,{viewBox:"0 0 200 300",fill:"none"}),!0,!0),e})();var Zp=(t,e)=>{wt(()=>{const n=r=>{const s=t();!s||s.contains(r.target)||e(r)};document.addEventListener("click",n),Pn(()=>document.removeEventListener("click",n))})},Zl=Zp,Xp=k("<b>X"),Jp=k("<div><div><h2 style=margin-left:5%></h2><span>");const Wt=t=>{const[e,n]=Ge();Xe(gt);const r=O(()=>Ve(e().theme)),[s,i]=t.backgroundClick??L(!0),a=vn(),l=t.translate?.x??"-50%",c=t.translate?.y??"-50%",[u,h]=L();return Zl(()=>t.ref?t.ref():u(),()=>{i(d=>!d)}),o(Pl,{ref:d=>h(d),get children(){var d=Jp(),f=d.firstChild,m=f.firstChild,_=m.nextSibling;return`translate(${l},${c})`!=null?d.style.setProperty("transform",`translate(${l},${c})`):d.style.removeProperty("transform"),d.style.setProperty("padding","0px"),d.style.setProperty("padding-bottom","5px"),d.style.setProperty("padding-top","3.8rem"),d.style.setProperty("overflow","hidden"),f.style.setProperty("display","flex"),f.style.setProperty("justify-content","space-between"),f.style.setProperty("position","fixed"),f.style.setProperty("top","0"),f.style.setProperty("left","0"),f.style.setProperty("right","0"),g(m,()=>t.title??"Modal"),g(_,o(oe,{onClick:()=>t.setClose?t.setClose(p=>!p):i(p=>!p),get children(){return Xp()}})),g(d,()=>t.children,null),z(p=>{var y=t.width?t.width:a.isMobile()?"90vw":"45vw",b=t.height?t.height:a.isMobile()?"90vh":"60vh",v=`${r()?.popup} ${r()?.primary}`,$=r()?.accent;return y!==p.e&&((p.e=y)!=null?d.style.setProperty("width",y):d.style.removeProperty("width")),b!==p.t&&((p.t=b)!=null?d.style.setProperty("height",b):d.style.removeProperty("height")),v!==p.a&&D(d,p.a=v),$!==p.o&&D(f,p.o=$),p},{e:void 0,t:void 0,a:void 0,o:void 0}),d}})},Qp="_header_1m7lb_1",em="_tabBar_1m7lb_8",tm="_wrapper_1m7lb_17",sc={header:Qp,tabBar:em,wrapper:tm};var nm=k("<div><div>");const rm=t=>{const e=Xe(gt);return o(Wt,{title:"Damage Calculator",get width(){return e.isMobile()?"100%":"50%"},get height(){return e.isMobile()?"100%":"50%"},get backgroundClick(){return[t.accssor,t.setter]},get children(){var n=nm(),r=n.firstChild;return z(s=>{var i=`${sc.wrapper}`,a=`${sc.header}`;return i!==s.e&&D(n,s.e=i),a!==s.t&&D(r,s.t=a),s},{e:void 0,t:void 0}),n}})};var sm=k("<li><div>"),im=k("<div><div><span></span><ul></ul><div>"),am=k("<li>");const lm=t=>{const[e,n]=Ge(),r=O(()=>Ve(e().theme));L(!1),L(!1);const[s,i]=L(window.location.pathname),[a,l]=L(!1),c=[{Name:"Home",Link:"/"},{Name:"Characters",Link:"/characters"},{Name:"Info",Link:"/info"},{Name:"Homebrew",Link:"/homebrew"}],[{list:[u,h]},d]=St(t,["list"]),f=m=>s()==="/"&&m.Link==="/"||s().startsWith(m.Link)&&s()!=="/"&&m.Link!=="/"?Ys.active:Ys.inactive;return z(()=>{d.isMobile&&h(!1)}),(()=>{var m=im(),_=m.firstChild,p=_.firstChild,y=p.nextSibling,b=y.nextSibling;return g(p,o(ar,{href:"/",children:"MySite"})),g(y,o(V,{get when(){return d.isMobile},get children(){var v=sm(),$=v.firstChild;return g($,o(ar,{href:"/",children:"MySite"})),v}}),null),g(y,o(J,{each:c,children:(v,$)=>o(V,{get when(){return!d.isMobile||$()===0||u()},get children(){var S=am();return g(S,o(ar,{onClick:()=>i(v.Link),get href(){return v.Link},get children(){return v.Name}})),z(()=>D(S,`${r()?.accent} ${r()?.hover} ${f(v)}`)),S}})}),null),g(b,o(oe,{onClick:()=>l(!a()),title:"damage calculator",get children(){return o(Yp,{})}})),g(_,o(oe,{onClick:()=>h(v=>!v),get children(){return o(Vp,{})}}),null),g(m,o(V,{get when(){return a()},get children(){return o(rm,{setter:l,accssor:a})}}),null),z(v=>{var $=`${r()?.primary} ${Ys.navbar}`,S=`${d.style??""}`,C=d.isMobile?{margin:"0 auto",width:"min-content"}:{},P=`${Ys.toolBar}`;return $!==v.e&&D(m,v.e=$),S!==v.t&&D(_,v.t=S),v.a=Ll(y,C,v.a),P!==v.o&&D(b,v.o=P),v},{e:void 0,t:void 0,a:void 0,o:void 0}),m})()};class Tr{set;constructor(){this.set=new Map}add(e){this.set.set(JSON.stringify(e),e)}delete(e){this.set.delete(JSON.stringify(e))}get value(){return Array.from(this.set.values())}set value(e){e?.length&&(this.clear(),e.forEach(n=>this.add(n)))}clear(){this.set.clear()}}const fa=(t,e,n)=>t.sort((r,s)=>{switch(e){case"cost":const i=r[e],a=s[e];if(i.quantity>a.quantity)return n?1:-1;if(i.quantity<a.quantity)return n?-1:1;break;case"damage":const l=r[e],c=s[e];if(l[0].damageDice>c[0].damageDice)return n?1:-1;if(l[0].damageDice<c[0].damageDice)return n?-1:1;break;case"range":const u=r[e],h=s[e];if(u.normal>h.normal)return n?1:-1;if(u.normal<h.normal)return n?-1:1;break;case"armorClass":const d=r[e],f=s[e];if(d.base>f.base)return n?1:-1;if(d.base<f.base)return n?-1:1;break;default:if(r[e]>s[e])return n?1:-1;if(r[e]<s[e])return n?-1:1;break}return 0});function ic(t,e,n,r={full:1,half:.5,third:1/3}){if(t<1||e<1||e>9)return 0;const s=r[n]?r[n]:1,i=Math.ceil(t*s);if(i<e*2-1)return"-";const a=()=>e===5&&i>=18||e===6&&i>=19||e===7&&i>=20?1:0;return e===1?2+(i>2?2:Math.floor(i/2)):e<=3?2+(i>9||i>=e*2?1:0):e===4?1+(i>=9?2:i===8?1:0):e===5?1+(i>17?2:i>=e*2?1:0):e<=7?(i>9||i>=e*2?1:0)+a():Math.min(1,1+Math.abs(Math.floor((i-e*2)/2)))}function ac(t,e,n=!1){const r=i=>i===0?"cantrips_known":`spell_slots_level_${i}`,s={};if(e==="half")switch(n&&(t<10?s[r(0)]=2:t<14?s[r(0)]=3:s[r(0)]=4),t){case 2:s[r(1)]=2;break;case 3:case 4:s[r(1)]=3;break;case 5:case 6:s[r(1)]=4,s[r(2)]=2;break;case 7:case 8:s[r(1)]=4,s[r(2)]=3;break;case 9:case 10:s[r(1)]=4,s[r(2)]=3,s[r(3)]=2;break;case 11:case 12:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3;break;case 13:case 14:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3,s[r(4)]=1;break;case 15:case 16:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3,s[r(4)]=2;break;case 17:case 18:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3,s[r(4)]=3;break;case 19:case 20:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3,s[r(4)]=3,s[r(5)]=1;break}else switch(n&&(t<10?s[r(0)]=2:s[r(0)]=3),t){case 3:s[r(1)]=2;break;case 4:case 5:case 6:s[r(1)]=3;break;case 7:case 8:case 9:s[r(1)]=4,s[r(2)]=2;break;case 10:case 11:case 12:s[r(1)]=4,s[r(2)]=3;break;case 13:case 14:case 15:s[r(1)]=4,s[r(2)]=3,s[r(3)]=2;break;case 16:case 17:case 18:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3;break;case 19:case 20:s[r(1)]=4,s[r(2)]=3,s[r(3)]=3,s[r(4)]=1;break}return s}const Sh=t=>{switch(t){case 0:return"Cantrip";case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}};function pt(t){return JSON.parse(JSON.stringify(t))}function om(t){return Array.from({length:t},(e,n)=>n+1)}const cm=t=>{switch(t){case"0":return"Cantrip";case"1":return"1st";case"2":return"2nd";case"3":return"3rd";default:return`${t}th`}},um=t=>{const e=[];return t.isVerbal&&e.push("V"),t.isSomatic&&e.push("S"),t.isMaterial&&e.push("M"),t.materials_Needed?[e.join(", "),t.materials_Needed??null].join(", "):e.join(", ")},lc=t=>{const e=JSON.parse(JSON.stringify(t));return typeof e=="string"?e:Array.isArray(e)?e.join(`
 
`):"-unknown-"};var hm=k('<svg width=46 height=44><path d="M24.15 12.7875L37.6625 25.575C39.1 26.95 39.1 29.15 37.6625 30.525C36.225 31.9 33.925 31.9 32.4875 30.525L24.15 22.6875C23.4312 22 22.425 22 21.7062 22.6875L13.3687 30.525C11.9312 31.9 9.63123 31.9 8.19373 30.525C6.75623 29.15 6.75623 26.95 8.19373 25.575L21.7062 12.7875C22.425 12.2375 23.575 12.2375 24.15 12.7875Z"stroke=white stroke-width=2 stroke-miterlimit=10 stroke-linecap=round stroke-linejoin=round>'),dm=k('<svg width=44 height=43><path d="M20.7625 31.8469L7.83752 19.35C6.46252 18.0062 6.46252 15.8562 7.83752 14.5125C9.21252 13.1687 11.4125 13.1687 12.7875 14.5125L20.7625 22.1719C21.45 22.8437 22.4125 22.8437 23.1 22.1719L31.075 14.5125C32.45 13.1687 34.65 13.1687 36.025 14.5125C37.4 15.8562 37.4 18.0062 36.025 19.35L23.1 31.8469C22.55 32.3844 21.45 32.3844 20.7625 31.8469Z"stroke=white stroke-width=2 stroke-miterlimit=10 stroke-linecap=round stroke-linejoin=round>');const Xl=t=>(()=>{var e=hm();return ft(e,ht(t,{viewBox:"0 0 46 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),!0,!0),e})(),Jl=t=>(()=>{var e=dm();return ft(e,ht(t,{viewBox:"0 0 44 43",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),!0,!0),e})();var fm=k('<svg width=26 height=17 viewBox="0 0 26 17"fill=none xmlns=http://www.w3.org/2000/svg><path d="M25.9732 8.37285C25.9671 8.35975 25.8692 8.14406 25.6726 7.78919C24.6176 5.88731 20.727 0 13.0002 0C3.83202 0 0.0644916 8.28892 0.0271169 8.37285C-0.00903897 8.45467 -0.00903897 8.54533 0.0271169 8.6275C0.0644916 8.71108 3.83202 17 13.0002 17C20.7229 17 24.6135 11.1191 25.6706 9.21435C25.868 8.85771 25.9667 8.6406 25.9728 8.6275C26.009 8.54533 26.009 8.45467 25.9732 8.37285ZM13.0002 16.2917C5.00282 16.2917 1.35026 9.51894 0.846515 8.49965C1.34945 7.47894 4.99226 0.708333 13.0002 0.708333C20.9975 0.708333 24.6501 7.48106 25.1538 8.50035C24.6509 9.52106 21.0081 16.2917 13.0002 16.2917Z"fill=white></path><path d="M13.0002 2.83475C9.41018 2.83475 6.50024 5.37164 6.50024 8.50141C6.50024 11.6312 9.41018 14.1681 13.0002 14.1681C16.5902 14.1681 19.5001 11.6312 19.5001 8.50141C19.5001 5.37164 16.5902 2.83475 13.0002 2.83475ZM13.0002 13.4597C9.85909 13.4597 7.31274 11.2398 7.31274 8.50141C7.31274 5.763 9.85909 3.54308 13.0002 3.54308C16.1413 3.54308 18.6876 5.763 18.6876 8.50141C18.6876 11.2398 16.1413 13.4597 13.0002 13.4597Z"fill=white></path><path d="M13.0002 5.66809C11.2054 5.66809 9.75024 6.93672 9.75024 8.50142C9.75024 10.0661 11.2054 11.3348 13.0002 11.3348C14.795 11.3348 16.2502 10.0661 16.2502 8.50142C16.2502 6.93672 14.795 5.66809 13.0002 5.66809ZM13.0002 10.6264C11.6543 10.6264 10.5627 9.67478 10.5627 8.50142C10.5627 7.32807 11.6543 6.37642 13.0002 6.37642C14.3461 6.37642 15.4377 7.32807 15.4377 8.50142C15.4377 9.67478 14.3461 10.6264 13.0002 10.6264Z"fill=white></path><path d="M13.0002 7.08333C12.7755 7.08333 12.5939 7.24164 12.5939 7.43749C12.5939 7.63335 12.7755 7.79166 13.0002 7.79166C13.4487 7.79166 13.8127 8.109 13.8127 8.5C13.8127 8.69585 13.9943 8.85416 14.2189 8.85416C14.4436 8.85416 14.6252 8.69585 14.6252 8.5C14.6252 7.71764 13.8976 7.08333 13.0002 7.08333Z"fill=white>');const gm=()=>fm();var pm=k('<svg width=50 height=50><path fill-rule=evenodd clip-rule=evenodd d="M20.8333 4.16663C19.6827 4.16663 18.75 5.09938 18.75 6.24996V9.54533C17.3015 10.1316 15.9551 10.915 14.7439 11.8617L11.887 10.2123C11.4085 9.93604 10.8398 9.86117 10.3061 10.0042C9.77239 10.1472 9.31737 10.4964 9.0411 10.9749L4.87443 18.1917C4.29914 19.1882 4.64054 20.4623 5.63697 21.0377L8.49283 22.6864C8.3876 23.4433 8.33331 24.2158 8.33331 25C8.33331 25.7841 8.3876 26.5564 8.49283 27.3135L5.63699 28.9622C5.15847 29.2385 4.80933 29.6935 4.66631 30.2272C4.52331 30.761 4.59816 31.3295 4.87443 31.8081L9.0411 39.025C9.31737 39.5035 9.77241 39.8527 10.3061 39.9958C10.8398 40.1387 11.4085 40.0639 11.887 39.7877L14.7439 38.1381C15.9552 39.0847 17.3015 39.8683 18.75 40.4545V43.75C18.75 44.9006 19.6827 45.8333 20.8333 45.8333H29.1667C30.3171 45.8333 31.25 44.9006 31.25 43.75V40.4545C32.6984 39.8683 34.0448 39.0847 35.2561 38.1381L38.113 39.7877C38.5915 40.0639 39.16 40.1387 39.6938 39.9958C40.2275 39.8527 40.6825 39.5035 40.9588 39.0252L45.1255 31.8083C45.4017 31.3298 45.4767 30.761 45.3336 30.2272C45.1907 29.6937 44.8415 29.2385 44.363 28.9622L41.5071 27.3135C41.6123 26.5566 41.6667 25.7841 41.6667 25C41.6667 24.2158 41.6123 23.4433 41.5071 22.6864L44.363 21.0377C45.3594 20.4623 45.7009 19.1881 45.1255 18.1917L40.9588 10.9748C40.6825 10.4963 40.2275 10.1471 39.6938 10.0041C39.16 9.86113 38.5915 9.93598 38.113 10.2123L35.2561 11.8617C34.0448 10.915 32.6984 10.1316 31.25 9.54533V6.24996C31.25 5.09938 30.3171 4.16663 29.1667 4.16663H20.8333ZM22.9167 11.0205V8.33329H27.0834V11.0205C27.0834 11.9422 27.689 12.7544 28.5723 13.0173C30.4705 13.5822 32.1823 14.5874 33.5882 15.9172C34.2575 16.5505 35.2634 16.6687 36.0615 16.208L38.3921 14.8624L40.4755 18.4708L38.1477 19.8147C37.3502 20.2751 36.9496 21.2043 37.1623 22.1002C37.3827 23.0287 37.5 23.9993 37.5 25C37.5 26.0006 37.3827 26.9712 37.1623 27.8997C36.9496 28.7956 37.3502 29.7248 38.1477 30.1852L40.4755 31.5291L38.3921 35.1375L36.0613 33.7918C35.2634 33.3312 34.2575 33.4493 33.588 34.0827C32.1823 35.4125 30.4705 36.4177 28.5723 36.9825C27.689 37.2454 27.0834 38.0577 27.0834 38.9793V41.6666H22.9167V38.9793C22.9167 38.0577 22.3109 37.2454 21.4275 36.9825C19.5294 36.4177 17.8177 35.4125 16.4118 34.0827C15.7424 33.4493 14.7365 33.3312 13.9385 33.7918L11.6079 35.1375L9.52454 31.5291L11.8522 30.1852C12.6496 29.7248 13.0502 28.7956 12.8376 27.8997C12.6171 26.9712 12.5 26.0006 12.5 25C12.5 23.9993 12.6171 23.0287 12.8376 22.1002C13.0502 21.2043 12.6496 20.2751 11.8522 19.8147L9.52454 18.4709L11.6079 14.8624L13.9385 16.208C14.7365 16.6687 15.7424 16.5505 16.4118 15.9172C17.8176 14.5874 19.5294 13.5822 21.4275 13.0173C22.3109 12.7544 22.9167 11.9422 22.9167 11.0205ZM20.8333 25C20.8333 22.6987 22.6988 20.8333 25 20.8333C27.3013 20.8333 29.1667 22.6987 29.1667 25C29.1667 27.3012 27.3013 29.1666 25 29.1666C22.6988 29.1666 20.8333 27.3012 20.8333 25ZM25 16.6666C20.3976 16.6666 16.6667 20.3976 16.6667 25C16.6667 29.6022 20.3976 33.3333 25 33.3333C29.6023 33.3333 33.3334 29.6022 33.3334 25C33.3334 20.3976 29.6023 16.6666 25 16.6666Z"fill=black>');const mm=t=>(()=>{var e=pm();return ft(e,ht(t,{viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),!0,!0),e})();var vm=k('<svg width=21 height=19 viewBox="0 0 21 19"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_19_710)><path d="M20.6154 3.70551L16.903 0.346669C16.3905 -0.11705 15.56 -0.11705 15.0468 0.346965C15.0468 0.346965 0.39736 13.6012 0.197532 13.782C-0.001968 13.9622 7.37507e-07 14.2487 7.37507e-07 14.2487L0.000328863 18.4047C0.000328863 18.7327 0.294329 18.9984 0.656251 18.9987H2.29359C2.29458 18.9987 5.25 18.9987 5.25 18.9987C5.25 18.9987 5.56599 19.0011 5.76581 18.82C5.96564 18.6389 20.6154 5.38434 20.6154 5.38434C21.1286 4.92062 21.1286 4.16983 20.6154 3.70551ZM12.2574 3.70997L13.4174 4.75972L2.28047 14.8365L1.12022 13.7868L12.2574 3.70997ZM2.74444 15.2563L13.8813 5.17979L15.2736 6.43943L4.13634 16.5157L2.74444 15.2563ZM0.984704 18.4047C0.803251 18.4047 0.656251 18.2723 0.656579 18.1081V17.6382L1.5038 18.4047H0.984704ZM2.43174 18.405L0.656579 16.7989L0.656907 14.2072L5.29692 18.4053H2.43174V18.405ZM5.76089 17.9852L4.60064 16.9355L15.7379 6.85951L16.8978 7.90897L5.76089 17.9852ZM17.3618 7.48918L12.7217 3.29018L13.6497 2.45062L18.2903 6.64932L17.3618 7.48918ZM20.1515 4.96515L18.754 6.22954L14.1136 2.03084L15.5108 0.767044C15.7674 0.534887 16.1831 0.534887 16.4391 0.76645L20.1515 4.12529C20.4077 4.35745 20.4074 4.733 20.1515 4.96515Z"fill=white></path></g><defs><clipPath id=clip0_19_710><rect width=21 height=19 fill=white>');const bm=()=>vm();var ym=k('<svg width=8 height=28><path d="M8 33.6154C8 34.7783 7.57857 35.8935 6.82843 36.7158C6.07828 37.5381 5.06087 38 4 38C2.93913 38 1.92172 37.5381 1.17157 36.7158C0.421427 35.8935 0 34.7783 0 33.6154C0 32.4525 0.421427 31.3373 1.17157 30.515C1.92172 29.6927 2.93913 29.2308 4 29.2308C5.06087 29.2308 6.07828 29.6927 6.82843 30.515C7.57857 31.3373 8 32.4525 8 33.6154ZM8 19C8 20.1629 7.57857 21.2781 6.82843 22.1004C6.07828 22.9227 5.06087 23.3846 4 23.3846C2.93913 23.3846 1.92172 22.9227 1.17157 22.1004C0.421427 21.2781 0 20.1629 0 19C0 17.8371 0.421427 16.7219 1.17157 15.8996C1.92172 15.0773 2.93913 14.6154 4 14.6154C5.06087 14.6154 6.07828 15.0773 6.82843 15.8996C7.57857 16.7219 8 17.8371 8 19ZM8 4.38462C8 5.54749 7.57857 6.66273 6.82843 7.48501C6.07828 8.30728 5.06087 8.76923 4 8.76923C2.93913 8.76923 1.92172 8.30728 1.17157 7.48501C0.421427 6.66273 0 5.54749 0 4.38462C0 3.22174 0.421427 2.1065 1.17157 1.28422C1.92172 0.461949 2.93913 0 4 0C5.06087 0 6.07828 0.461949 6.82843 1.28422C7.57857 2.1065 8 3.22174 8 4.38462Z"fill=black>');const xh=t=>(()=>{var e=ym();return ft(e,ht(t,{viewBox:"0 0 8 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),!0,!0),e})(),_m="_settingContainer_1pcjr_1",wm="_settingTabs_1pcjr_7",$m="_settingBody_1pcjr_29",Cm="_active_1pcjr_39",Zs={settingContainer:_m,settingTabs:wm,settingBody:$m,active:Cm},km="_snack_1yjw2_1",Sm="_error_1yjw2_33",xm="_success_1yjw2_40",Tm="_warning_1yjw2_46",Am="_open_1yjw2_52",Em="_slideIn_1yjw2_1",Lm="_close_1yjw2_56",Pm="_slideOut_1yjw2_1",wl={snack:km,error:Sm,success:xm,warning:Tm,open:Am,slideIn:Em,close:Lm,slideOut:Pm};var Im=k("<div>"),Om=k("<div><span>");const[oc,Th]=L([]),Ln=t=>{Th(e=>[...e,t])},Rm=t=>{Th(e=>e.filter((n,r)=>r!==t))},Dm=()=>{const[t,e]=Ge();return O(()=>Ve(t().theme)),o(V,{get when(){return oc().length>0},get children(){var n=Im();return g(n,o(J,{get each(){return oc()},children:(r,s)=>o(Bm,ht(r,{get index(){return s()},onClose:()=>Rm(s())}))})),z(()=>D(n,wl.snackContainer)),n}})},Bm=t=>{vn();const[e,n]=Ge(),[r,s]=L(!0),i=O(()=>Ve(e().theme));t.closeTimeout&&setTimeout(()=>t.onClose(),t.closeTimeout),t.closeTimeout||setTimeout(()=>t.onClose(),5e3);const a=Math.floor(t.message.length/17);return o(Pl,{get mount(){return document.body},get children(){return o(V,{get when(){return r()},get children(){var l=Om(),c=l.firstChild;return g(c,()=>t.message),g(l,o(oe,{get onClick(){return t.onClose},children:"X"}),null),z(u=>{var h=`${10+t.index*(50+a*8)}px`,d=`${i().primary} ${wl.snack} ${wl[t.severity??"info"]}`;return h!==u.e&&((u.e=h)!=null?l.style.setProperty("bottom",h):l.style.removeProperty("bottom")),d!==u.t&&D(l,u.t=d),u},{e:void 0,t:void 0}),l}})}})};var Nm=k("<div><h3>General</h3>"),Mm=k("<option value=dark>Dark"),Fm=k("<option value=light>Light"),jm=k("<div><h3>Theme</h3><label for=themeChange>Change Theme "),Um=k("<div><h3>Account</h3>"),qm=k("<div><div><ul></ul></div><div><div>"),Km=k("<li>");const zm=t=>{const[e,n]=L(["General","Theme","Account"]),[r,s]=L("Theme");return(()=>{var i=qm(),a=i.firstChild,l=a.firstChild,c=a.nextSibling,u=c.firstChild;return g(l,o(J,{get each(){return e()},children:h=>(()=>{var d=Km();return d.$$click=f=>s(h),g(d,h),z(()=>D(d,r()===h?Zs.active:"")),d})()})),g(c,o(bs,{get children(){return[o(jt,{get when(){return r()==="General"},get children(){return Nm()}}),o(jt,{get when(){return r()==="Theme"},get children(){var h=jm(),d=h.firstChild;return d.nextSibling,g(h,o(Oe,{name:"themeChange",onChange:f=>t.setDefaultUserSettings(m=>(m.theme=f.target.value,pt(m))),get children(){return[Mm(),Fm()]}}),null),h}}),o(jt,{get when(){return r()==="Account"},get children(){return Um()}})]}}),u),g(u,o(oe,{onClick:h=>xp(t.defaultUserSettings(),()=>Ln({message:"Settings Saved Successfully!",severity:"success",closeTimeout:4e3})),children:"Save Settings"})),z(h=>{var d=Zs.settingContainer,f=Zs.settingTabs,m=Zs.settingBody;return d!==h.e&&D(i,h.e=d),f!==h.t&&D(a,h.t=f),m!==h.a&&D(c,h.a=m),h},{e:void 0,t:void 0,a:void 0}),i})()};Jt(["click"]);function vn(){return Xe(gt)}const Hm="_topper_1h9yq_1",Wm="_navOpen_1h9yq_26",Vm="_navClosed_1h9yq_45",ga={topper:Hm,navOpen:Wm,navClosed:Vm};var Gm=k("<span><div><h2>Navigation</h2></div><div class=theLine>"),Ym=k("<ul class=sideBody>"),Zm=k("<div class=sidebar><div class=sideHead><h2></h2><span></span></div><div class=theLine>"),Xm=k("<span>"),Jm=k("<li><h3>");const Qm=t=>{const[{userStyle:e,defaultShowList:n,setDefaultShowList:r,defaultIsMobile:s,setDefaultIsMobile:i,defaultUserSettings:a,setDefaultUserSettings:l},c]=St(t,["userStyle","defaultShowList","setDefaultShowList","defaultIsMobile","setDefaultIsMobile","defaultUserSettings","setDefaultUserSettings"]),[u,h]=L(!1),d=vn(),[f,m]=L([{Name:"Characters",Link:"/characters",isOpen:!1,children:[{Name:"View",Link:"/characters/view",isOpen:!1},{Name:"Create",Link:"/characters/create",isOpen:!1}]},{Name:"Info",Link:"/info",isOpen:!1,children:[{Name:"Spells",Link:"/info/spells",isOpen:!1},{Name:"Feats",Link:"/info/feats",isOpen:!1},{Name:"Classes",Link:"/info/classes",isOpen:!1},{Name:"Backgrounds",Link:"/info/backgrounds",isOpen:!1},{Name:"Items",Link:"/info/items",isOpen:!1},{Name:"Races",Link:"/info/races",isOpen:!1}]},{Name:"Homebrew",Link:"/homebrew",isOpen:!1,children:[{Name:"Spells",Link:"/homebrew/view?name=spells",isOpen:!1},{Name:"Feats",Link:"/homebrew/view?name=feats",isOpen:!1},{Name:"Classes",Link:"/homebrew/view?name=classes",isOpen:!1},{Name:"Subclasses",Link:"/homebrew/view?name=subclasses",isOpen:!1},{Name:"Backgrounds",Link:"/homebrew/view?name=backgrounds",isOpen:!1},{Name:"Items",Link:"/homebrew/view?name=items",isOpen:!1},{Name:"Races",Link:"/homebrew/view?name=races",isOpen:!1}]}].sort((y,b)=>y.Name>b.Name?1:-1)),_=y=>y.replace("view","create").replace("?name=","/"),p=()=>[{name:"Login",action:()=>{console.log("Login")},condition:()=>!0},{name:"Register",action:()=>{console.log("Register")},condition:()=>!0},{name:"Logout",action:()=>{console.log("Logout")},condition:()=>!0},{name:"Profile",action:()=>{console.log("Profile")},condition:()=>!0}];return(()=>{var y=Gm(),b=y.firstChild;return b.firstChild,b.nextSibling,g(b,o(oe,{get children(){return[o(mm,{height:30,onClick:v=>h($=>!$)}),o(V,{get when(){return u()},get children(){return o(Wt,{title:"Settings",get width(){return d.isMobile()?"90vw":"45vw"},get height(){return d.isMobile()?"90vh":"60vh"},backgroundClick:[u,h],get children(){return o(zm,{userStyle:e,defaultUserSettings:a,setDefaultUserSettings:l})}})}})]}}),null),g(b,o(oe,{enableBackgroundClick:!0,get menuItems(){return p()},get overrideX(){return s()?"42vw":"93vw"},get children(){return o(xh,{height:30})}}),null),g(y,o(J,{get each(){return f()},children:v=>(()=>{var $=Zm(),S=$.firstChild,C=S.firstChild,P=C.nextSibling;return S.nextSibling,g(C,o(ar,{onClick:()=>r(w=>!w),get href(){return v.Link},get children(){return v.Name}})),P.$$click=()=>m(w=>(v.isOpen=!v.isOpen,pt([...w.filter(F=>F.Name!==v.Name),v].sort((F,T)=>F.Name>T.Name?1:-1)))),g(P,(()=>{var w=O(()=>!!v.isOpen);return()=>w()?o(Xl,{}):o(Jl,{})})()),g($,o(V,{get when(){return v.isOpen},get children(){var w=Ym();return g(w,o(J,{get each(){return v.children},children:F=>(()=>{var T=Jm(),I=T.firstChild;return g(I,o(ar,{onClick:()=>r(E=>!E),get href(){return F.Link},get children(){return F.Name}})),g(T,o(V,{get when(){return F.Link.includes("homebrew")},get children(){var E=Xm();return g(E,o(ar,{onClick:()=>r(B=>!B),get href(){return _(F.Link)},get children(){return o(bm,{})}}),null),g(E,o(ar,{onClick:()=>r(B=>!B),get href(){return F.Link},get children(){return o(gm,{})}}),null),E}}),null),T})()})),w}}),null),z(()=>D(P,`${e().hover}`)),$})()}),null),z(v=>{var $=`${e().primary} ${n()?`${ga.navOpen}`:`${ga.navClosed}`}`,S=`${e().accent} ${ga.topper}`;return $!==v.e&&D(y,v.e=$),S!==v.t&&D(b,v.t=S),v},{e:void 0,t:void 0}),y})()};Jt(["click"]);var ev=k("<div><div class=body><span>");const tv={isMobile:L(sr())[0],showList:L(!1),useStyle:()=>({body:"",primary:"",accent:"",tertiary:"",warn:"",hover:"",popup:"",table:""}),getMouse:()=>({x:0,y:0})},gt=Fr(tv),nv=t=>o(gt.Provider,{get value(){return t.value},get children(){return t.children}}),rv=t=>{const[e,n]=Ge(),r=O(()=>Ve(e().theme)),[s,i]=L(!sr()),[a,l]=L(sr()),[c,u]=L({x:0,y:0});z(()=>{s(),l(sr())});const h=()=>{sr()?i(!1):i(window.matchMedia("only screen and (max-width: 768px)").matches)};l(sr()),window.addEventListener("resize",h),z(()=>{sr()||window.innerWidth<=768});const d=m=>u({x:m.clientX,y:m.clientY});Ut(()=>{window.addEventListener("mousemove",d)}),Pn(()=>{window.removeEventListener("mousemove",d)});const{isMobile:f}=vn();return o(nv,{value:{isMobile:a,showList:[s,i],useStyle:Ve,getMouse:()=>c()},get children(){return[(()=>{var m=ev(),_=m.firstChild,p=_.firstChild;return m.style.setProperty("height","100vh"),g(m,o(lm,{get isMobile(){return f()},style:"margin-bottom: 15px;",list:[s,i]}),_),g(p,()=>t.children),g(_,o(V,{get when(){return s()},get children(){return o(Qm,{userStyle:r,defaultShowList:s,setDefaultShowList:i,defaultIsMobile:a,setDefaultIsMobile:l,defaultUserSettings:e,setDefaultUserSettings:n})}}),null),z(y=>{var b=r().body,v=`${s()?"openFirst":"closeFirst"}`;return b!==y.e&&D(m,y.e=b),v!==y.t&&D(p,y.t=v),y},{e:void 0,t:void 0}),m})(),o(Dm,{})]}})},sv={body:Nn.body,primary:Nn.primary,accent:Nn.accent,tertiary:Nn.tertiary,warn:Nn.warn,hover:Nn.hover,popup:Nn.popup,table:Nn.table},cc={body:Bn.body,primary:Bn.primary,accent:Bn.accent,tertiary:Bn.tertiary,warn:Bn.warn,hover:Bn.hover,popup:Bn.popup,table:Bn.table};function Ve(t){const[e,n]=Ge();switch(t??e().theme){case"light":return document.body.style.backgroundColor="#fff",sv;case"dark":return document.body.style.backgroundColor="#000",cc;default:return cc}}function iv(){const[t,e]=Ge();return Xe(gt),O(()=>Ve(t().theme))}const av="_menuButtons_1grs9_1",lv="_menuButton_1grs9_1",ov="_customButtonStyle_1grs9_26",cv="_transparent_1grs9_36",Xs={menuButtons:av,menuButton:lv,customButtonStyle:ov,transparent:cv};var uv=k("<button>"),hv=k("<div><ul>"),dv=k("<li><button>");const oe=t=>{const[e,n]=L({show:!1,lastX:0,lastY:0}),r=O(()=>!!t.menuItems&&e().show),s=O(()=>t.menuItems?.filter(_=>_.condition?_.condition():!0)??[]),i=vn(),[a,l]=Ge(),c=t.styleType??"accent",u=O(()=>Ve(a().theme)),h=O(()=>u()[c]),[d,f]=L(),m=O(()=>({position:"absolute",top:t.overrideY??`${e().lastY}px`,left:t.overrideX??`${e().lastX<45?e().lastX-+(d()?d().width:"0"):e().lastX}px`,display:`${e().show?"block":"none"}`}));return Zl(d,()=>{const _=Math.abs(i.getMouse().x-e().lastX)<20,p=Math.abs(i.getMouse().y-e().lastY)<20;e().show&&!_&&!p&&Object.keys(t).includes("enableBackgroundClick")&&n({show:!1,lastX:0,lastY:0})}),[(()=>{var _=uv();return ft(_,ht(t,{onClick:p=>{t.menuItems?.length&&n({show:!e().show,lastX:p.clientX+(p.view?.scrollX??0),lastY:p.clientY+(p.view?.scrollY??0)}),t.onClick&&t.onClick(p)},get class(){return`${h()} ${u()?.hover} ${Xs.customButtonStyle} ${t.transparent?Xs.transparent:""} ${t.class??""} `}}),!1,!0),g(_,()=>t.children),_})(),o(Pl,{get mount(){return document.getElementById("root")},get children(){return o(V,{get when(){return r()},get children(){var _=hv(),p=_.firstChild;return Wn(f,_),g(p,o(J,{get each(){return t.menuItems??[]},children:y=>o(V,{get when(){return O(()=>!!(!y.condition||y.condition()))()&&r()},get children(){var b=dv(),v=b.firstChild;return v.addEventListener("click",y.action),g(v,()=>y.name),z($=>{var S=`${100/s().length}%`,C=`${u().hover}`,P=`${u().accent} ${Xs.menuButton}`;return S!==$.e&&(($.e=S)!=null?b.style.setProperty("height",S):b.style.removeProperty("height")),C!==$.t&&D(b,$.t=C),P!==$.a&&D(v,$.a=P),$},{e:void 0,t:void 0,a:void 0}),b}})})),z(y=>{var b=`${u()?.popup} ${u()?.primary} ${t.menuStyle??""}`,v=m(),$=`${Xs.menuButtons}`;return b!==y.e&&D(_,y.e=b),y.t=Ll(_,v,y.t),$!==y.a&&D(p,y.a=$),y},{e:void 0,t:void 0,a:void 0}),_}})}})]},fv="_carouselHeader_uoqig_1",gv="_carousel_uoqig_1",pv="_carouselSlides_uoqig_24",mv="_carouselSlide_uoqig_24",vv="_carouselButton_uoqig_37",Mn={carouselHeader:fv,carousel:gv,carouselSlides:pv,carouselSlide:mv,carouselButton:vv};var bv=k("<div>No <!> Found"),yv=k("<div>No Elements Found"),_v=k("<div><div><div><div></div></div></div><div>");const Ql=({startingIndex:t=0,...e})=>{const[n,r]=L(t),[s,i]=St(e,["currentIndex"]),a=()=>s.currentIndex?s.currentIndex[0]():n(),l=m=>s.currentIndex?s.currentIndex[1](m):r(m),c=O(()=>e.elements.length===2?a():n()),u=O(()=>e.elements.length>0?e.elements[c()].name:e.notFoundName?`No ${e.notFoundName} Found`:"No Elements Found"),h=O(()=>e.elements.length>0?e.elements[c()].element:e.notFoundName?(()=>{var m=bv(),_=m.firstChild,p=_.nextSibling;return p.nextSibling,g(m,()=>e.notFoundName,p),m})():yv()),d=()=>{c()!==e.elements.length-1?r(m=>m+1):r(0)},f=()=>{c()!==0?r(m=>m-1):r(e.elements.length-1)};return z(()=>{e.currentIndex&&l(c())}),(()=>{var m=_v(),_=m.firstChild,p=_.firstChild,y=p.firstChild,b=_.nextSibling;return g(_,o(oe,{get class(){return`${Mn.carouselButton}`},onClick:f,children:""}),p),g(y,u),g(_,o(oe,{get class(){return`${Mn.carouselButton} `},onClick:d,children:""}),null),g(b,h),z(v=>{var $=`${Mn.carousel}`,S=`${Mn.carouselHeader}`,C=`${Mn.carouselSlides} ${Mn.header}`,P=`${Mn.carouselSlide}`,w=`${Mn.carouselSlide}`;return $!==v.e&&D(m,v.e=$),S!==v.t&&D(_,v.t=S),C!==v.a&&D(p,v.a=C),P!==v.o&&D(y,v.o=P),w!==v.i&&D(b,v.i=w),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),m})()},wv="_Chip_466ds_1",$v="_removeChipButton_466ds_21",uc={Chip:wv,removeChipButton:$v};var Cv=k("<span><span></span><span>:</span><span>");const $t=t=>{const[e,n]=Ge(),r=O(()=>Ve(e().theme));return(()=>{var s=Cv(),i=s.firstChild,a=i.nextSibling,l=a.nextSibling;return g(i,()=>t.key),g(l,()=>"  "+t.value),g(s,o(V,{get when(){return!!t.remove},get children(){return o(oe,{get class(){return`${r()?.hover} ${uc.removeChipButton}`},get onClick(){return t.remove},children:"X"})}}),null),z(()=>D(s,`${r().accent} ${uc.Chip} ${t.class??""}`)),s})()},kv="_compBody_1xaw7_1",Sv={compBody:kv};var xv=k("<div>");const Yt=t=>{const[e,n]=St(t,["children","class"]),[r,s]=Ge();vn();const i=O(()=>Ve(r().theme));return(()=>{var a=xv();return ft(a,ht(n,{get class(){return`${i().primary} ${Sv.compBody} ${e.class??""}`}}),!1,!0),g(a,()=>e.children),a})()},Tv="_header_nb7qb_1",Av="_body_nb7qb_26",Ev="_totalPanel_nb7qb_35",pa={header:Tv,body:Av,totalPanel:Ev};var Lv=k("<div>"),Pv=k("<div><div><span>");const eo=t=>{const[e,n]=L(!!t.startOpen),[r,s]=Ge();Xe(gt);const i=O(()=>Ve(r().theme));return(()=>{var a=Pv(),l=a.firstChild,c=l.firstChild;return ft(a,ht({get class(){return`${pa.totalPanel} ${t.styles}`}},t),!1,!0),g(c,()=>t.children[0]),g(l,o(oe,{onClick:()=>{n(u=>!u),t.extraLogic&&t.extraLogic()},get class(){return`${i()?.hover}`},get children(){return[o(V,{get when(){return!e()},get children(){return o(Jl,{})}}),o(V,{get when(){return e()},get children(){return o(Xl,{})}})]}}),null),g(a,o(V,{get when(){return e()},get children(){var u=Lv();return g(u,()=>t.children[1]),z(()=>D(u,`${i()?.accent} ${pa.body}`)),u}}),null),z(()=>D(l,`${i()?.accent} ${pa.header}`)),a})()},Iv="_input_889mw_2",Ov="_error_889mw_44",Rv="_success_889mw_47",Dv="_warning_889mw_50",Bv="_info_889mw_53",Nv="_disabled_889mw_56",Mv="_checkbox_889mw_60",Fv="_transparent_889mw_64",hc={input:Iv,error:Ov,success:Rv,warning:Dv,info:Bv,disabled:Nv,checkbox:Mv,transparent:Fv},Ah=Fr({getName:()=>"",setName:()=>{},getTextInside:()=>!0,setTextInside:()=>{},getFocused:()=>!1,setFocused:()=>{},getValue:()=>"",setValue:()=>{},getFieldType:()=>"",setFieldType:()=>{}}),jv=t=>{const[e,n]=L(t.name??""),[r,s]=L(!0),[i,a]=L(!1),[l,c]=L(t.value??""),[u,h]=L(t.type??"text");return o(Ah.Provider,{value:{getName:e,setName:n,getTextInside:r,setTextInside:s,getFocused:i,setFocused:a,getValue:l,setValue:c,getFieldType:u,setFieldType:h},get children(){return t.children}})};function to(){return Xe(Ah)}var Uv=k("<input>");const $e=t=>{const[e,n]=St(t,["tooltip","transparent","value","onChange"]),r=l=>(l??"text")!=="checkbox",s=to(),i=O(()=>t.value),a=O(()=>Object.keys(e).includes("transparent"));return Ut(()=>{s.getName&&s.setFieldType(t.type??"text")}),(()=>{var l=Uv();return ft(l,ht(n,{get placeholder(){return O(()=>!!(s.getName()&&s.getTextInside()))()?s.getName():t.placeholder},get value(){return i()},onFocus:c=>{s.getName&&(s.setFocused(!0),s.setTextInside(!1))},onBlur:c=>{s.setFocused&&s.setFocused(!1)},get type(){return O(()=>s.getFieldType().length>0)()?s.getFieldType():t.type},onChange:c=>{s.getName&&(c.currentTarget.value?(s.setValue(c.currentTarget.value),s.setTextInside(!1),s.setFocused(!0)):c.currentTarget.checked?(s.setValue(c.currentTarget.checked?"true":""),s.setFocused(!0),s.setTextInside(!1)):c.currentTarget.checked||(s.setValue(c.currentTarget.checked?"true":""),s.setFocused(!1),s.setTextInside(!0))),t.onChange&&t.onChange(c)},get class(){return`${hc.input} ${a()&&r(n.type)?hc.transparent:""} ${t.class??""}`},get title(){return e.tooltip}}),!1,!1),l})()};function qv(t){return t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}const Kv="_table_1872l_1",Js={table:Kv},Eh=Fr({tableState:()=>({headers:[],rowTransform:[],currentColumns:[]}),setTableState:()=>{}}),zv=t=>{const[e,n]=L(t.value);return o(Eh.Provider,{value:{tableState:e,setTableState:n},get children(){return t.children}})};function br(){return Xe(Eh)}var Hv=k("<table><thead></thead><tbody>"),Lh=k("<tr><td>"),Wv=k("<tr>"),dc=k("<td>");const Hn=t=>o(zv,{value:{headers:[],rowTransform:[],currentColumns:[]},get children(){return o(Vv,t)}}),Vv=t=>{const e=br(),[n,r]=St(t,["data","columns","children","dropdown"]),[s,i]=L(),[a,l]=L();e.setTableState({headers:[],rowTransform:[],currentColumns:[]});const[c,u]=L({}),h=_=>e.tableState().currentColumns.findIndex(p=>p===_),d=_=>e.tableState().headers[h(_)],f=()=>!!e.tableState().dropTransform,m=_=>{const p=!!e.tableState().dropTransform,y=!!c()[_]||!Object.keys(t).includes("dropdown");return p&&y};return t.children,(()=>{var _=Hv(),p=_.firstChild,y=p.nextSibling;return ft(_,r,!1,!0),Wn(i,p),g(p,o(J,{get each(){return n.columns},children:(b,v)=>O(()=>d(b))})),Wn(l,y),g(y,o(V,{get when(){return!n.data().length},get children(){return[]}}),null),g(y,o(V,{get when(){return n.data().length},get children(){return o(J,{get each(){return n.data()},children:(b,v)=>[o(Gv,{get columns(){return n.columns},get showDropdown(){return c()[v()]},setShowDropdown:u,get dropdownArrow(){return r.dropdownArrow},get isDropTable(){return f()},row:b,get rowI(){return v()}}),o(V,{get when(){return m(v())},get children(){return o(Yv,{get colSpan(){return n.columns.length},row:b,get rowI(){return v()},get transform(){return e.tableState().dropTransform}})}})]})}}),null),_})()},Gv=t=>{const e=br(),n=a=>e.tableState().cellProps?e.tableState().cellProps[a]:{},r=a=>e.tableState().currentColumns.findIndex(l=>l===a),s=a=>e.tableState().rowTransform[r(a)],i=()=>!!t.columns.map(a=>s(a)).filter(a=>typeof a=="function").length;return[o(V,{get when(){return O(()=>!!t.isDropTable)()&&i()},get children(){var a=Lh(),l=a.firstChild;return g(a,o(J,{get each(){return t.columns},children:(c,u)=>{const h=s(c);return o(V,{when:typeof h=="function",get children(){var d=dc();return ft(d,ht({get"data-index"(){return u()}},()=>n(r(c))),!1,!0),g(d,()=>h(t.row,t.rowI)),d}})}}),l),g(l,o(V,{get when(){return t.showDropdown},get children(){return o(oe,{onClick:()=>t.setShowDropdown(c=>({...c,[t.rowI]:!1})),get children(){return o(Xl,{get width(){return t.dropdownArrow?.width},get height(){return t.dropdownArrow?.height}})}})}}),null),g(l,o(V,{get when(){return!t.showDropdown},get children(){return o(oe,{onClick:()=>t.setShowDropdown(c=>({...c,[t.rowI]:!0})),get children(){return o(Jl,{get width(){return t.dropdownArrow?.width},get height(){return t.dropdownArrow?.height}})}})}}),null),a}}),o(V,{get when(){return O(()=>!t.isDropTable)()&&i()},get children(){var a=Wv();return g(a,o(J,{get each(){return t.columns},children:(l,c)=>{const u=s(l);return o(V,{when:typeof u=="function",get children(){var h=dc();return ft(h,ht({get"data-index"(){return c()}},()=>n(r(l))),!1,!0),g(h,()=>u(t.row,t.rowI)),h}})}})),a}})]},Yv=t=>(()=>{var e=Lh(),n=e.firstChild;return g(n,()=>t.transform(t.row,t.rowI)),z(()=>dt(n,"colspan",t.colSpan)),e})();var Zv=k("<tr>"),Xv=k("<th>");const Be=t=>{const{tableState:e,setTableState:n}=br();return t.children,Ut(()=>{n(r=>({...r,currentColumns:[...r.currentColumns,t.name]}))}),Zv()},Ne=t=>{const{tableState:e,setTableState:n}=br(),[r,s]=St(t,["children"]);return Ut(()=>{n(i=>({...i,headers:[...i.headers,(()=>{var a=Xv();return ft(a,s,!1,!0),g(a,()=>r.children),a})()]}))}),[]},Me=t=>{const[e,n]=St(t,["children"]),{tableState:r,setTableState:s}=br();return Ut(()=>{s(i=>({...i,cellProps:[...i.cellProps?i.cellProps:[],n],rowTransform:[...i.rowTransform,e.children]}))}),[]},Rr=t=>{const{tableState:e,setTableState:n}=br();return Ut(()=>{n(r=>({...r,rowProps:t}))}),[]},Ph=t=>{const[e,n]=St(t,["children"]),{tableState:r,setTableState:s}=br();return Ut(()=>{s(i=>({...i,dropTransform:e.children,dropProps:n}))}),[]};var Jv=k("<span>");const Qv=t=>{const e=t.DndClass,n=l=>{switch(t.DndClass().name.toLowerCase()){case"rogue":case"monk":if(!Number.isNaN(+l))return l;const c=JSON.parse(l);return`${JSON.parse(c).DiceCount}d${JSON.parse(c).DiceValue}`}return l},r=l=>t.DndClass().name.toLowerCase()==="sorcerer"?l.slice(1):l,s=()=>t.DndClass()?.classLevels?.sort((u,h)=>Object.keys(h.classSpecific).length-Object.keys(u.classSpecific).length);L(!1);const[i,a]=L(e().classLevels.sort((l,c)=>l.info.level-c.info.level));return o(Hn,{data:i,columns:["level","profBonus","features","speific0","speific1","speific2","speific3","speific4","speific5","speific6"],get class(){return Js.table},get children(){return[o(Be,{name:"level",get children(){return[o(Ne,{children:"level"}),o(Me,{children:(l,c)=>l.info.level})]}}),o(Be,{name:"profBonus",get children(){return[o(Ne,{children:"PB"}),o(Me,{children:(l,c)=>l.profBonus})]}}),o(Be,{name:"features",get children(){return[o(Ne,{children:"features"}),o(Me,{get class(){return`${Js.feature}`},children:(l,c)=>l.features.map(u=>u.name).join(", ")})]}}),o(J,{get each(){return r(Object.keys(s()[0].classSpecific))},children:(l,c)=>o(Be,{get name(){return`speific${c()}`},get children(){return[o(Ne,{get class(){return`${Js.specificHeader} ${Js.small}`},get children(){return qv(l)}}),o(Me,{children:(u,h)=>(()=>{var d=Jv();return g(d,()=>n(u.classSpecific[l])),d})()})]}})})]}})},eb="_CenterPage_18h5z_1",tb="_eachPage_18h5z_43",nb="_subClasses_18h5z_64",rb="_dropCard_18h5z_70",sb="_flexbox_18h5z_95",ib="_innerFlexBox_18h5z_100",ab="_left_18h5z_118",lb="_flexBoxColumn_18h5z_146",ob="_flexboxRow_18h5z_152",cb="_startingEquipment_18h5z_160",ub="_tabBar_18h5z_165",Yr={CenterPage:eb,eachPage:tb,subClasses:nb,dropCard:rb,flexbox:sb,innerFlexBox:ib,left:ab,flexBoxColumn:lb,flexboxRow:ob,startingEquipment:cb,tabBar:ub},Ot=t=>{const{tabs:e,setTabs:n}=_b();return Ut(()=>{t.name!==void 0&&n(r=>({...r,[t.name]:t.children}))}),O(()=>t.children)},hb="_tabs_adr6a_1",db="_singleTabs_adr6a_7",fb="_tabHeader_adr6a_14",gb="_tabBody_adr6a_44",pb="_leftArrow_adr6a_51",mb="_rightArrow_adr6a_57",vb="_transparent_adr6a_63",Fn={tabs:hb,singleTabs:db,tabHeader:fb,tabBody:gb,leftArrow:pb,rightArrow:mb,transparent:vb};var ma=k("<span>"),bb=k("<div><div><div></div></div><div>"),yb=k("<b>");const no=Fr({tabs:()=>({}),setTabs:()=>{}});function _b(){return Xe(no)}const wb=t=>{const[e,n]=L(t.value,{equals:(r,s)=>{if(!(Object.keys(r).length===Object.keys(s).length))return!1;for(const a in r)if(r[a]!==s[a])return!1;return JSON.stringify(r)===JSON.stringify(s)}});return o(no.Provider,{value:{tabs:e,setTabs:n},get children(){return t.children}})},Zi=t=>o(wb,{value:{},get children(){return o($b,t)}}),$b=t=>{const[e,n]=Ge(),r=O(()=>Ve(e().theme)),{tabs:s,setTabs:i}=Xe(no),[a,l]=L(Object.keys(s())[0]),c=O(()=>s()[a()]);jr(()=>t.children);const u=O(()=>window.innerWidth<768),h=O(()=>Object.keys(t).includes("transparent"));z(()=>{l(Object.keys(s())[0])});const[d,f]=L(!1),[m,_]=L(!1),p=S=>{const C=y?.scrollLeft;y?.offsetWidth;const P=y?.scrollWidth??0,w=y?.clientWidth??0,F=P-w,T=Object.keys(s()).length>=3&&u()||C!==F,I=C>0;_(T),f(I),C<=0&&f(!1)};let y;Ut(()=>{y&&(y.addEventListener("scroll",p),p())}),Pn(()=>{y&&y.removeEventListener("scroll",p)});const b=()=>{y.scrollLeft-=100,p()},v=()=>{y.scrollLeft+=100,p(),f(!0)},$=t.styleType??"accent";return(()=>{var S=bb(),C=S.firstChild,P=C.firstChild,w=C.nextSibling;g(C,o(V,{get when(){return d()},get children(){var T=ma();return g(T,o(oe,{onClick:b,children:""})),z(()=>D(T,`${Fn.leftArrow}`)),T}}),P);var F=y;return typeof F=="function"?Wn(F,P):y=P,g(P,o(J,{get each(){return Object.keys(s())},children:(T,I)=>(()=>{var E=ma();return E.$$click=()=>l(T),g(E,o(V,{get when(){return T===a()},get children(){var B=yb();return g(B,T),B}}),null),g(E,o(V,{get when(){return T!==a()},children:T}),null),z(()=>D(E,`${Ve().hover}`)),E})()})),g(C,o(V,{get when(){return m()},get children(){var T=ma();return g(T,o(oe,{onClick:v,children:""})),z(()=>D(T,`${Fn.rightArrow}`)),T}}),null),g(w,c),z(T=>{var I=`${Fn.tabs}`,E=`${r()[$]} ${Fn.singleTabs} ${h()===!0?Fn.transparent:""}`,B=`${Fn.tabHeader}`,U=`${r()[$]} ${Fn.tabBody} ${h()===!0?Fn.transparent:""}`;return I!==T.e&&D(S,T.e=I),E!==T.t&&D(C,T.t=E),B!==T.a&&D(P,T.a=B),U!==T.o&&D(w,T.o=U),T},{e:void 0,t:void 0,a:void 0,o:void 0}),S})()};Jt(["click"]);var Cb=k("<span><span>Armor: </span><span></span><span>Weapons: <!> </span><span>Tools:</span><span>Saving Throws: "),va=k("<div>"),kb=k("<div><div><h1></h1><div>"),Jn=k("<br>"),Sb=k("<span>Choose: "),ba=k("<span>"),xb=k("<h3>choice "),Tb=k("<span>choose: "),Ab=k("<span>or"),Eb=k("<div><br><br><span>"),Lb=k("<div><h1> @lvl </h1><span>"),Pb=k("<h4>Spells Gained"),Ib=k("<div><h3></h3><span></span><br><span></span><br><span>"),Ob=k("<h5> <!> "),Rb=k("<span> <!> ");const Db=t=>{const e=Xe(gt),[n,r]=Ge(),s=O(()=>Ve(n().theme));L([]);const i=O(()=>t.currentClass().subclasses?.length>0?t.currentClass().subclasses:[]);O(()=>t.currentClass().classLevels.map(l=>l.features).flat());const a=l=>t.currentClass()?.startingEquipment?.[`choice${l}`];return o(Wt,{get width(){return e.isMobile()?"100%":"90%"},height:"90%",get title(){return t.currentClass().name},get backgroundClick(){return[t.boolean,t.booleanSetter]},get children(){var l=kb(),c=l.firstChild,u=c.firstChild,h=u.nextSibling;return g(u,()=>t.currentClass().name),g(c,o(Qv,{DndClass:()=>t.currentClass()}),h),g(h,o(Zi,{transparent:!0,get children(){return[o(Ot,{name:"Profs",get children(){var d=Cb(),f=d.firstChild;f.firstChild;var m=f.nextSibling,_=m.nextSibling,p=_.firstChild,y=p.nextSibling;y.nextSibling;var b=_.nextSibling;b.firstChild;var v=b.nextSibling;return v.firstChild,g(f,()=>t.currentClass().proficiencies.filter($=>$.toLowerCase().includes("armor")).join(", "),null),g(m,o(V,{get when(){return!!t.currentClass().proficiencies.filter($=>$.toLowerCase()==="shields").length},children:", Shields"})),g(_,()=>t.currentClass().proficiencies.filter($=>$.toLowerCase().includes("weapons")).join(", "),y),g(b,o(V,{get when(){return O(()=>!t.currentClass().proficiencies.map($=>$.toLowerCase()).includes("tools"))()&&!t.currentClass().proficiencies.map($=>$.toLowerCase()).includes("kit")},children:"None"}),null),g(b,o(V,{get when(){return!t.currentClass().proficiencies.map($=>$.toLowerCase()).includes("kit")},get children(){return t.currentClass().proficiencies.filter($=>$.toLowerCase().includes("kit"))}}),null),g(b,o(V,{get when(){return!t.currentClass().proficiencies.map($=>$.toLowerCase()).includes("tools")},get children(){return t.currentClass().proficiencies.filter($=>$.toLowerCase().includes("tools")).join(", ")}}),null),g(v,()=>t.currentClass().savingThrows.join(", "),null),z(()=>D(d,`${Yr.left} ${Yr.flexBoxColumn}`)),d}}),o(Ot,{name:"Skills",get children(){var d=va();return g(d,o(V,{get when(){return t.currentClass().proficiencyChoices.length>0},get children(){return o(J,{get each(){return t.currentClass().proficiencyChoices},children:f=>[Jn(),(()=>{var m=Sb();return m.firstChild,g(m,()=>f.choose,null),m})(),Jn(),o(J,{get each(){return f.choices},children:m=>[(()=>{var _=ba();return g(_,m),_})(),Jn()]})]})}})),d}}),o(Ot,{name:"items",get children(){var d=va();return g(d,o(J,{each:[1,2,3,4],children:(f,m)=>o(V,{get when(){return a(f)?.length>=1},get children(){return o(J,{get each(){return a(f)},children:(_,p)=>(()=>{var y=Eb(),b=y.firstChild,v=b.nextSibling,$=v.nextSibling;return g(y,o(V,{get when(){return p()<1},get children(){var S=xb();return S.firstChild,g(S,f,null),S}}),b),g(y,o(V,{get when(){return p()<1},get children(){var S=Tb();return S.firstChild,g(S,()=>_.choose,null),S}}),v),g($,o(J,{get each(){return _.choices},children:(S,C)=>[Jn(),(()=>{var P=ba();return g(P,()=>S.item),P})(),Jn()]})),g(y,o(V,{get when(){return p()<0},get children(){return[Jn(),Ab()]}}),null),y})()})}})})),d}}),o(Ot,{name:"Features",get children(){var d=va();return g(d,o(J,{get each(){return t?.currentClass()?.classLevels},children:(f,m)=>o(J,{get each(){return f.features},children:(_,p)=>(()=>{var y=Lb(),b=y.firstChild,v=b.firstChild,$=b.nextSibling;return g(b,()=>_.name,v),g(b,()=>f.info.level,null),g($,()=>lc(_.value)),y})()})})),d}}),o(J,{get each(){return i()},children:(d,f)=>o(Ot,{get name(){return d.name},get children(){var m=Ib(),_=m.firstChild,p=_.nextSibling,y=p.nextSibling,b=y.nextSibling,v=b.nextSibling,$=v.nextSibling;return g(_,()=>d.name),g(p,()=>d.desc?.join(` 
`)),g(b,()=>d.subclassFlavor),g(m,o(V,{get when(){return d.spells?.length>=1},get children(){return[Pb(),(()=>{var S=ba();return g(S,()=>d.spells?.join(`
`)),S})(),Jn()]}}),$),g($,o(J,{get each(){return d.features},children:S=>[(()=>{var C=Ob(),P=C.firstChild,w=P.nextSibling;return w.nextSibling,g(C,()=>S.name,w),C})(),(()=>{var C=Rb(),P=C.firstChild,w=P.nextSibling;return w.nextSibling,g(C,()=>lc(S?.value),w),C})()]})),m}})})]}})),z(d=>{var f=`${s()?.primary} ${Yr.CenterPage}`,m=`${Yr.eachPage}`,_=`${Yr.tabBar}`;return f!==d.e&&D(l,d.e=f),m!==d.t&&D(c,d.t=m),_!==d.a&&D(h,d.a=_),d},{e:void 0,t:void 0,a:void 0}),l}})},Bb="_view_kghgp_1",Nb={view:Bb};var Mb=k("<h2>SubClasses: "),Fb=k("<h4>At Higher Levels: "),jb=k("<span>"),Ub=k("<div><h1></h1><h2> </h2><h2>Casting time: <!> </h2><h2>Range: <!> </h2><h2>Component: </h2><h2>Duration: </h2><h2>Classes: </h2><span>");const qb=t=>{const e=Xe(gt),[{"0":n,"1":r},s]=St(t.backgroundClick,["0","1"]),i=()=>t.spell();return iv(),o(Wt,{get title(){return i().name},get width(){return e.isMobile(),"98%"},get height(){return e.isMobile()?"90%":"87%"},backgroundClick:[n,r],get children(){var a=Ub(),l=a.firstChild,c=l.nextSibling,u=c.firstChild,h=c.nextSibling,d=h.firstChild,f=d.nextSibling;f.nextSibling;var m=h.nextSibling,_=m.firstChild,p=_.nextSibling;p.nextSibling;var y=m.nextSibling;y.firstChild;var b=y.nextSibling;b.firstChild;var v=b.nextSibling;v.firstChild;var $=v.nextSibling;return g(l,()=>i().name),g(c,()=>cm(i().level),u),g(c,()=>i().school,null),g(h,()=>i().castingTime,f),g(m,()=>i().range,p),g(y,()=>um(i()),null),g(b,()=>i().duration,null),g(v,()=>i().classes.join(", "),null),g(a,o(V,{get when(){return i().subClasses.length>0},get children(){var S=Mb();return S.firstChild,g(S,()=>i().subClasses.join(", "),null),S}}),$),g($,()=>i().desc),g(a,o(V,{get when(){return!!i().higherLevel},get children(){return[Fb()," ",(()=>{var S=jb();return g(S,()=>i().higherLevel),S})()]}}),null),z(()=>D(a,`${Nb.view}`)),a}})},Kb="_paginator_3yqsp_1",zb="_pageView_3yqsp_11",fc={paginator:Kb,pageView:zb},Hb="_select_1joqo_1",Wb="_transparent_1joqo_8",gc={select:Hb,transparent:Wb};var Vb=k("<option>");const pe=t=>{vn();const[e,n]=Ge(),r=O(()=>Ve(e().theme));return(()=>{var s=Vb();return ft(s,ht(t,{get class(){return`${r().primary} ${t.class??""}`}}),!1,!1),s})()};var Gb=k("<select>");const Oe=t=>{const[e,n]=St(t,["disableUnselected","class","transparent","tooltip"]);return(()=>{var r=Gb();return ft(r,ht({get title(){return e.tooltip}},n,{get class(){return`${gc.select} ${Object.keys(e).includes("transparent")||e.transparent?gc.transparent:""} ${e.class??""}`}}),!1,!0),g(r,o(V,{get when(){return!Object.keys(e).includes("disableUnselected")||!e.disableUnselected},get children(){return o(pe,{value:"",children:"--------"})}}),null),g(r,()=>t.children,null),r})()};var Yb=k("<div><div><div></div> / <div>"),Zb=k("<option>");const hr=t=>{Xe(gt);const[e,n]=Ge(),[r,s]=L(1),[i,a]=L(t.itemsPerPage?.[0]??10),l=O(()=>Ve(e().theme)),c=O(()=>t.items().slice((r()-1)*i(),r()*i())),u=O(()=>Math.ceil(t.items().length/i())),h=t.itemsPerPage??[10,20,50,100];return z(()=>{r()>u()&&s(u())}),z(()=>{t.setPaginatedItems(c())}),(()=>{var d=Yb(),f=d.firstChild,m=f.firstChild,_=m.nextSibling,p=_.nextSibling;return g(d,o(oe,{get disabled(){return r()===1},onClick:()=>s(1),children:""}),f),g(d,o(oe,{get disabled(){return r()===1},onClick:()=>s(r()-1),children:""}),f),g(d,o(Oe,{disableUnselected:!0,transparent:!0,onChange:y=>a(+y.currentTarget.value),get children(){return o(J,{each:h,children:y=>(()=>{var b=Zb();return b.value=y,g(b,y),b})()})}}),f),g(m,r),g(p,u),g(d,o(oe,{get disabled(){return r()===u()},onClick:()=>s(r()+1),children:""}),null),g(d,o(oe,{get disabled(){return r()===u()},onClick:()=>s(u()),children:""}),null),z(y=>{var b=`${l()?.accent} ${fc.paginator} `,v=fc.pageView;return b!==y.e&&D(d,y.e=b),v!==y.t&&D(f,y.t=v),y},{e:void 0,t:void 0}),d})()},Xb="_searchBar_urvs3_1",pc={searchBar:Xb};class Ih extends En{spells;classes;races;backgrounds;items;feats;constructor(e){super(e),this.version(1).stores({spells:"name",classes:"name",races:"name",backgrounds:"name",items:"name",feats:"name"})}}const ze=new Ih("homebrew");class Jb{classes;setClasses;homebrewClasses$=Se.toObservable(ze.classes.toArray());items;setItems;homebrewItems$=Se.toObservable(ze.items.toArray());feats;setFeats;homebrewFeats$=Se.toObservable(ze.feats.toArray());spells;setSpells;homebrewSpells$=Se.toObservable(ze.spells.toArray());backgrounds;setBackgrounds;homebrewBackgrounds$=Se.toObservable(ze.backgrounds.toArray());races;setRaces;homebrewRaces$=Se.toObservable(ze.races.toArray());constructor(e=[],n=[],r=[],s=[],i=[],a=[]){[this.classes,this.setClasses]=L(e),[this.items,this.setItems]=L(n),[this.feats,this.setFeats]=L(r),[this.spells,this.setSpells]=L(s),[this.backgrounds,this.setBackgrounds]=L(i),[this.races,this.setRaces]=L(a),this.homebrewClasses$.pipe(Le(1),bt(l=>this.setClasses(c=>[...c,...l]))).subscribe(),this.homebrewItems$.pipe(Le(1),bt(l=>this.setItems(c=>[...c,...l]))).subscribe(),this.homebrewFeats$.pipe(Le(1),bt(l=>this.setFeats(c=>[...c,...l]))).subscribe(),this.homebrewSpells$.pipe(Le(1),bt(l=>this.setSpells(c=>[...c,...l]))).subscribe(),this.homebrewBackgrounds$.pipe(Le(1),bt(l=>this.setBackgrounds(c=>[...c,...l]))).subscribe(),this.homebrewRaces$.pipe(Le(1),bt(l=>this.setRaces(c=>[...c,...l]))).subscribe()}addClass=e=>{this.classes().findIndex(n=>n.name===e.name)===-1&&(this.setClasses(n=>[...n,e]),this.addClassToDB(e).subscribe())};addClassToDB=e=>Se.toObservable(ze.classes.add(e)).pipe(Le(1));updateClass(e){const n=this.classes().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.classes();r[n]=e,this.setClasses([...r])}updateClassesInDB=()=>{this.homebrewClasses$.pipe(Le(1),lt(e=>Se.toObservable(ze.classes.bulkPut(this.classes())))).subscribe()};removeClass=e=>{const n=this.classes().findIndex(s=>s.name===e);if(n===-1)return;const r=this.classes();r.splice(n,1),this.setClasses([...r]),Se.toObservable(ze.classes.clear()).pipe(Le(1),lt(()=>Se.toObservable(ze.classes.bulkAdd(this.classes())))).subscribe()};addItem=e=>{this.items().findIndex(n=>n.name===e.name)===-1&&(this.setItems(n=>[...n,e]),this.addItemToDB(e).subscribe())};addItemToDB=e=>Se.toObservable(ze.items.add(e)).pipe(Le(1));updateItem=e=>{const n=this.items().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.items();r[n]=e,this.setItems([...r])};updateItemsInDB=()=>{this.homebrewItems$.pipe(Le(1),lt(e=>Se.toObservable(ze.items.bulkPut(this.items())))).subscribe()};removeItem=e=>{const n=this.items().findIndex(s=>s.name===e);if(n===-1)return;const r=this.items();r.splice(n,1),this.setItems([...r]),Se.toObservable(ze.items.clear()).pipe(Le(1),lt(()=>Se.toObservable(ze.items.bulkAdd(this.items())))).subscribe()};addFeat=e=>{this.feats().findIndex(n=>n.name===e.name)===-1&&(this.setFeats(n=>[...n,e]),this.addFeatToDB(e).subscribe())};addFeatToDB=e=>Se.toObservable(ze.feats.add(e)).pipe(Le(1));updateFeat=e=>{const n=this.feats().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.feats();r[n]=e,this.setFeats([...r])};updateFeatsInDB=()=>{this.homebrewFeats$.pipe(Le(1),lt(e=>Se.toObservable(ze.feats.bulkPut(this.feats())))).subscribe()};removeFeat=e=>{const n=this.feats().findIndex(s=>s.name===e);if(n===-1)return;const r=this.feats();r.splice(n,1),this.setFeats([...r]),Se.toObservable(ze.feats.clear()).pipe(Le(1),lt(()=>Se.toObservable(ze.feats.bulkAdd(this.feats())))).subscribe()};addSpell=e=>{this.spells().findIndex(n=>n.name===e.name)===-1&&(this.setSpells(n=>[...n,e]),this.addSpellToDB(pt(e)).subscribe())};addSpellToDB=e=>Se.toObservable(ze.spells.add(e)).pipe(Le(1));updateSpell=e=>{const n=this.spells().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.spells();r[n]=e,this.setSpells([...r]),this.updateSpellInDb(pt(e)).subscribe()};updateSpellInDb=e=>Se.toObservable(ze.spells.put(e)).pipe(Le(1));updateSpellsInDB=()=>{this.homebrewSpells$.pipe(Le(1),lt(e=>Se.toObservable(ze.spells.bulkPut(this.spells())))).subscribe()};removeSpell=e=>{const n=this.spells().findIndex(s=>s.name===e);if(n===-1)return;const r=this.spells();r.splice(n,1),this.setSpells([...r]),Se.toObservable(ze.spells.clear()).pipe(Le(1),lt(()=>Se.toObservable(ze.spells.bulkAdd(this.spells())))).subscribe()};addBackground=e=>{this.backgrounds().findIndex(n=>n.name===e.name)===-1&&(this.setBackgrounds(n=>[...n,e]),this.addBackgroundToDB(e).subscribe())};addBackgroundToDB=e=>Se.toObservable(ze.backgrounds.add(e)).pipe(Le(1));updateBackground=e=>{const n=this.backgrounds().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.backgrounds();r[n]=e,this.setBackgrounds([...r]),this.updateBackgroundsInDB()};updateBackgroundsInDB=()=>{this.homebrewBackgrounds$.pipe(Le(1),lt(e=>Se.toObservable(ze.backgrounds.bulkPut(this.backgrounds())))).subscribe()};removeBackground=e=>{const n=this.backgrounds().findIndex(s=>s.name===e);if(n===-1)return;const r=this.backgrounds();r.splice(n,1),this.setBackgrounds([...r]),Se.toObservable(ze.backgrounds.clear()).pipe(Le(1),lt(()=>Se.toObservable(ze.backgrounds.bulkAdd(this.backgrounds())))).subscribe()};addRace=e=>{this.races().findIndex(n=>n.name===e.name)===-1&&(this.setRaces(n=>[...n,e]),this.addRaceToDB(e).subscribe())};addRaceToDB=e=>Se.toObservable(ze.races.add(e)).pipe(Le(1));updateRace=e=>{const n=this.races().findIndex(s=>s.name===e.name);if(n===-1)return;const r=this.races();r[n]=e,this.setRaces([...r]),this.updateRacesInDB().subscribe()};updateRacesInDB=()=>this.homebrewRaces$.pipe(Le(1),lt(e=>Se.toObservable(ze.races.bulkPut(this.races()))));removeRace=e=>{const n=this.races().findIndex(s=>s.name===e);if(n===-1)return;const r=this.races().splice(n,1);this.setRaces([...r]),Se.toObservable(ze.races.clear()).pipe(Le(1),lt(()=>Se.toObservable(ze.races.bulkAdd(this.races())))).subscribe()}}const ot=new Jb,Zt=new Ih("dndSrd"),[mc,Qb]=L([]);function Oh(){const t=Se.toObservable(Zt.backgrounds.toArray());return mc().length===0&&t.pipe(Le(1),lt(e=>e.length>0?nt(e):nt([])),lt(e=>e.length===0?Se.post("/api/DnDInfo/Backgrounds",{}).pipe(Le(1),mr(n=>(console.error("Error: ",n),nt(null))),bt(n=>{n&&Zt.backgrounds.bulkAdd(n)})):nt(e)),bt(e=>e&&e.length>0?Qb(e):null)).subscribe(),mc}const Rh=()=>{const t=Oh();return O(()=>[...t()])},[vc,ey]=L([]);function ro(){const t=Se.toObservable(Zt.classes.toArray());return vc().length===0&&t.pipe(Le(1),lt(e=>e.length>0?nt(e):nt([])),lt(e=>e.length===0?Se.post("/api/DnDInfo/Classes",{}).pipe(Le(1),mr(n=>(console.error("Error: ",n),nt(null))),bt(n=>{n&&Zt.classes.bulkAdd(n)})):nt(e)),lt(e=>nt(e&&e.concat(ot.classes()))),bt(e=>e&&e.length>0?ey(e):null)).subscribe(),vc}const zr=()=>{const t=ro();return O(()=>[...t(),...ot.classes()])},[bc,ty]=L([]);function Dh(){const t=Se.toObservable(Zt.feats.toArray());return bc().length===0&&t.pipe(Le(1),lt(e=>e.length>0?nt(e):nt([])),lt(e=>e.length===0?Se.post("/api/DnDInfo/Feats",{}).pipe(Le(1),mr(n=>(console.error("Error: ",n),nt(null))),bt(n=>{n&&Zt.feats.bulkAdd(n)})):nt(e)),bt(e=>e&&e.length>0?ty(e):null)).subscribe(),bc}const[yc,ny]=L([]),so=()=>{const t=Dh(),e=Se.toObservable(ze.feats.toArray());return yc().length===0&&e.pipe(Le(1),bt(r=>{r.length>0&&ny(r)})).subscribe(),O(()=>[...t(),...yc()])},[_c,ry]=L([]);function Bh(){const t=Se.toObservable(Zt.items.toArray());return _c().length===0&&t.pipe(Le(1),lt(e=>e.length>0?nt(e):nt([])),lt(e=>e.length===0?Se.post("/api/DnDInfo/Items",{}).pipe(Le(1),mr(n=>(console.error("Error: ",n),nt(null))),bt(n=>{n&&Zt.items.bulkAdd(n)})):nt(e)),bt(e=>e&&e.length>0?ry(e):null)).subscribe(),_c}const Nh=()=>{const t=Bh();return O(()=>[...t()])},[wc,sy]=L([]);function Mh(){const t=Se.toObservable(Zt.races.toArray());return wc().length===0&&t.pipe(Le(1),lt(e=>e.length>0?nt(e):nt([])),lt(e=>e.length===0?Se.post("/api/DnDInfo/Races",{}).pipe(Le(1),mr(n=>(console.error("Error: ",n),nt(null))),bt(n=>{n&&Zt.races.bulkAdd(n)})):nt(e)),bt(e=>e&&e.length>0?sy(e):null)).subscribe(),wc}const iy=()=>{const t=Mh();return O(()=>[...t()])},[$c,ay]=L([]);function io(t){const e=Se.toObservable(Zt.spells.toArray()),n=Se.toObservable(ze.spells.toArray());return $c().length===0&&(t?e:$g([e,n]).pipe(Vi(([s,i])=>[...s,...i]))).pipe(Le(1),lt(s=>s.length>0?nt(s):nt([])),lt(s=>s.length===0?Se.post("/api/DnDInfo/Spells",{}).pipe(Le(1),mr(i=>(console.error("Error: ",i),nt(null))),bt(i=>{i&&Zt.spells.bulkAdd(i)})):nt(s)),bt(s=>s&&s.length>0?ay(s):null)).subscribe(),$c}const Fh=()=>{const t=io();return O(()=>[...t()])},ly=[{name:"Gandalf",level:1,class:"Wizard",race:"Elf",subrace:"High Elf",background:"Noble",subclass:"Evocation",stats:{str:8,dex:14,con:12,int:15,wis:13,cha:10},spells:{spellsKnown:["Fireball","Mage Armor","Magic Missile","Shield"],spellsPrepared:["Fireball","Shield","Magic Missile"],alwaysPrepared:[]},skills:{proficient:["Arcana","History"],expertise:["Arcana"]},Features:[]},{name:"Jorden",level:1,class:"Fighter",race:"Dwarf",subrace:"Hill Dwarf",background:"Soldier",subclass:"Champion",stats:{str:12,dex:15,con:14,int:10,wis:13,cha:8},skills:{proficient:["Athletics","Survival"],expertise:["Athletics"]},Features:[]}],[oy,cy]=L(ly);function TC(){return[oy,cy]}const uy=new En("dndInfo");uy.version(1).stores({classes:"++id, name"});L(null);function $l(t){return t.replace(/[_-]/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function hy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dy={exports:{}};(function(t){var e=function(n){var r=Object.prototype,s=r.hasOwnProperty,i=Object.defineProperty||function(q,K,G){q[K]=G.value},a,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function d(q,K,G){return Object.defineProperty(q,K,{value:G,enumerable:!0,configurable:!0,writable:!0}),q[K]}try{d({},"")}catch{d=function(K,G,se){return K[G]=se}}function f(q,K,G,se){var N=K&&K.prototype instanceof $?K:$,H=Object.create(N.prototype),ee=new le(se||[]);return i(H,"_invoke",{value:B(q,G,ee)}),H}n.wrap=f;function m(q,K,G){try{return{type:"normal",arg:q.call(K,G)}}catch(se){return{type:"throw",arg:se}}}var _="suspendedStart",p="suspendedYield",y="executing",b="completed",v={};function $(){}function S(){}function C(){}var P={};d(P,c,function(){return this});var w=Object.getPrototypeOf,F=w&&w(w(ve([])));F&&F!==r&&s.call(F,c)&&(P=F);var T=C.prototype=$.prototype=Object.create(P);S.prototype=C,i(T,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:S,configurable:!0}),S.displayName=d(C,h,"GeneratorFunction");function I(q){["next","throw","return"].forEach(function(K){d(q,K,function(G){return this._invoke(K,G)})})}n.isGeneratorFunction=function(q){var K=typeof q=="function"&&q.constructor;return K?K===S||(K.displayName||K.name)==="GeneratorFunction":!1},n.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,C):(q.__proto__=C,d(q,h,"GeneratorFunction")),q.prototype=Object.create(T),q},n.awrap=function(q){return{__await:q}};function E(q,K){function G(H,ee,ue,X){var j=m(q[H],q,ee);if(j.type==="throw")X(j.arg);else{var te=j.arg,M=te.value;return M&&typeof M=="object"&&s.call(M,"__await")?K.resolve(M.__await).then(function(ie){G("next",ie,ue,X)},function(ie){G("throw",ie,ue,X)}):K.resolve(M).then(function(ie){te.value=ie,ue(te)},function(ie){return G("throw",ie,ue,X)})}}var se;function N(H,ee){function ue(){return new K(function(X,j){G(H,ee,X,j)})}return se=se?se.then(ue,ue):ue()}i(this,"_invoke",{value:N})}I(E.prototype),d(E.prototype,u,function(){return this}),n.AsyncIterator=E,n.async=function(q,K,G,se,N){N===void 0&&(N=Promise);var H=new E(f(q,K,G,se),N);return n.isGeneratorFunction(K)?H:H.next().then(function(ee){return ee.done?ee.value:H.next()})};function B(q,K,G){var se=_;return function(H,ee){if(se===y)throw new Error("Generator is already running");if(se===b){if(H==="throw")throw ee;return Ae()}for(G.method=H,G.arg=ee;;){var ue=G.delegate;if(ue){var X=U(ue,G);if(X){if(X===v)continue;return X}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(se===_)throw se=b,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);se=y;var j=m(q,K,G);if(j.type==="normal"){if(se=G.done?b:p,j.arg===v)continue;return{value:j.arg,done:G.done}}else j.type==="throw"&&(se=b,G.method="throw",G.arg=j.arg)}}}function U(q,K){var G=K.method,se=q.iterator[G];if(se===a)return K.delegate=null,G==="throw"&&q.iterator.return&&(K.method="return",K.arg=a,U(q,K),K.method==="throw")||G!=="return"&&(K.method="throw",K.arg=new TypeError("The iterator does not provide a '"+G+"' method")),v;var N=m(se,q.iterator,K.arg);if(N.type==="throw")return K.method="throw",K.arg=N.arg,K.delegate=null,v;var H=N.arg;if(!H)return K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,v;if(H.done)K[q.resultName]=H.value,K.next=q.nextLoc,K.method!=="return"&&(K.method="next",K.arg=a);else return H;return K.delegate=null,v}I(T),d(T,h,"Generator"),d(T,c,function(){return this}),d(T,"toString",function(){return"[object Generator]"});function W(q){var K={tryLoc:q[0]};1 in q&&(K.catchLoc=q[1]),2 in q&&(K.finallyLoc=q[2],K.afterLoc=q[3]),this.tryEntries.push(K)}function Q(q){var K=q.completion||{};K.type="normal",delete K.arg,q.completion=K}function le(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(W,this),this.reset(!0)}n.keys=function(q){var K=Object(q),G=[];for(var se in K)G.push(se);return G.reverse(),function N(){for(;G.length;){var H=G.pop();if(H in K)return N.value=H,N.done=!1,N}return N.done=!0,N}};function ve(q){if(q){var K=q[c];if(K)return K.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var G=-1,se=function N(){for(;++G<q.length;)if(s.call(q,G))return N.value=q[G],N.done=!1,N;return N.value=a,N.done=!0,N};return se.next=se}}return{next:Ae}}n.values=ve;function Ae(){return{value:a,done:!0}}return le.prototype={constructor:le,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Q),!q)for(var K in this)K.charAt(0)==="t"&&s.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=a)},stop:function(){this.done=!0;var q=this.tryEntries[0],K=q.completion;if(K.type==="throw")throw K.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var K=this;function G(X,j){return H.type="throw",H.arg=q,K.next=X,j&&(K.method="next",K.arg=a),!!j}for(var se=this.tryEntries.length-1;se>=0;--se){var N=this.tryEntries[se],H=N.completion;if(N.tryLoc==="root")return G("end");if(N.tryLoc<=this.prev){var ee=s.call(N,"catchLoc"),ue=s.call(N,"finallyLoc");if(ee&&ue){if(this.prev<N.catchLoc)return G(N.catchLoc,!0);if(this.prev<N.finallyLoc)return G(N.finallyLoc)}else if(ee){if(this.prev<N.catchLoc)return G(N.catchLoc,!0)}else if(ue){if(this.prev<N.finallyLoc)return G(N.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(q,K){for(var G=this.tryEntries.length-1;G>=0;--G){var se=this.tryEntries[G];if(se.tryLoc<=this.prev&&s.call(se,"finallyLoc")&&this.prev<se.finallyLoc){var N=se;break}}N&&(q==="break"||q==="continue")&&N.tryLoc<=K&&K<=N.finallyLoc&&(N=null);var H=N?N.completion:{};return H.type=q,H.arg=K,N?(this.method="next",this.next=N.finallyLoc,v):this.complete(H)},complete:function(q,K){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&K&&(this.next=K),v},finish:function(q){for(var K=this.tryEntries.length-1;K>=0;--K){var G=this.tryEntries[K];if(G.finallyLoc===q)return this.complete(G.completion,G.afterLoc),Q(G),v}},catch:function(q){for(var K=this.tryEntries.length-1;K>=0;--K){var G=this.tryEntries[K];if(G.tryLoc===q){var se=G.completion;if(se.type==="throw"){var N=se.arg;Q(G)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(q,K,G){return this.delegate={iterator:ve(q),resultName:K,nextLoc:G},this.method==="next"&&(this.arg=a),v}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(dy);var ao=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`;const fy=ao;let Cc=0;var jh=({id:t,action:e,payload:n={}})=>{let r=t;return typeof r>"u"&&(r=fy("Job",Cc),Cc+=1),{id:r,action:e,payload:n}},Hr={};let lo=!1;Hr.logging=lo;Hr.setLogging=t=>{lo=t};Hr.log=(...t)=>lo?console.log.apply(void 0,t):null;const gy=jh,{log:Qs}=Hr,py=ao;let kc=0;var my=()=>{const t=py("Scheduler",kc),e={},n={};let r=[];kc+=1;const s=()=>r.length,i=()=>Object.keys(e).length,a=()=>{if(r.length!==0){const d=Object.keys(e);for(let f=0;f<d.length;f+=1)if(typeof n[d[f]]>"u"){r[0](e[d[f]]);break}}},l=(d,f)=>new Promise((m,_)=>{const p=gy({action:d,payload:f});r.push(async y=>{r.shift(),n[y.id]=p;try{m(await y[d].apply(void 0,[...f,p.id]))}catch(b){_(b)}finally{delete n[y.id],a()}}),Qs(`[${t}]: Add ${p.id} to JobQueue`),Qs(`[${t}]: JobQueue length=${r.length}`),a()});return{addWorker:d=>(e[d.id]=d,Qs(`[${t}]: Add ${d.id}`),Qs(`[${t}]: Number of workers=${i()}`),a(),d.id),addJob:async(d,...f)=>{if(i()===0)throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return l(d,f)},terminate:async()=>{Object.keys(e).forEach(async d=>{await e[d].terminate()}),r=[]},getQueueLen:s,getNumWorkers:i}};function vy(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function by(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var yy=by;const _y=yy;var wy=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":_y()?e.type="electron":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof vy=="function"&&(e.type="node"),typeof t>"u"?e:e[t]};const $y=wy("type")==="browser",Cy=$y?t=>new URL(t,window.location.href).href:t=>t;var ky=t=>{const e={...t};return["corePath","workerPath","langPath"].forEach(n=>{t[n]&&(e[n]=Cy(e[n]))}),e},Sy=t=>{const e=[],n=[],r=[],s=[],i=[];return t.blocks&&t.blocks.forEach(a=>{a.paragraphs.forEach(l=>{l.lines.forEach(c=>{c.words.forEach(u=>{u.symbols.forEach(h=>{i.push({...h,page:t,block:a,paragraph:l,line:c,word:u})}),s.push({...u,page:t,block:a,paragraph:l,line:c})}),r.push({...c,page:t,block:a,paragraph:l})}),n.push({...l,page:t,block:a})}),e.push({...a,page:t})}),{...t,blocks:e,paragraphs:n,lines:r,words:s,symbols:i}},Uh={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const xy="tesseract.js",Ty="5.1.0",Ay="Pure Javascript Multilingual OCR",Ey="src/index.js",Ly="src/index.d.ts",Py="dist/tesseract.min.js",Iy="dist/tesseract.min.js",Oy={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},Ry={"./src/worker/node/index.js":"./src/worker/browser/index.js"},Dy="",By=["jeromewu"],Ny="Apache-2.0",My={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},Fy={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^5.1.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},jy={"@rollup/pluginutils":"^5.0.2"},Uy={type:"git",url:"https://github.com/naptha/tesseract.js.git"},qy={url:"https://github.com/naptha/tesseract.js/issues"},Ky="https://github.com/naptha/tesseract.js",zy={type:"opencollective",url:"https://opencollective.com/tesseractjs"},Hy={name:xy,version:Ty,description:Ay,main:Ey,types:Ly,unpkg:Py,jsdelivr:Iy,scripts:Oy,browser:Ry,author:Dy,contributors:By,license:Ny,devDependencies:My,dependencies:Fy,overrides:jy,repository:Uy,bugs:qy,homepage:Ky,collective:zy};var Wy={workerBlobURL:!0,logger:()=>{}};const Vy=Hy.version,Gy=Wy;var Yy={...Gy,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Vy}/dist/worker.min.js`},Zy=({workerPath:t,workerBlobURL:e})=>{let n;if(Blob&&URL&&e){const r=new Blob([`importScripts("${t}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(t);return n},Xy=t=>{t.terminate()},Jy=(t,e)=>{t.onmessage=({data:n})=>{e(n)}},Qy=async(t,e)=>{t.postMessage(e)};const ya=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:s}}})=>{n(Error(`File could not be read! Code=${s}`))},r.readAsArrayBuffer(t)}),Cl=async t=>{let e=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?e=atob(t.split(",")[1]).split("").map(n=>n.charCodeAt(0)):e=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(e=await Cl(t.src)),t.tagName==="VIDEO"&&(e=await Cl(t.poster)),t.tagName==="CANVAS"&&await new Promise(n=>{t.toBlob(async r=>{e=await ya(r),n()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const n=await t.convertToBlob();e=await ya(n)}else(t instanceof File||t instanceof Blob)&&(e=await ya(t));return new Uint8Array(e)};var e1=Cl;const t1=Yy,n1=Zy,r1=Xy,s1=Jy,i1=Qy,a1=e1;var l1={defaultOptions:t1,spawnWorker:n1,terminateWorker:r1,onMessage:s1,send:i1,loadImage:a1};const o1=ky,c1=Sy,Qt=jh,{log:Sc}=Hr,u1=ao,Qn=Uh,{defaultOptions:h1,spawnWorker:d1,terminateWorker:f1,onMessage:g1,loadImage:xc,send:p1}=l1;let Tc=0;var qh=async(t="eng",e=Qn.LSTM_ONLY,n={},r={})=>{const s=u1("Worker",Tc),{logger:i,errorHandler:a,...l}=o1({...h1,...n}),c={},u={},h=typeof t=="string"?t.split("+"):t;let d=e,f=r;const m=[Qn.DEFAULT,Qn.LSTM_ONLY].includes(e)&&!l.legacyCore;let _,p;const y=new Promise((N,H)=>{p=N,_=H}),b=N=>{_(N.message)};let v=d1(l);v.onerror=b,Tc+=1;const $=(N,H)=>{c[N]=H},S=(N,H)=>{u[N]=H},C=({id:N,action:H,payload:ee})=>new Promise((ue,X)=>{Sc(`[${s}]: Start ${N}, action=${H}`);const j=`${H}-${N}`;$(j,ue),S(j,X),p1(v,{workerId:s,jobId:N,action:H,payload:ee})}),P=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),w=N=>C(Qt({id:N,action:"load",payload:{options:{lstmOnly:m,corePath:l.corePath,logging:l.logging}}})),F=(N,H,ee)=>C(Qt({id:ee,action:"FS",payload:{method:"writeFile",args:[N,H]}})),T=(N,H)=>C(Qt({id:H,action:"FS",payload:{method:"readFile",args:[N,{encoding:"utf8"}]}})),I=(N,H)=>C(Qt({id:H,action:"FS",payload:{method:"unlink",args:[N]}})),E=(N,H,ee)=>C(Qt({id:ee,action:"FS",payload:{method:N,args:H}})),B=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),U=(N,H)=>C(Qt({id:H,action:"loadLanguage",payload:{langs:N,options:{langPath:l.langPath,dataPath:l.dataPath,cachePath:l.cachePath,cacheMethod:l.cacheMethod,gzip:l.gzip,lstmOnly:[Qn.LSTM_ONLY,Qn.TESSERACT_LSTM_COMBINED].includes(d)&&!l.legacyLang}}})),W=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),Q=(N,H,ee,ue)=>C(Qt({id:ue,action:"initialize",payload:{langs:N,oem:H,config:ee}})),le=(N="eng",H,ee,ue)=>{if(m&&[Qn.TESSERACT_ONLY,Qn.TESSERACT_LSTM_COMBINED].includes(H))throw Error("Legacy model requested but code missing.");const X=H||d;d=X;const j=ee||f;f=j;const M=(typeof N=="string"?N.split("+"):N).filter(ie=>!h.includes(ie));return h.push(...M),M.length>0?U(M,ue).then(()=>Q(N,X,j,ue)):Q(N,X,j,ue)},ve=(N={},H)=>C(Qt({id:H,action:"setParameters",payload:{params:N}})),Ae=async(N,H={},ee={blocks:!0,text:!0,hocr:!0,tsv:!0},ue)=>C(Qt({id:ue,action:"recognize",payload:{image:await xc(N),options:H,output:ee}})),q=(N="Tesseract OCR Result",H=!1,ee)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),C(Qt({id:ee,action:"getPDF",payload:{title:N,textonly:H}}))),K=async(N,H)=>{if(m)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return C(Qt({id:H,action:"detect",payload:{image:await xc(N)}}))},G=async()=>(v!==null&&(f1(v),v=null),Promise.resolve());g1(v,({workerId:N,jobId:H,status:ee,action:ue,data:X})=>{const j=`${ue}-${H}`;if(ee==="resolve"){Sc(`[${N}]: Complete ${H}`);let te=X;ue==="recognize"?te=c1(X):ue==="getPDF"&&(te=Array.from({...X,length:Object.keys(X).length})),c[j]({jobId:H,data:te})}else if(ee==="reject")if(u[j](X),ue==="load"&&_(X),a)a(X);else throw Error(X);else ee==="progress"&&i({...X,userJobId:H})});const se={id:s,worker:v,setResolve:$,setReject:S,load:P,writeText:F,readText:T,removeFile:I,FS:E,loadLanguage:B,initialize:W,reinitialize:le,setParameters:ve,recognize:Ae,getPDF:q,detect:K,terminate:G};return w().then(()=>U(t)).then(()=>Q(t,e,r)).then(()=>p(se)).catch(()=>{}),y};const Kh=qh,m1=async(t,e,n)=>{const r=await Kh(e,1,n);return r.recognize(t).finally(async()=>{await r.terminate()})},v1=async(t,e)=>{const n=await Kh("osd",0,e);return n.detect(t).finally(async()=>{await n.terminate()})};var b1={recognize:m1,detect:v1},y1={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},_1={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const w1=my,$1=qh,C1=b1,k1=y1,S1=Uh,x1=_1,{setLogging:T1}=Hr;var A1={languages:k1,OEM:S1,PSM:x1,createScheduler:w1,createWorker:$1,setLogging:T1,...C1};const E1=hy(A1),L1=async(t,e,n)=>{const r=await E1.createWorker("eng");r.recognize(t).then(s=>{e(i=>i?i+`
`+s.data.text:s.data.text),r.terminate(),n&&n()})};var P1=k("<div><input type=text><button>"),I1=k('<svg><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z">');const Dr=t=>{const[e,n]=L(""),[r,s]=St(t,["wrapClass","tooltip"]),i=()=>{const a=e().toLowerCase(),l=t.dataSource().filter(c=>t.searchFunction?t.searchFunction(c,e()):a.trim().length===0?!0:JSON.stringify(c).toLowerCase().includes(a));l.length>=1?t.setResults(pt(l)):t.setResults(t.dataSource())};return t.setResults(t.dataSource()),(()=>{var a=P1(),l=a.firstChild,c=l.nextSibling;return l.$$keydown=u=>u.key==="Enter"&&i(),l.addEventListener("change",u=>n(u.currentTarget.value)),ft(l,ht({get value(){return e()}},t,{get class(){return`${pc.input} ${t.class??""}`}}),!1,!1),c.$$click=i,g(c,o(O1,{})),z(u=>{var h=`${pc.searchBar} ${r.wrapClass}`,d=r.tooltip??"Search!";return h!==u.e&&D(a,u.e=h),d!==u.t&&dt(c,"title",u.t=d),u},{e:void 0,t:void 0}),a})()},O1=t=>(()=>{var e=I1();return ft(e,ht(t,{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 50 50"}),!0,!0),e})();Jt(["keydown","click"]);const R1="_areaStyle_gxfg5_1",D1="_picButton_gxfg5_16",B1="_transparent_gxfg5_23",ei={areaStyle:R1,picButton:D1,transparent:B1};function N1({multiple:t=!1,accept:e=""}){const n=document.createElement("input");return n.type="file",n.accept=e,n.multiple=t,n}function M1(t){const e=[];if(!t)return e;for(const n in t){const r=+n;if(isNaN(+r))continue;const s=t[r];if(!s)continue;const i={source:URL.createObjectURL(s),name:s.name,size:s.size,file:s};e.push(i)}return e}function F1(t){const[e,n]=L([]);let r=()=>{};const s=async c=>{c.preventDefault(),c.stopPropagation();const u=c.currentTarget;let h=[];u.files&&(h=M1(u.files)),u.removeEventListener("change",s),u.remove(),n(h);try{await r(h)}catch(d){console.error(d)}};return{files:e,selectFiles:c=>{c&&(r=c);const u=N1(t||{});u.addEventListener("change",s),u.click()},removeFile:c=>{n(u=>u.filter(h=>h.name!==c))},clearFiles:()=>{n([])}}}var j1=k("<div><h1>Modal</h1><div><h2>Upload And image to parse text from");const U1=t=>{const[e,n]=St(t,["uploadType","setData"]),{files:r,selectFiles:s}=F1({accept:e.uploadType==="image"?"image/*":"file/*"}),i=vn();return o(Wt,{get width(){return i.isMobile()?"80vw":"45vw"},get height(){return i.isMobile()?"45vh":"60vh"},get children(){var a=j1(),l=a.firstChild,c=l.nextSibling;return c.firstChild,g(c,o(oe,{onClick:u=>{s(([h])=>{t.snackbar&&Ln(t.snackbar.start),Se.toObservable(h.file.arrayBuffer()).pipe(Le(1),bt(d=>{const f=h.name.split(".")[h.name.split(".").length-1],m=new Uint8Array(d),_=new Blob([m],{type:`image/${f}`});t.setData(URL.createObjectURL(_)),t.snackbar&&Ln(t.snackbar.success)})).subscribe({error:d=>{t.snackbar&&Ln({...t.snackbar.error})}})})},children:"Upload"}),null),a}})};var q1=k("<span>"),K1=k("<textarea>");const rn=t=>{let e;const[n,r]=St(t,["buttons","minSize","text","setText","class","tooltip","transparent","picToTextEnabled"]),[s,i]=L(!1),[a,l]=L(""),c=to();function u(){if(e){e.style.height="auto";const h=n.minSize?.height??100,d=e.scrollHeight<h?h:e.scrollHeight;e.style.height=`${d}px`,e.setAttribute("style","height:"+d+"px;overflow-y:hidden;")}}return Ut(()=>{u(),c.setFieldType("textarea")}),z(()=>{u(),n.text()}),z(()=>{a()&&(Ln({message:"Parsing text from image...",closeTimeout:2e3}),L1(a(),n.setText,()=>{u(),Ln({message:"Text parsed from image successfully.",closeTimeout:2e3})}))}),[o(V,{get when(){return n.picToTextEnabled},get children(){var h=q1();return h.style.setProperty("width","inherit"),h.style.setProperty("font-size","1em"),g(h,o(oe,{get styleType(){return n.buttons?.styleType??"accent"},get class(){return`${ei.picButton}`},onClick:d=>i(f=>!f),get children(){return[o(V0,{width:"30px",height:"30px",style:{fill:"white"}}),o(V,{get when(){return s()},get children(){return o(U1,{setData:l,uploadType:"image"})}})]}})),z(()=>D(h,`${n.transparent?ei.transparent:""}`)),h}}),(()=>{var h=K1();return Wn(d=>{e=d,u()},h),ft(h,ht(r,{onFocus:d=>{c.getName&&(c.setFocused(!0),c.setTextInside(!1))},onBlur:d=>{c.setFocused&&c.setFocused(!1)},get placeholder(){return O(()=>!!(c.getName&&c.getTextInside()))()?c.getName():t.placeholder},get class(){return`${ei.areaStyle} ${n.class??""} ${n.transparent?ei.transparent:""}`},get value(){return n.text()},onInput:d=>{n.setText(d.currentTarget.value),u(),c.getName&&d.currentTarget.value&&(c.setValue(d.currentTarget.value),c.setTextInside(!1),c.setFocused(!0))},get title(){return n.tooltip}}),!1,!1),h})()]};function oo(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let yr=oo();function zh(t){yr=t}const Hh=/[&<>"']/,z1=new RegExp(Hh.source,"g"),Wh=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,H1=new RegExp(Wh.source,"g"),W1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ac=t=>W1[t];function Ht(t,e){if(e){if(Hh.test(t))return t.replace(z1,Ac)}else if(Wh.test(t))return t.replace(H1,Ac);return t}const V1=/(^|[^\[])\^/g;function Je(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(s,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(V1,"$1"),n=n.replace(s,a),r},getRegex:()=>new RegExp(n,e)};return r}function Ec(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const vs={exec:()=>null};function Lc(t,e){const n=t.replace(/\|/g,(i,a,l)=>{let c=!1,u=a;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),r=n.split(/ \|/);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(/\\\|/g,"|");return r}function Zr(t,e,n){const r=t.length;if(r===0)return"";let s=0;for(;s<r;){const i=t.charAt(r-s-1);if(i===e&&!n)s++;else if(i!==e&&n)s++;else break}return t.slice(0,r-s)}function G1(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function Pc(t,e,n,r){const s=e.href,i=e.title?Ht(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:s,title:i,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:s,title:i,text:Ht(a)}}function Y1(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(s=>{const i=s.match(/^\s+/);if(i===null)return s;const[a]=i;return a.length>=r.length?s.slice(r.length):s}).join(`
`)}class Fi{options;rules;lexer;constructor(e){this.options=e||yr}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Zr(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],s=Y1(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:s}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const s=Zr(r,"#");(this.options.pedantic||!s||/ $/.test(s))&&(r=s.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Zr(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=Zr(n[0],`
`).split(`
`),s="",i="";const a=[];for(;r.length>0;){let l=!1;const c=[];let u;for(u=0;u<r.length;u++)if(/^ {0,3}>/.test(r[u]))c.push(r[u]),l=!0;else if(!l)c.push(r[u]);else break;r=r.slice(u);const h=c.join(`
`),d=h.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");s=s?`${s}
${h}`:h,i=i?`${i}
${d}`:d;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,a,!0),this.lexer.state.top=f,r.length===0)break;const m=a[a.length-1];if(m?.type==="code")break;if(m?.type==="blockquote"){const _=m,p=_.raw+`
`+r.join(`
`),y=this.blockquote(p);a[a.length-1]=y,s=s.substring(0,s.length-_.raw.length)+y.raw,i=i.substring(0,i.length-_.text.length)+y.text;break}else if(m?.type==="list"){const _=m,p=_.raw+`
`+r.join(`
`),y=this.list(p);a[a.length-1]=y,s=s.substring(0,s.length-m.raw.length)+y.raw,i=i.substring(0,i.length-_.raw.length)+y.raw,r=p.substring(a[a.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:a,text:i}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const s=r.length>1,i={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const a=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l=!1;for(;e;){let c=!1,u="",h="";if(!(n=a.exec(e))||this.rules.block.hr.test(e))break;u=n[0],e=e.substring(u.length);let d=n[2].split(`
`,1)[0].replace(/^\t+/,b=>" ".repeat(3*b.length)),f=e.split(`
`,1)[0],m=!d.trim(),_=0;if(this.options.pedantic?(_=2,h=d.trimStart()):m?_=n[1].length+1:(_=n[2].search(/[^ ]/),_=_>4?1:_,h=d.slice(_),_+=n[1].length),m&&/^ *$/.test(f)&&(u+=f+`
`,e=e.substring(f.length+1),c=!0),!c){const b=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,_-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),$=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:\`\`\`|~~~)`),S=new RegExp(`^ {0,${Math.min(3,_-1)}}#`);for(;e;){const C=e.split(`
`,1)[0];if(f=C,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),$.test(f)||S.test(f)||b.test(f)||v.test(e))break;if(f.search(/[^ ]/)>=_||!f.trim())h+=`
`+f.slice(_);else{if(m||d.search(/[^ ]/)>=4||$.test(d)||S.test(d)||v.test(d))break;h+=`
`+f}!m&&!f.trim()&&(m=!0),u+=C+`
`,e=e.substring(C.length+1),d=f.slice(_)}}i.loose||(l?i.loose=!0:/\n *\n *$/.test(u)&&(l=!0));let p=null,y;this.options.gfm&&(p=/^\[[ xX]\] /.exec(h),p&&(y=p[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:u,task:!!p,checked:y,loose:!1,text:h,tokens:[]}),i.raw+=u}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let c=0;c<i.items.length;c++)if(this.lexer.state.top=!1,i.items[c].tokens=this.lexer.blockTokens(i.items[c].text,[]),!i.loose){const u=i.items[c].tokens.filter(d=>d.type==="space"),h=u.length>0&&u.some(d=>/\n.*\n/.test(d.raw));i.loose=h}if(i.loose)for(let c=0;c<i.items.length;c++)i.items[c].loose=!0;return i}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),s=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:s,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=Lc(n[1]),s=n[2].replace(/^\||\| *$/g,"").split("|"),i=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const l of s)/^ *-+: *$/.test(l)?a.align.push("right"):/^ *:-+: *$/.test(l)?a.align.push("center"):/^ *:-+ *$/.test(l)?a.align.push("left"):a.align.push(null);for(let l=0;l<r.length;l++)a.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:a.align[l]});for(const l of i)a.rows.push(Lc(l,a.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:a.align[u]})));return a}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Ht(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=Zr(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=G1(n[2],"()");if(a>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let s=n[2],i="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);a&&(s=a[1],i=a[3])}else i=n[3]?n[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(r)?s=s.slice(1):s=s.slice(1,-1)),Pc(n,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=(r[2]||r[1]).replace(/\s+/g," "),i=n[s.toLowerCase()];if(!i){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return Pc(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=[...s[0]].length-1;let l,c,u=a,h=0;const d=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+a);(s=d.exec(n))!=null;){if(l=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!l)continue;if(c=[...l].length,s[3]||s[4]){u+=c;continue}else if((s[5]||s[6])&&a%3&&!((a+c)%3)){h+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+h);const f=[...s[0]][0].length,m=e.slice(0,a+s.index+f+c);if(Math.min(a,c)%2){const p=m.slice(1,-1);return{type:"em",raw:m,text:p,tokens:this.lexer.inlineTokens(p)}}const _=m.slice(2,-2);return{type:"strong",raw:m,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const s=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return s&&i&&(r=r.substring(1,r.length-1)),r=Ht(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,s;return n[2]==="@"?(r=Ht(n[1]),s="mailto:"+r):(r=Ht(n[1]),s=r),{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,s;if(n[2]==="@")r=Ht(n[0]),s="mailto:"+r;else{let i;do i=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(i!==n[0]);r=Ht(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=Ht(n[0]),{type:"text",raw:n[0],text:r}}}}const Z1=/^(?: *(?:\n|$))+/,X1=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,J1=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ns=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Q1=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Vh=/(?:[*+-]|\d{1,9}[.)])/,Gh=Je(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Vh).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),co=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,e0=/^[^\n]+/,uo=/(?!\s*\])(?:\\.|[^\[\]\\])+/,t0=Je(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",uo).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),n0=Je(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Vh).getRegex(),Xi="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ho=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,r0=Je("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",ho).replace("tag",Xi).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Yh=Je(co).replace("hr",Ns).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xi).getRegex(),s0=Je(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Yh).getRegex(),fo={blockquote:s0,code:X1,def:t0,fences:J1,heading:Q1,hr:Ns,html:r0,lheading:Gh,list:n0,newline:Z1,paragraph:Yh,table:vs,text:e0},Ic=Je("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ns).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xi).getRegex(),i0={...fo,table:Ic,paragraph:Je(co).replace("hr",Ns).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ic).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xi).getRegex()},a0={...fo,html:Je(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ho).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vs,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Je(co).replace("hr",Ns).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Gh).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Zh=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,l0=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Xh=/^( {2,}|\\)\n(?!\s*$)/,o0=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ms="\\p{P}\\p{S}",c0=Je(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Ms).getRegex(),u0=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,h0=Je(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Ms).getRegex(),d0=Je("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Ms).getRegex(),f0=Je("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Ms).getRegex(),g0=Je(/\\([punct])/,"gu").replace(/punct/g,Ms).getRegex(),p0=Je(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),m0=Je(ho).replace("(?:-->|$)","-->").getRegex(),v0=Je("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",m0).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ji=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,b0=Je(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ji).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Jh=Je(/^!?\[(label)\]\[(ref)\]/).replace("label",ji).replace("ref",uo).getRegex(),Qh=Je(/^!?\[(ref)\](?:\[\])?/).replace("ref",uo).getRegex(),y0=Je("reflink|nolink(?!\\()","g").replace("reflink",Jh).replace("nolink",Qh).getRegex(),go={_backpedal:vs,anyPunctuation:g0,autolink:p0,blockSkip:u0,br:Xh,code:l0,del:vs,emStrongLDelim:h0,emStrongRDelimAst:d0,emStrongRDelimUnd:f0,escape:Zh,link:b0,nolink:Qh,punctuation:c0,reflink:Jh,reflinkSearch:y0,tag:v0,text:o0,url:vs},_0={...go,link:Je(/^!?\[(label)\]\((.*?)\)/).replace("label",ji).getRegex(),reflink:Je(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ji).getRegex()},kl={...go,escape:Je(Zh).replace("])","~|])").getRegex(),url:Je(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},w0={...kl,br:Je(Xh).replace("{2,}","*").getRegex(),text:Je(kl.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ti={normal:fo,gfm:i0,pedantic:a0},Xr={normal:go,gfm:kl,breaks:w0,pedantic:_0};class dn{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||yr,this.options.tokenizer=this.options.tokenizer||new Fi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:ti.normal,inline:Xr.normal};this.options.pedantic?(n.block=ti.pedantic,n.inline=Xr.pedantic):this.options.gfm&&(n.block=ti.gfm,this.options.breaks?n.inline=Xr.breaks:n.inline=Xr.gfm),this.tokenizer.rules=n}static get rules(){return{block:ti,inline:Xr}}static lex(e,n){return new dn(n).lex(e)}static lexInline(e,n){return new dn(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,u)=>c+"    ".repeat(u.length));let s,i,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(s=l.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length),s.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+s.raw,i.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},c),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(a=e.substring(0,l+1))}if(this.state.top&&(s=this.tokenizer.paragraph(a))){i=n[n.length-1],r&&i?.type==="paragraph"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s),r=a.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,s,i,a=e,l,c,u;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)h.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,l.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(r=h.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),s=n[n.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,a,u)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),n.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const d=e.slice(1);let f;this.options.extensions.startInline.forEach(m=>{f=m.call({lexer:this},d),typeof f=="number"&&f>=0&&(h=Math.min(h,f))}),h<1/0&&h>=0&&(i=e.substring(0,h+1))}if(r=this.tokenizer.inlineText(i)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),c=!0,s=n[n.length-1],s&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return n}}class Ui{options;parser;constructor(e){this.options=e||yr}space(e){return""}code({text:e,lang:n,escaped:r}){const s=(n||"").match(/^\S*/)?.[0],i=e.replace(/\n$/,"")+`
`;return s?'<pre><code class="language-'+Ht(s)+'">'+(r?i:Ht(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:Ht(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,r=e.start;let s="";for(let l=0;l<e.items.length;l++){const c=e.items[l];s+=this.listitem(c)}const i=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+i+a+`>
`+s+"</"+i+`>
`}listitem(e){let n="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" "}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let i=0;i<e.header.length;i++)r+=this.tablecell(e.header[i]);n+=this.tablerow({text:r});let s="";for(let i=0;i<e.rows.length;i++){const a=e.rows[i];r="";for(let l=0;l<a.length;l++)r+=this.tablecell(a[l]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){const s=this.parser.parseInline(r),i=Ec(e);if(i===null)return s;e=i;let a='<a href="'+e+'"';return n&&(a+=' title="'+n+'"'),a+=">"+s+"</a>",a}image({href:e,title:n,text:r}){const s=Ec(e);if(s===null)return r;e=s;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class po{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class fn{options;renderer;textRenderer;constructor(e){this.options=e||yr,this.options.renderer=this.options.renderer||new Ui,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new po}static parse(e,n){return new fn(n).parse(e)}static parseInline(e,n){return new fn(n).parseInline(e)}parse(e,n=!0){let r="";for(let s=0;s<e.length;s++){const i=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const l=i,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){r+=c||"";continue}}const a=i;switch(a.type){case"space":{r+=this.renderer.space(a);continue}case"hr":{r+=this.renderer.hr(a);continue}case"heading":{r+=this.renderer.heading(a);continue}case"code":{r+=this.renderer.code(a);continue}case"table":{r+=this.renderer.table(a);continue}case"blockquote":{r+=this.renderer.blockquote(a);continue}case"list":{r+=this.renderer.list(a);continue}case"html":{r+=this.renderer.html(a);continue}case"paragraph":{r+=this.renderer.paragraph(a);continue}case"text":{let l=a,c=this.renderer.text(l);for(;s+1<e.length&&e[s+1].type==="text";)l=e[++s],c+=`
`+this.renderer.text(l);n?r+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c}]}):r+=c;continue}default:{const l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let s=0;s<e.length;s++){const i=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=l||"";continue}}const a=i;switch(a.type){case"escape":{r+=n.text(a);break}case"html":{r+=n.html(a);break}case"link":{r+=n.link(a);break}case"image":{r+=n.image(a);break}case"strong":{r+=n.strong(a);break}case"em":{r+=n.em(a);break}case"codespan":{r+=n.codespan(a);break}case"br":{r+=n.br(a);break}case"del":{r+=n.del(a);break}case"text":{r+=n.text(a);break}default:{const l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}}class yi{options;constructor(e){this.options=e||yr}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}class $0{defaults=oo();options=this.setOptions;parse=this.parseMarkdown(dn.lex,fn.parse);parseInline=this.parseMarkdown(dn.lexInline,fn.parseInline);Parser=fn;Renderer=Ui;TextRenderer=po;Lexer=dn;Tokenizer=Fi;Hooks=yi;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(const s of e)switch(r=r.concat(n.call(this,s)),s.type){case"table":{const i=s;for(const a of i.header)r=r.concat(this.walkTokens(a.tokens,n));for(const a of i.rows)for(const l of a)r=r.concat(this.walkTokens(l.tokens,n));break}case"list":{const i=s;r=r.concat(this.walkTokens(i.items,n));break}default:{const i=s;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{const l=i[a].flat(1/0);r=r.concat(this.walkTokens(l,n))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const a=n.renderers[i.name];a?n.renderers[i.name]=function(...l){let c=i.renderer.apply(this,l);return c===!1&&(c=a.apply(this,l)),c}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=n[i.level];a?a.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),s.extensions=n),r.renderer){const i=this.defaults.renderer||new Ui(this.defaults);for(const a in r.renderer){if(!(a in i))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const l=a,c=r.renderer[l],u=i[l];i[l]=(...h)=>{let d=c.apply(i,h);return d===!1&&(d=u.apply(i,h)),d||""}}s.renderer=i}if(r.tokenizer){const i=this.defaults.tokenizer||new Fi(this.defaults);for(const a in r.tokenizer){if(!(a in i))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const l=a,c=r.tokenizer[l],u=i[l];i[l]=(...h)=>{let d=c.apply(i,h);return d===!1&&(d=u.apply(i,h)),d}}s.tokenizer=i}if(r.hooks){const i=this.defaults.hooks||new yi;for(const a in r.hooks){if(!(a in i))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;const l=a,c=r.hooks[l],u=i[l];yi.passThroughHooks.has(a)?i[l]=h=>{if(this.defaults.async)return Promise.resolve(c.call(i,h)).then(f=>u.call(i,f));const d=c.call(i,h);return u.call(i,d)}:i[l]=(...h)=>{let d=c.apply(i,h);return d===!1&&(d=u.apply(i,h)),d}}s.hooks=i}if(r.walkTokens){const i=this.defaults.walkTokens,a=r.walkTokens;s.walkTokens=function(l){let c=[];return c.push(a.call(this,l)),i&&(c=c.concat(i.call(this,l))),c}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return dn.lex(e,n??this.defaults)}parser(e,n){return fn.parse(e,n??this.defaults)}parseMarkdown(e,n){return(s,i)=>{const a={...i},l={...this.defaults,...a},c=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&a.async===!1)return c(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));if(l.hooks&&(l.hooks.options=l),l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(s):s).then(u=>e(u,l)).then(u=>l.hooks?l.hooks.processAllTokens(u):u).then(u=>l.walkTokens?Promise.all(this.walkTokens(u,l.walkTokens)).then(()=>u):u).then(u=>n(u,l)).then(u=>l.hooks?l.hooks.postprocess(u):u).catch(c);try{l.hooks&&(s=l.hooks.preprocess(s));let u=e(s,l);l.hooks&&(u=l.hooks.processAllTokens(u)),l.walkTokens&&this.walkTokens(u,l.walkTokens);let h=n(u,l);return l.hooks&&(h=l.hooks.postprocess(h)),h}catch(u){return c(u)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+Ht(r.message+"",!0)+"</pre>";return n?Promise.resolve(s):s}if(n)return Promise.reject(r);throw r}}}const gr=new $0;function Ze(t,e){return gr.parse(t,e)}Ze.options=Ze.setOptions=function(t){return gr.setOptions(t),Ze.defaults=gr.defaults,zh(Ze.defaults),Ze};Ze.getDefaults=oo;Ze.defaults=yr;Ze.use=function(...t){return gr.use(...t),Ze.defaults=gr.defaults,zh(Ze.defaults),Ze};Ze.walkTokens=function(t,e){return gr.walkTokens(t,e)};Ze.parseInline=gr.parseInline;Ze.Parser=fn;Ze.parser=fn.parse;Ze.Renderer=Ui;Ze.TextRenderer=po;Ze.Lexer=dn;Ze.lexer=dn.lex;Ze.Tokenizer=Fi;Ze.Hooks=yi;Ze.parse=Ze;Ze.options;Ze.setOptions;Ze.use;Ze.walkTokens;Ze.parseInline;fn.parse;dn.lex;/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:ed,setPrototypeOf:Oc,isFrozen:C0,getPrototypeOf:k0,getOwnPropertyDescriptor:S0}=Object;let{freeze:Dt,seal:Xt,create:td}=Object,{apply:Sl,construct:xl}=typeof Reflect<"u"&&Reflect;Dt||(Dt=function(e){return e});Xt||(Xt=function(e){return e});Sl||(Sl=function(e,n,r){return e.apply(n,r)});xl||(xl=function(e,n){return new e(...n)});const ni=Gt(Array.prototype.forEach),Rc=Gt(Array.prototype.pop),Jr=Gt(Array.prototype.push),_i=Gt(String.prototype.toLowerCase),_a=Gt(String.prototype.toString),Dc=Gt(String.prototype.match),Qr=Gt(String.prototype.replace),x0=Gt(String.prototype.indexOf),T0=Gt(String.prototype.trim),tn=Gt(Object.prototype.hasOwnProperty),Pt=Gt(RegExp.prototype.test),es=A0(TypeError);function Gt(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Sl(t,e,r)}}function A0(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xl(t,n)}}function Re(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_i;Oc&&Oc(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(C0(e)||(e[r]=i),s=i)}t[s]=!0}return t}function E0(t){for(let e=0;e<t.length;e++)tn(t,e)||(t[e]=null);return t}function ir(t){const e=td(null);for(const[n,r]of ed(t))tn(t,n)&&(Array.isArray(r)?e[n]=E0(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=ir(r):e[n]=r);return e}function ts(t,e){for(;t!==null;){const r=S0(t,e);if(r){if(r.get)return Gt(r.get);if(typeof r.value=="function")return Gt(r.value)}t=k0(t)}function n(){return null}return n}const Bc=Dt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),wa=Dt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$a=Dt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L0=Dt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ca=Dt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),P0=Dt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nc=Dt(["#text"]),Mc=Dt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ka=Dt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fc=Dt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ri=Dt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),I0=Xt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),O0=Xt(/<%[\w\W]*|[\w\W]*%>/gm),R0=Xt(/\${[\w\W]*}/gm),D0=Xt(/^data-[\-\w.\u00B7-\uFFFF]/),B0=Xt(/^aria-[\-\w]+$/),nd=Xt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),N0=Xt(/^(?:\w+script|data):/i),M0=Xt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rd=Xt(/^html$/i),F0=Xt(/^[a-z][.\w]*(-[.\w]+)+$/i);var jc=Object.freeze({__proto__:null,MUSTACHE_EXPR:I0,ERB_EXPR:O0,TMPLIT_EXPR:R0,DATA_ATTR:D0,ARIA_ATTR:B0,IS_ALLOWED_URI:nd,IS_SCRIPT_OR_DATA:N0,ATTR_WHITESPACE:M0,DOCTYPE_NAME:rd,CUSTOM_ELEMENT:F0});const ns={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},j0=function(){return typeof window>"u"?null:window},U0=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function sd(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j0();const e=me=>sd(me);if(e.version="3.1.6",e.removed=[],!t||!t.document||t.document.nodeType!==ns.document)return e.isSupported=!1,e;let{document:n}=t;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:m}=t,_=c.prototype,p=ts(_,"cloneNode"),y=ts(_,"remove"),b=ts(_,"nextSibling"),v=ts(_,"childNodes"),$=ts(_,"parentNode");if(typeof a=="function"){const me=n.createElement("template");me.content&&me.content.ownerDocument&&(n=me.content.ownerDocument)}let S,C="";const{implementation:P,createNodeIterator:w,createDocumentFragment:F,getElementsByTagName:T}=n,{importNode:I}=r;let E={};e.isSupported=typeof ed=="function"&&typeof $=="function"&&P&&P.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:U,TMPLIT_EXPR:W,DATA_ATTR:Q,ARIA_ATTR:le,IS_SCRIPT_OR_DATA:ve,ATTR_WHITESPACE:Ae,CUSTOM_ELEMENT:q}=jc;let{IS_ALLOWED_URI:K}=jc,G=null;const se=Re({},[...Bc,...wa,...$a,...Ca,...Nc]);let N=null;const H=Re({},[...Mc,...ka,...Fc,...ri]);let ee=Object.seal(td(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ue=null,X=null,j=!0,te=!0,M=!1,ie=!0,ne=!1,_e=!0,fe=!1,be=!1,Pe=!1,xe=!1,rt=!1,Y=!1,R=!0,x=!1;const Z="user-content-";let he=!0,ke=!1,ce={},Te=null;const Fe=Re({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Bt=null;const an=Re({},["audio","video","img","source","image","track"]);let ln=null;const ae=Re({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ie="http://www.w3.org/1998/Math/MathML",Ee="http://www.w3.org/2000/svg",je="http://www.w3.org/1999/xhtml";let ye=je,Qe=!1,st=null;const Nt=Re({},[Ie,Ee,je],_a);let Mt=null;const qt=["application/xhtml+xml","text/html"],_r="text/html";let vt=null,on=null;const Wr=n.createElement("form"),mo=function(A){return A instanceof RegExp||A instanceof Function},Ji=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(on&&on===A)){if((!A||typeof A!="object")&&(A={}),A=ir(A),Mt=qt.indexOf(A.PARSER_MEDIA_TYPE)===-1?_r:A.PARSER_MEDIA_TYPE,vt=Mt==="application/xhtml+xml"?_a:_i,G=tn(A,"ALLOWED_TAGS")?Re({},A.ALLOWED_TAGS,vt):se,N=tn(A,"ALLOWED_ATTR")?Re({},A.ALLOWED_ATTR,vt):H,st=tn(A,"ALLOWED_NAMESPACES")?Re({},A.ALLOWED_NAMESPACES,_a):Nt,ln=tn(A,"ADD_URI_SAFE_ATTR")?Re(ir(ae),A.ADD_URI_SAFE_ATTR,vt):ae,Bt=tn(A,"ADD_DATA_URI_TAGS")?Re(ir(an),A.ADD_DATA_URI_TAGS,vt):an,Te=tn(A,"FORBID_CONTENTS")?Re({},A.FORBID_CONTENTS,vt):Fe,ue=tn(A,"FORBID_TAGS")?Re({},A.FORBID_TAGS,vt):{},X=tn(A,"FORBID_ATTR")?Re({},A.FORBID_ATTR,vt):{},ce=tn(A,"USE_PROFILES")?A.USE_PROFILES:!1,j=A.ALLOW_ARIA_ATTR!==!1,te=A.ALLOW_DATA_ATTR!==!1,M=A.ALLOW_UNKNOWN_PROTOCOLS||!1,ie=A.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ne=A.SAFE_FOR_TEMPLATES||!1,_e=A.SAFE_FOR_XML!==!1,fe=A.WHOLE_DOCUMENT||!1,xe=A.RETURN_DOM||!1,rt=A.RETURN_DOM_FRAGMENT||!1,Y=A.RETURN_TRUSTED_TYPE||!1,Pe=A.FORCE_BODY||!1,R=A.SANITIZE_DOM!==!1,x=A.SANITIZE_NAMED_PROPS||!1,he=A.KEEP_CONTENT!==!1,ke=A.IN_PLACE||!1,K=A.ALLOWED_URI_REGEXP||nd,ye=A.NAMESPACE||je,ee=A.CUSTOM_ELEMENT_HANDLING||{},A.CUSTOM_ELEMENT_HANDLING&&mo(A.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ee.tagNameCheck=A.CUSTOM_ELEMENT_HANDLING.tagNameCheck),A.CUSTOM_ELEMENT_HANDLING&&mo(A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ee.attributeNameCheck=A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),A.CUSTOM_ELEMENT_HANDLING&&typeof A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ee.allowCustomizedBuiltInElements=A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(te=!1),rt&&(xe=!0),ce&&(G=Re({},Nc),N=[],ce.html===!0&&(Re(G,Bc),Re(N,Mc)),ce.svg===!0&&(Re(G,wa),Re(N,ka),Re(N,ri)),ce.svgFilters===!0&&(Re(G,$a),Re(N,ka),Re(N,ri)),ce.mathMl===!0&&(Re(G,Ca),Re(N,Fc),Re(N,ri))),A.ADD_TAGS&&(G===se&&(G=ir(G)),Re(G,A.ADD_TAGS,vt)),A.ADD_ATTR&&(N===H&&(N=ir(N)),Re(N,A.ADD_ATTR,vt)),A.ADD_URI_SAFE_ATTR&&Re(ln,A.ADD_URI_SAFE_ATTR,vt),A.FORBID_CONTENTS&&(Te===Fe&&(Te=ir(Te)),Re(Te,A.FORBID_CONTENTS,vt)),he&&(G["#text"]=!0),fe&&Re(G,["html","head","body"]),G.table&&(Re(G,["tbody"]),delete ue.tbody),A.TRUSTED_TYPES_POLICY){if(typeof A.TRUSTED_TYPES_POLICY.createHTML!="function")throw es('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof A.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw es('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=A.TRUSTED_TYPES_POLICY,C=S.createHTML("")}else S===void 0&&(S=U0(m,s)),S!==null&&typeof C=="string"&&(C=S.createHTML(""));Dt&&Dt(A),on=A}},vo=Re({},["mi","mo","mn","ms","mtext"]),bo=Re({},["foreignobject","annotation-xml"]),hd=Re({},["title","style","font","a","script"]),yo=Re({},[...wa,...$a,...L0]),_o=Re({},[...Ca,...P0]),dd=function(A){let re=$(A);(!re||!re.tagName)&&(re={namespaceURI:ye,tagName:"template"});const ge=_i(A.tagName),it=_i(re.tagName);return st[A.namespaceURI]?A.namespaceURI===Ee?re.namespaceURI===je?ge==="svg":re.namespaceURI===Ie?ge==="svg"&&(it==="annotation-xml"||vo[it]):!!yo[ge]:A.namespaceURI===Ie?re.namespaceURI===je?ge==="math":re.namespaceURI===Ee?ge==="math"&&bo[it]:!!_o[ge]:A.namespaceURI===je?re.namespaceURI===Ee&&!bo[it]||re.namespaceURI===Ie&&!vo[it]?!1:!_o[ge]&&(hd[ge]||!yo[ge]):!!(Mt==="application/xhtml+xml"&&st[A.namespaceURI]):!1},cn=function(A){Jr(e.removed,{element:A});try{$(A).removeChild(A)}catch{y(A)}},Fs=function(A,re){try{Jr(e.removed,{attribute:re.getAttributeNode(A),from:re})}catch{Jr(e.removed,{attribute:null,from:re})}if(re.removeAttribute(A),A==="is"&&!N[A])if(xe||rt)try{cn(re)}catch{}else try{re.setAttribute(A,"")}catch{}},wo=function(A){let re=null,ge=null;if(Pe)A="<remove></remove>"+A;else{const Ct=Dc(A,/^[\r\n\t ]+/);ge=Ct&&Ct[0]}Mt==="application/xhtml+xml"&&ye===je&&(A='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+A+"</body></html>");const it=S?S.createHTML(A):A;if(ye===je)try{re=new f().parseFromString(it,Mt)}catch{}if(!re||!re.documentElement){re=P.createDocument(ye,"template",null);try{re.documentElement.innerHTML=Qe?C:it}catch{}}const xt=re.body||re.documentElement;return A&&ge&&xt.insertBefore(n.createTextNode(ge),xt.childNodes[0]||null),ye===je?T.call(re,fe?"html":"body")[0]:fe?re.documentElement:xt},$o=function(A){return w.call(A.ownerDocument||A,A,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Co=function(A){return A instanceof d&&(typeof A.nodeName!="string"||typeof A.textContent!="string"||typeof A.removeChild!="function"||!(A.attributes instanceof h)||typeof A.removeAttribute!="function"||typeof A.setAttribute!="function"||typeof A.namespaceURI!="string"||typeof A.insertBefore!="function"||typeof A.hasChildNodes!="function")},ko=function(A){return typeof l=="function"&&A instanceof l},bn=function(A,re,ge){E[A]&&ni(E[A],it=>{it.call(e,re,ge,on)})},So=function(A){let re=null;if(bn("beforeSanitizeElements",A,null),Co(A))return cn(A),!0;const ge=vt(A.nodeName);if(bn("uponSanitizeElement",A,{tagName:ge,allowedTags:G}),A.hasChildNodes()&&!ko(A.firstElementChild)&&Pt(/<[/\w]/g,A.innerHTML)&&Pt(/<[/\w]/g,A.textContent)||A.nodeType===ns.progressingInstruction||_e&&A.nodeType===ns.comment&&Pt(/<[/\w]/g,A.data))return cn(A),!0;if(!G[ge]||ue[ge]){if(!ue[ge]&&To(ge)&&(ee.tagNameCheck instanceof RegExp&&Pt(ee.tagNameCheck,ge)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(ge)))return!1;if(he&&!Te[ge]){const it=$(A)||A.parentNode,xt=v(A)||A.childNodes;if(xt&&it){const Ct=xt.length;for(let Ft=Ct-1;Ft>=0;--Ft){const un=p(xt[Ft],!0);un.__removalCount=(A.__removalCount||0)+1,it.insertBefore(un,b(A))}}}return cn(A),!0}return A instanceof c&&!dd(A)||(ge==="noscript"||ge==="noembed"||ge==="noframes")&&Pt(/<\/no(script|embed|frames)/i,A.innerHTML)?(cn(A),!0):(ne&&A.nodeType===ns.text&&(re=A.textContent,ni([B,U,W],it=>{re=Qr(re,it," ")}),A.textContent!==re&&(Jr(e.removed,{element:A.cloneNode()}),A.textContent=re)),bn("afterSanitizeElements",A,null),!1)},xo=function(A,re,ge){if(R&&(re==="id"||re==="name")&&(ge in n||ge in Wr))return!1;if(!(te&&!X[re]&&Pt(Q,re))){if(!(j&&Pt(le,re))){if(!N[re]||X[re]){if(!(To(A)&&(ee.tagNameCheck instanceof RegExp&&Pt(ee.tagNameCheck,A)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(A))&&(ee.attributeNameCheck instanceof RegExp&&Pt(ee.attributeNameCheck,re)||ee.attributeNameCheck instanceof Function&&ee.attributeNameCheck(re))||re==="is"&&ee.allowCustomizedBuiltInElements&&(ee.tagNameCheck instanceof RegExp&&Pt(ee.tagNameCheck,ge)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(ge))))return!1}else if(!ln[re]){if(!Pt(K,Qr(ge,Ae,""))){if(!((re==="src"||re==="xlink:href"||re==="href")&&A!=="script"&&x0(ge,"data:")===0&&Bt[A])){if(!(M&&!Pt(ve,Qr(ge,Ae,"")))){if(ge)return!1}}}}}}return!0},To=function(A){return A!=="annotation-xml"&&Dc(A,q)},Ao=function(A){bn("beforeSanitizeAttributes",A,null);const{attributes:re}=A;if(!re)return;const ge={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N};let it=re.length;for(;it--;){const xt=re[it],{name:Ct,namespaceURI:Ft,value:un}=xt,Vr=vt(Ct);let Lt=Ct==="value"?un:T0(un);if(ge.attrName=Vr,ge.attrValue=Lt,ge.keepAttr=!0,ge.forceKeepAttr=void 0,bn("uponSanitizeAttribute",A,ge),Lt=ge.attrValue,_e&&Pt(/((--!?|])>)|<\/(style|title)/i,Lt)){Fs(Ct,A);continue}if(ge.forceKeepAttr||(Fs(Ct,A),!ge.keepAttr))continue;if(!ie&&Pt(/\/>/i,Lt)){Fs(Ct,A);continue}ne&&ni([B,U,W],Lo=>{Lt=Qr(Lt,Lo," ")});const Eo=vt(A.nodeName);if(xo(Eo,Vr,Lt)){if(x&&(Vr==="id"||Vr==="name")&&(Fs(Ct,A),Lt=Z+Lt),S&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Ft)switch(m.getAttributeType(Eo,Vr)){case"TrustedHTML":{Lt=S.createHTML(Lt);break}case"TrustedScriptURL":{Lt=S.createScriptURL(Lt);break}}try{Ft?A.setAttributeNS(Ft,Ct,Lt):A.setAttribute(Ct,Lt),Co(A)?cn(A):Rc(e.removed)}catch{}}}bn("afterSanitizeAttributes",A,null)},fd=function me(A){let re=null;const ge=$o(A);for(bn("beforeSanitizeShadowDOM",A,null);re=ge.nextNode();)bn("uponSanitizeShadowNode",re,null),!So(re)&&(re.content instanceof i&&me(re.content),Ao(re));bn("afterSanitizeShadowDOM",A,null)};return e.sanitize=function(me){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=null,ge=null,it=null,xt=null;if(Qe=!me,Qe&&(me="<!-->"),typeof me!="string"&&!ko(me))if(typeof me.toString=="function"){if(me=me.toString(),typeof me!="string")throw es("dirty is not a string, aborting")}else throw es("toString is not a function");if(!e.isSupported)return me;if(be||Ji(A),e.removed=[],typeof me=="string"&&(ke=!1),ke){if(me.nodeName){const un=vt(me.nodeName);if(!G[un]||ue[un])throw es("root node is forbidden and cannot be sanitized in-place")}}else if(me instanceof l)re=wo("<!---->"),ge=re.ownerDocument.importNode(me,!0),ge.nodeType===ns.element&&ge.nodeName==="BODY"||ge.nodeName==="HTML"?re=ge:re.appendChild(ge);else{if(!xe&&!ne&&!fe&&me.indexOf("<")===-1)return S&&Y?S.createHTML(me):me;if(re=wo(me),!re)return xe?null:Y?C:""}re&&Pe&&cn(re.firstChild);const Ct=$o(ke?me:re);for(;it=Ct.nextNode();)So(it)||(it.content instanceof i&&fd(it.content),Ao(it));if(ke)return me;if(xe){if(rt)for(xt=F.call(re.ownerDocument);re.firstChild;)xt.appendChild(re.firstChild);else xt=re;return(N.shadowroot||N.shadowrootmode)&&(xt=I.call(r,xt,!0)),xt}let Ft=fe?re.outerHTML:re.innerHTML;return fe&&G["!doctype"]&&re.ownerDocument&&re.ownerDocument.doctype&&re.ownerDocument.doctype.name&&Pt(rd,re.ownerDocument.doctype.name)&&(Ft="<!DOCTYPE "+re.ownerDocument.doctype.name+`>
`+Ft),ne&&ni([B,U,W],un=>{Ft=Qr(Ft,un," ")}),S&&Y?S.createHTML(Ft):Ft},e.setConfig=function(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ji(me),be=!0},e.clearConfig=function(){on=null,be=!1},e.isValidAttribute=function(me,A,re){on||Ji({});const ge=vt(me),it=vt(A);return xo(ge,it,re)},e.addHook=function(me,A){typeof A=="function"&&(E[me]=E[me]||[],Jr(E[me],A))},e.removeHook=function(me){if(E[me])return Rc(E[me])},e.removeHooks=function(me){E[me]&&(E[me]=[])},e.removeAllHooks=function(){E={}},e}var q0=sd();const K0="_markStyle_16k43_1",z0={markStyle:K0};var H0=k("<div>");const id=t=>{const[e,n]=St(t,["text","tooltip","class"]),[r,s]=L();return(()=>{var i=H0();return Wn(s,i),ft(i,ht({get class(){return`${z0.markStyle} ${e.class??""}`},get innerHTML(){return q0.sanitize(Ze.parse(e.text(),{async:!1,gfm:!0}))},get title(){return e.tooltip}},n),!1,!1),i})()};var W0=k('<svg width=800px height=800px><path d="M3 10H4C4.93188 10 5.39782 10 5.76537 10.1522C6.25542 10.3552 6.64477 10.7446 6.84776 11.2346C7 11.6022 7 12.0681 7 13C7 13.9319 7 14.3978 6.84776 14.7654C6.64477 15.2554 6.25542 15.6448 5.76537 15.8478C5.39782 16 4.93188 16 4 16H3M19 6V5C19 3.89543 18.1046 3 17 3H15C13.8954 3 13 3.89543 13 5V6M6.2 20H17.8C18.9201 20 19.4802 20 19.908 19.782C20.2843 19.5903 20.5903 19.2843 20.782 18.908C21 18.4802 21 17.9201 21 16.8V9.2C21 8.07989 21 7.51984 20.782 7.09202C20.5903 6.71569 20.2843 6.40973 19.908 6.21799C19.4802 6 18.9201 6 17.8 6H6.2C5.0799 6 4.51984 6 4.09202 6.21799C3.71569 6.40973 3.40973 6.71569 3.21799 7.09202C3 7.51984 3 8.07989 3 9.2V16.8C3 17.9201 3 18.4802 3.21799 18.908C3.40973 19.2843 3.71569 19.5903 4.09202 19.782C4.51984 20 5.07989 20 6.2 20ZM17 13C17 14.6569 15.6569 16 14 16C12.3431 16 11 14.6569 11 13C11 11.3431 12.3431 10 14 10C15.6569 10 17 11.3431 17 13Z"stroke=#000000 stroke-width=2 stroke-linecap=round stroke-linejoin=round>');const V0=t=>(()=>{var e=W0();return ft(e,ht(t,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),!0,!0),e})(),G0="_formField_1o1an_1",Y0="_moveLegendInside_1o1an_25",Z0="_checkboxPadding_1o1an_30",Uc={formField:G0,moveLegendInside:Y0,checkboxPadding:Z0};var X0=k("<fieldset><legend>");const tt=t=>o(jv,{get name(){return t.name},get children(){return o(J0,t)}}),J0=t=>{const[e,n]=St(t,["children","styleType","name","class","value"]),r=to(),[s]=Ge(),i=O(()=>Ve(s().theme)),a=O(()=>!r.getValue()&&!r.getFocused()&&r.getTextInside()),l=jr(()=>t.children),[c,u]=L();Zl(c,()=>{r.setTextInside(!!r.getValue()||!r.getFocused())}),z(()=>{r.setName(t.name)});const[h,d]=L("10px"),[f,m]=L("20px");return z(()=>{a()?(d("10px"),r.getFieldType()!=="textarea"&&m("10px"),r.getFieldType()==="textarea"&&m("10px")):(d("0px"),r.getFieldType()!=="textarea"&&m("0px"),r.getFieldType()==="textarea"&&m("3px"))}),(()=>{var _=X0(),p=_.firstChild;return Wn(u,_),ft(_,ht(n,{get style(){return{"margin-top":h(),"padding-bottom":f()}},onClick:()=>r.setTextInside(!1),get class(){return`${i()[e.styleType??"accent"]} ${Uc.formField} ${e.class??""}`}}),!1,!0),g(p,(()=>{var y=O(()=>!!r.getName());return()=>y()?r.getName():""})()),g(_,l,null),z(()=>D(p,`${i()[e.styleType??"accent"]} ${a()?`${Uc.moveLegendInside}`:""}`)),_})()};function Q0(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:a}=t;let l,c;const u=async(d=!0)=>{await c};async function h(){if("serviceWorker"in navigator){if(l=await qi(()=>import("./workbox-window.prod.es5-HOwwy-x7.js"),__vite__mapDeps([])).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{a?.(d)}),!l)return;l.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),l.addEventListener("installed",d=>{d.isUpdate||r?.()}),l.register({immediate:e}).then(d=>{i?i("/sw.js",d):s?.(d)}).catch(d=>{a?.(d)})}}return c=h(),u}function ad(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:a}=t,[l,c]=L(!1),[u,h]=L(!1),d=Q0({immediate:e,onOfflineReady(){h(!0),r?.()},onNeedRefresh(){c(!0),n?.()},onRegistered:s,onRegisteredSW:i,onRegisterError:a});return{needRefresh:[l,c],offlineReady:[u,h],updateServiceWorker:d}}const e_="_Container_8liaz_1",t_="_Toast_8liaz_15",n_="_ToastMessage_8liaz_43",r_="_ToastButton_8liaz_51",rs={Container:e_,Toast:t_,ToastMessage:n_,ToastButton:r_};var s_=k("<span>App ready to work offline"),i_=k("<button>Reload"),a_=k("<div><div></div><button>Close"),l_=k("<div>"),o_=k("<span>New content available, click on reload button to update.");const c_=()=>{const{offlineReady:[t,e],needRefresh:[n,r],updateServiceWorker:s}=ad({onRegistered(a){console.log("SW Registered: ",a)},onRegisterError(a){console.log("SW registration error",a)}}),i=()=>{e(!1),r(!1)};return(()=>{var a=l_();return g(a,o(V,{get when(){return t()||n()},get children(){var l=a_(),c=l.firstChild,u=c.nextSibling;return g(c,o(V,{get fallback(){return o_()},get when(){return t()},get children(){return s_()}})),g(l,o(V,{get when(){return n()},get children(){var h=i_();return h.$$click=()=>s(!0),z(()=>D(h,rs.ToastButton)),h}}),u),u.$$click=()=>i(),z(h=>{var d=rs.Toast,f=rs.Message,m=rs.ToastButton;return d!==h.e&&D(l,h.e=d),f!==h.t&&D(c,h.t=f),m!==h.a&&D(u,h.a=m),h},{e:void 0,t:void 0,a:void 0}),l}})),z(()=>D(a,rs.Container)),a})()};Jt(["click"]);var u_=k("<h1>Home"),h_=k("<div>Welcome to my app. This is a work in progress."),Sa=k("<div>"),d_=k("<div><div></div><div>"),f_=k("<div><div></div><div></div><span>");const g_=()=>{const[t,e]=Ge();vn(),O(()=>Ve(t().theme));const n=ro();io(),Dh(),Mh(),Bh(),Oh();const[r,s]=L(`This **is** _a_ 
# test`),[i,a]=L("It'll be great eventually."),[l,c]=L("");return L(!1),o(Yt,{get children(){return[u_(),o(Zi,{get children(){return[o(Ot,{name:"Welcome",get children(){return o(eo,{get children(){return[h_(),(()=>{var u=Sa();return u.style.setProperty("width","100%"),u.style.setProperty("padding","15px"),g(u,o(rn,{readOnly:!0,transparent:!0,tooltip:"Testing",text:i,setText:a})),u})()]}})}}),o(Ot,{name:"Table",get children(){var u=Sa();return g(u,o(Hn,{dropdownArrow:{width:"30px",height:"30px"},dropdown:!0,data:n,columns:["hitDie","className","saves"],get children(){return[o(Be,{name:"className",get children(){return[o(Ne,{children:"Class Name"}),o(Me,{children:(h,d)=>h.name})]}}),o(Be,{name:"hitDie",get children(){return[o(Ne,{children:"Hit Die"}),o(Me,{children:h=>h.hitDie})]}}),o(Be,{name:"saves",get children(){return[o(Ne,{children:"Saves"}),o(Me,{children:h=>h.savingThrows?.join(", ")})]}}),o(Rr,{style:{height:"40px"}}),o(Ph,{children:(h,d)=>(()=>{var f=f_(),m=f.firstChild,_=m.nextSibling,p=_.nextSibling;return f.style.setProperty("border","1px solid"),f.style.setProperty("padding","5px"),f.style.setProperty("border-radius","10px"),g(m,()=>h?.name),g(_,()=>h?.hitDie),g(p,()=>h?.spellcasting?.spellcastingAbility),f})()})]}})),u}}),o(Ot,{name:"Markdown",get children(){var u=d_(),h=u.firstChild,d=h.nextSibling;return u.style.setProperty("height","100%"),h.style.setProperty("width","100%"),h.style.setProperty("height","max-content !important"),g(h,o(id,{text:r})),d.style.setProperty("width","100%"),d.style.setProperty("height","max-content"),d.style.setProperty("min-height","200px"),g(d,o(rn,{buttons:{styleType:"tertiary"},picToTextEnabled:!0,onChange:f=>s(f.currentTarget.value),readOnly:!1,transparent:!1,tooltip:"Testing",text:r,setText:s})),u}}),o(Ot,{name:"Field Test",get children(){var u=Sa();return u.style.setProperty("display","flex"),u.style.setProperty("flex-direction","row"),u.style.setProperty("flex-wrap","wrap"),g(u,o(tt,{name:"Input Test",style:{height:"min-content"},get children(){return o($e,{type:"text",get value(){return l()},onChange:h=>c(h.currentTarget.value),width:700,style:{"max-width":"800px !important"}})}}),null),g(u,o(tt,{name:"TextArea Test",get children(){return o(rn,{text:l,setText:c})}}),null),u}})]}}),o(c_,{})]}})};var p_=k("<div>Element 1"),m_=k("<div>Element 2"),v_=k("<div>Element 3"),b_=k("<div>Element 4"),y_=k("<h1>Homebrew");const __=()=>{Xe(gt)?.useStyle();const e=[{name:"Element A",element:p_()},{name:"Element 2",element:m_()},{name:"Element fred",element:v_()},{name:"Elem fff",element:b_()}];return o(Yt,{get children(){return[y_(),o(Ql,{elements:e})]}})},w_="_sidebar_1142h_1",$_="_body_1142h_33",C_="_bodyMenu_1142h_57",k_={sidebar:w_,body:$_,bodyMenu:C_};var S_=k("<h1>Create"),qc=k("<div>"),x_=k("<a><div><p>");const T_=()=>{const e=Xe(gt)?.useStyle(),n=[{name:"Classes"},{name:"Races"},{name:"Backgrounds"},{name:"Feats"},{name:"Spells"},{name:"Items"}],[r,s]=L(n);return o(Yt,{get children(){return[S_(),(()=>{var i=qc();return g(i,o(J,{get each(){return r()},children:(a,l)=>[(()=>{var c=x_(),u=c.firstChild,h=u.firstChild;return g(h,()=>a.name),z(d=>{var f=`${e?.primary}`,m=`/homebrew/create/${a.name.toLowerCase()}`,_=`${e?.hover}`;return f!==d.e&&D(c,d.e=f),m!==d.t&&dt(c,"href",d.t=m),_!==d.a&&D(u,d.a=_),d},{e:void 0,t:void 0,a:void 0}),c})(),o(V,{get when(){return l()===2},get children(){var c=qc();return c.style.setProperty("height","0"),c.style.setProperty("flex-basis","100%"),c}})]})),z(()=>D(i,`${k_.bodyMenu} `)),i})()]}})};var A_=k("<td>Options"),E_=k("<table><thead><tr></tr></thead><tbody>"),L_=k("<th>"),P_=k('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path d="M0 0h24v24H0z"fill=none></path><path d="M12 6a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0 6a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0 6a2 2 0 1 1 0 4 2 2 0 0 1 0-4z">'),I_=k("<tr>"),O_=k("<td>");const er=t=>{const[e,n]=L(t.data),[r,s]=L(t.data),i=O(()=>r());L([]);const a=O(()=>t.button?i().map(l=>t.button.generateMenuButtons(l)):[]);return[(()=>{var l=E_(),c=l.firstChild,u=c.firstChild,h=c.nextSibling;return g(u,o(J,{get each(){return t.keys??[]},children:d=>(()=>{var f=L_();return g(f,()=>$l(d.toString())),f})()}),null),g(u,o(V,{get when(){return t.button},get children(){return A_()}}),null),g(h,o(J,{get each(){return i()},children:(d,f)=>(()=>{var m=I_();return g(m,o(J,{get each(){return t.keys},children:_=>(()=>{var p=O_();return g(p,()=>`${d[_]}`),p})()}),null),g(m,o(V,{get when(){return t.button},get children(){return o(oe,{get enableBackgroundClick(){return t.button?.backgroundClick},get overrideX(){return t.button?.overideX},get overrideY(){return t.button?.overideY},get menuItems(){return a()[f()]},get children(){return P_()}})}}),null),m})()})),l})(),o(V,{get when(){return t.paginator},get children(){return o(hr,{setPaginatedItems:s,items:e,get itemsPerPage(){return t.paginator}})}})]};var R_=k("<h1>View"),D_=k("<div>");const Kc=()=>{vn(),Ge();const t=Rl(),e=O(()=>[{name:"Spells",element:o(er,{get data(){return ot.spells()},keys:["name","level"],button:{backgroundClick:!0,generateMenuButtons:l=>[{name:"Edit",condition:()=>!0,action:()=>{t(`/homebrew/create/spells?name=${l.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",l)}}]}})},{name:"Feats",element:o(er,{get data(){return ot.feats()},keys:["name"],button:{backgroundClick:!0,generateMenuButtons:l=>[{name:"Edit",condition:()=>!0,action:()=>{t(`/homebrew/create/feats?name=${l.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",l)}}]}})},{name:"Classes",element:o(er,{get data(){return ot.classes()},keys:["name","hitDie"],paginator:[5,10,25,50,100],button:{backgroundClick:!0,generateMenuButtons:l=>[{name:"Edit",condition:()=>!0,action:()=>{t(`/homebrew/create/classes?name=${l.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",l)}}]}})},{name:"Subclasses",element:o(er,{get data(){return ot.classes().flatMap(l=>l.subclasses)},keys:["name","class"],paginator:[5,10,25,50,100],button:{backgroundClick:!0,generateMenuButtons:l=>[{name:"Edit",condition:()=>!0,action:()=>{t(`/homebrew/create/subclasses?name=${l.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",l)}}]}})},{name:"Items",element:o(er,{get data(){return ot.items()},keys:["name"],button:{backgroundClick:!0,generateMenuButtons:l=>[{name:"Edit",condition:()=>!0,action:()=>{t(`/homebrew/create/items?name=${l.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",l)}}]}})},{name:"Backgrounds",element:o(er,{get data(){return ot.backgrounds()},keys:["name"],button:{backgroundClick:!0,generateMenuButtons:l=>[{name:"Edit",condition:()=>!0,action:()=>{t(`/homebrew/create/backgrounds?name=${l.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",l)}}]}})},{name:"Races",element:o(er,{get data(){return ot.races()},keys:["name"],button:{backgroundClick:!0,generateMenuButtons:l=>[{name:"Edit",condition:()=>!0,action:()=>{t(`/homebrew/create/races?name=${l.name}`)}},{name:"Delete",condition:()=>!0,action:()=>{console.log("Delete",l)}}]}})}]),[n,r]=pn();n.name||r({name:e()[0].name});const s=O(()=>e().findIndex(l=>l.name.toLowerCase()===n.name?.toLowerCase()));z(()=>{console.log("startingIndex",s()),console.log("searchParam",n.name)});const[i,a]=L(s());return z(()=>{r({name:e()[i()].name??"spells"})}),o(Yt,{get children(){return[R_(),(()=>{var l=D_();return l.style.setProperty("text-align","left"),g(l,o(Ql,{get startingIndex(){return s()},currentIndex:[i,a],get elements(){return e()}})),l})()]}})},B_="_fieldStyle_l0bph_1",N_="_selectSpan_l0bph_7",M_="_rowOne_l0bph_17",F_="_twoRowContainer_l0bph_23",j_="_divide_l0bph_34",U_="_rowTwo_l0bph_38",q_="_allProficiency_l0bph_50",K_="_singleProficiency_l0bph_55",z_="_levelSecondRow_l0bph_74",H_="_wholeTable_l0bph_82",W_="_scrollX_l0bph_86",V_="_rowStyle_l0bph_90",G_="_headerStyle_l0bph_94",Y_="_cellStyle_l0bph_99",Z_="_tableFeature_l0bph_105",X_="_spellcasting_l0bph_112",J_="_specific_l0bph_121",Q_="_chipHover_l0bph_126",De={fieldStyle:B_,selectSpan:N_,rowOne:M_,twoRowContainer:F_,divide:j_,rowTwo:U_,allProficiency:q_,singleProficiency:K_,levelSecondRow:z_,wholeTable:H_,scrollX:W_,rowStyle:V_,headerStyle:G_,cellStyle:Y_,tableFeature:Z_,spellcasting:X_,specific:J_,chipHover:Q_},ew="_body_bpryr_1",tw="_textArea_bpryr_20",nw="_checkBox_bpryr_28",rw="_castingRowOne_bpryr_33",sw="_chips_bpryr_43",jn={body:ew,textArea:tw,checkBox:nw,castingRowOne:rw,chips:sw},iw="_container_mtnir_1",aw="_top_mtnir_9",lw="_body_mtnir_17",tr={container:iw,top:aw,body:lw,new:"_new_mtnir_21"},ow=()=>{const t=zr(),e=so();return O(()=>{const r=t(),s=e(),i=r.flatMap(h=>h.classLevels).flatMap(h=>h.features),a=r.flatMap(h=>h.subclasses).flatMap(h=>h.features),l=s.flatMap(h=>({name:h.name,value:h.desc,info:{type:"Feature"}})),c=[...i,...a,...l].filter(h=>!!h.name).sort((h,d)=>h.name.localeCompare(d.name)),u=new Tr;return c.forEach(h=>u.add(h)),u.value})};var xa=k("<div>"),zc=k("<div><span>"),cw=k("<div><div><h3>Level <!> Features</h3></div><div>"),Hc=k("<i>");const ld=t=>{zr();const e=ow(),[n,r]=L(""),[s,i]=L({}),[a,l]=L(""),[c,u]=L(""),h=O(()=>a().trim().length===0||$(c()).trim().length===0),[d,f]=L(""),m=O(()=>t.editIndex()),_=O(()=>m()!==-1),p=O(()=>{const C=e().filter(w=>!!w?.info?.className),P=new Set;return C.forEach(w=>P.add(w.info.className)),Array.from(P)}),y=O(()=>d()===""?e():d()==="Feature"?e().filter(C=>C?.info?.type==="Feature"):e().filter(C=>C?.info?.className===d())),b=()=>{r(""),l(""),u("")},v=()=>{let C="",P="",w=0;t.currentSubclass?(C=t.currentSubclass.class,P=t.currentSubclass.name,w=t.currentLevel.level):(C=t.currentLevel.info.className,P=t.currentLevel.info.subclassName,w=t.currentLevel.level),_()?t.replaceFeature(w,m(),{name:We(a),value:We(c),info:{className:C,subclassName:P,level:w,type:"Feature",other:""}}):t.addFeature(w,{name:We(a),value:We(c),info:{className:C,subclassName:P,level:w,type:"Feature",other:""}}),t.setShowFeature(!1),t.setEditIndex(-1)},$=C=>typeof C=="string"?C:Array.isArray(C)?C.join(`
`):"",S=C=>{const P=C.info;if(P){if(P.subclassName&&P.className)return`(${C.info.subclassName} ${P.className})`;if(P.className)return`(${P.className})`;if(P.type)return`(${P.type})`}return""};return wt(()=>{if(_()){const C=t.currentSubclass?t.currentSubclass.features[m()]:t.currentLevel.features[m()];l(C.name),u($(C.value))}}),o(Wt,{title:"Add Feature",setClose:C=>(t.setEditIndex(-1),t.setShowFeature(C)),get children(){var C=cw(),P=C.firstChild,w=P.firstChild,F=w.firstChild,T=F.nextSibling;T.nextSibling;var I=P.nextSibling;return g(P,o(V,{get when(){return n()!==""},get children(){return o(oe,{onClick:b,children:""})}}),w),g(w,()=>t.currentLevel.level,T),g(I,o(V,{get when(){return O(()=>n()==="")()&&!_()},get children(){var E=xa();return g(E,o(oe,{onClick:B=>{r("new")},children:"New Feature"}),null),g(E,o(oe,{onClick:()=>r("existing"),children:"Existing Feature"}),null),E}}),null),g(I,o(V,{get when(){return O(()=>n()==="new")()&&!_()},get children(){var E=xa();return g(E,o(tt,{name:"Feature Name",get children(){return o($e,{type:"text",transparent:!0,get value(){return a()},onInput:B=>l(B.currentTarget.value)})}}),null),g(E,o(tt,{name:"Feature Description",get children(){return o(rn,{transparent:!0,text:c,setText:u})}}),null),g(E,o(oe,{onClick:()=>v(),get disabled(){return h()},children:"Save"}),null),z(()=>D(E,`${tr.new}`)),E}}),null),g(I,o(V,{get when(){return O(()=>n()==="existing")()&&!_()},get children(){var E=zc(),B=E.firstChild;return g(B,o(Oe,{transparent:!0,disableUnselected:!0,onChange:U=>{i(JSON.parse(U.currentTarget.value));const W=s().name,Q=s().value;console.log(W,Q,typeof Q),l(s().name),u($(s().value))},get children(){return o(J,{get each(){return y()},children:U=>o(pe,{get value(){return JSON.stringify(U)},get children(){return[O(()=>U.name)," ",(()=>{var W=Hc();return g(W,()=>S(U)),W})()]}})})}}),null),g(B,o(Oe,{transparent:!0,disableUnselected:!0,onChange:U=>f(U.currentTarget.value),get children(){return[o(pe,{value:"",children:"All"}),o(pe,{value:"Feature",children:"Feats"}),o(J,{get each(){return p()},children:U=>o(pe,{value:U,children:U})})]}}),null),g(B,o(oe,{onClick:()=>v(),get disabled(){return h()},children:"Save"}),null),g(E,o(tt,{name:"Feature Name",get children(){return o($e,{disabled:!0,readOnly:!0,type:"text",transparent:!0,get value(){return a()},onInput:U=>l(U.currentTarget.value)})}}),null),g(E,o(id,{text:c}),null),z(()=>D(E,`${tr.new}`)),E}}),null),g(I,o(V,{get when(){return O(()=>n()==="template")()&&!_()},get children(){var E=zc(),B=E.firstChild;return g(B,o(Oe,{transparent:!0,disableUnselected:!0,onChange:U=>{i(JSON.parse(U.currentTarget.value))},get children(){return o(J,{get each(){return y()},children:U=>o(pe,{get value(){return JSON.stringify(U)},get children(){return[O(()=>U.name)," ",(()=>{var W=Hc();return g(W,()=>S(U)),W})()]}})})}}),null),g(B,o(Oe,{transparent:!0,disableUnselected:!0,onChange:U=>f(U.currentTarget.value),get children(){return[o(pe,{value:"",children:"All"}),o(pe,{value:"Feature",children:"Feats"}),o(J,{get each(){return p()},children:U=>o(pe,{value:U,children:U})})]}}),null),g(B,o(oe,{onClick:U=>{l(s().name),u($(s().value))},children:"Fill Feature"}),null),g(B,o(oe,{onClick:()=>v(),get disabled(){return h()},children:"Save"}),null),g(E,o(tt,{name:"Feature Name",get children(){return o($e,{type:"text",transparent:!0,get value(){return a()},onInput:U=>l(U.currentTarget.value)})}}),null),g(E,o(tt,{name:"Feature Description",get children(){return o(rn,{transparent:!0,text:c,setText:u})}}),null),g(E,o(oe,{onClick:()=>v(),get disabled(){return h()},children:"Save"}),null),z(()=>D(E,`${tr.new}`)),E}}),null),g(I,o(V,{get when(){return _()},get children(){var E=xa();return g(E,o(tt,{name:"Feature Name",get children(){return o($e,{type:"text",transparent:!0,get value(){return a()},onInput:B=>l(B.currentTarget.value)})}}),null),g(E,o(tt,{name:"Feature Description",get children(){return o(rn,{transparent:!0,text:c,setText:u})}}),null),g(E,o(oe,{onClick:()=>v(),get disabled(){return h()},children:"Save"}),null),z(()=>D(E,`${tr.new}`)),E}}),null),z(E=>{var B=`${tr.container}`,U=`${tr.top}`,W=`${tr.body}`;return B!==E.e&&D(C,E.e=B),U!==E.t&&D(P,E.t=U),W!==E.a&&D(I,E.a=W),E},{e:void 0,t:void 0,a:void 0}),C}})};var uw=k("<h1>Subclass Homebrew"),Ta=k("<div>"),hw=k("<div><h2>Choose a class"),dw=k("<div><h2>Level up features"),fw=k("<div><span><label for=casterType>Caster Type:</label></span><span><label for=castingStat>Casting Stat:"),gw=k("<div><label for=spellsKnown>Spells Known: </label><span><label for=halfCasterRoundUp>Round Up: "),pw=k("<div><h3>Spells Known </h3><div><label for=slotLevel>Class Level: </label></div><div><label for=slotAmount>Slot Amount: "),mw=k("<div><label for=hasCantrips>Has Cantrips: </label><label for=ritualCasting>Ritual Casting: "),vw=k("<div><h3>Spells Table</h3><div></div><div>"),bw=k("<div><h3>Spellcasting Info</h3><div></div><div>"),yw=k("<div><h2>Spellcasting</h2><div><div><label for=hasCasting>Has Spellcasting: </label></div><div>"),_w=k("<div><div><label>Title: </label></div><div><label>Description: </label><textarea></textarea></div><div>"),xr=(t=>(t[t.None=0]="None",t[t.Level=1]="Level",t[t.HalfLevel=2]="HalfLevel",t[t.StatModPlusLevel=3]="StatModPlusLevel",t[t.StatModPlusHalfLevel=4]="StatModPlusHalfLevel",t[t.StatModPlusThirdLevel=5]="StatModPlusThirdLevel",t[t.Other=6]="Other",t))(xr||{});const ww=()=>{const[t,e]=pn();Xe(gt);const[n,r]=Ge();O(()=>Ve(n().theme));const s=ro(),i=()=>s().map(X=>X.name),[a,l]=L(0),c=io(),[u,h]=L(!1),[d,f]=L(!1),[m,_]=L(0),[p,y]=L(""),[b,v]=L(!1),[$,S]=L(""),[C,P]=L(!1),[w,F]=L({}),[T,I]=L([]),[E,B]=L(1),[U,W]=L(0),[Q,le]=L({id:0,name:"",desc:[],features:[],class:"",spells:[]}),ve=O(()=>{const X=Q().class.toLowerCase(),[j]=s().filter(te=>te.name?.toLowerCase()===X?.toLowerCase());if(j&&j.classMetadata?.subclassLevels?.length)return j.classMetadata.subclassLevels.map(te=>`${te}`);switch(X){case"cleric":return["1","2","6","8","17"];case"druid":case"wizard":return["2","6","10","14"];case"barbarian":return["3","6","10","14"];case"monk":return["3","6","11","17"];case"bard":return["3","6","14"];case"sorcerer":case"warlock":return["1","6","14","18"];case"fighter":return["3","7","10","15","18"];case"paladin":return["3","7","15","20"];case"ranger":return["3","7","11","15"];case"rogue":return["3","9","13","17"];case"forgemaster":return["3","7","11","15","20"];default:return[]}}),Ae=O(()=>{const X=s().filter(te=>te.name.toLowerCase()===Q().class.toLowerCase()),j=Q();return X.length===1&&j.name.trim().length>0&&!!j.desc.length}),q=X=>Q().features.filter(j=>j.info.level===X),K=()=>{le({id:0,name:"",subclassFlavor:"",desc:[],features:[],class:"",spells:[]}),l(1),h(!1),f(!1),_(0),y(""),v(!1),S(""),F({})};z(()=>{u()?le(X=>{const j={...X};j.spellcasting={info:j.spellcasting?.info||[],castingLevels:[],name:j.name,spellcastingAbility:$(),casterType:p(),spellsKnownCalc:m(),spellsKnownRoundup:d()};for(let te=1;te<=20;te++)j.spellcasting?.castingLevels.push({level:te,spellcasting:ac(te,p(),C())});return j}):le(X=>{const j={...X};return delete j.spellcasting,j})}),z(()=>{m()===6&&p().length>0&&le(X=>{const j={...X};let te;if(j.spellcasting&&j.spellcasting.castingLevels){const M=T();te=j.spellcasting.castingLevels.map(ie=>(ie.spellcasting=ac(ie.level,p(),C()),M.forEach(ne=>{ne.level===ie.level&&(ie.spellcasting={...ie.spellcasting,spells_known:ne.amount})}),ie))}else te=j.spellcasting?.castingLevels||[];return j.spellcasting={info:j.spellcasting?.info||[],castingLevels:te,name:j.name,spellcastingAbility:$(),casterType:p(),spellsKnownCalc:m(),spellsKnownRoundup:d()},j})}),z(()=>{if(t.name&&t.subclass){if(t.name!==Q().class&&t.subclass!==Q().name){const[X]=s().filter(j=>j.name.toLowerCase()===t.name.toLowerCase());if(X){const[j]=X.subclasses.filter(te=>te.name.toLowerCase()===t.subclass.toLowerCase());le(j)}}}else e({name:Q().class,subclass:Q().name})});const[G,se]=L(!1),[N,H]=L(-1),ee=(X,j)=>{const te={...Q()},M=[...te.features];M.push(j),te.features=M,le(te)},ue=(X,j,te)=>{const M={...Q()},ie=[...M.features];ie[j]=te,M.features=ie,le(M)};return o(Yt,{get children(){return[uw(),Ta(),(()=>{var X=hw();return X.firstChild,g(X,o(Oe,{transparent:!0,get value(){return Q().class},onChange:j=>{le(te=>({...te,class:j.currentTarget.value})),ve().length>0&&l(+ve()[0])},get children(){return o(J,{get each(){return i()},children:j=>o(pe,{value:`${j}`,children:j})})}}),null),X})(),(()=>{var X=Ta();return X.style.setProperty("display","flex"),X.style.setProperty("flex-direction","column"),g(X,o(tt,{name:"Subclass Name",get children(){return o($e,{transparent:!0,get value(){return Q().name},onChange:j=>le(te=>({...te,name:j.currentTarget.value}))})}}),null),g(X,o(tt,{get class(){return`${jn.textArea}`},name:"Subclass Description",get children(){return o(rn,{placeholder:"Enter a Subclass description..",text:()=>Q().desc.join(`
`),setText:j=>le(te=>({...te,desc:j.split(`
`)})),get value(){return Q().desc.join(`
`)},transparent:!0,onChange:j=>le(te=>({...te,desc:j.currentTarget.value.split(`
`)}))})}}),null),X})(),(()=>{var X=dw();return X.firstChild,g(X,o(Oe,{get value(){return a()},disableUnselected:!0,transparent:!0,onChange:j=>{const te=parseInt(j.currentTarget.value);l(te)},get children(){return o(J,{get each(){return ve()},children:j=>o(pe,{value:`${j}`,children:j})})}}),null),g(X,o(V,{get when(){return a()>0},get children(){return o(oe,{onClick:()=>se(j=>!j),children:"Add Feature"})}}),null),g(X,o(V,{get when(){return G()},get children(){return o(ld,{addFeature:ee,replaceFeature:ue,get currentSubclass(){return Q()},get currentLevel(){return{level:a()}},showFeature:G,setShowFeature:se,editIndex:N,setEditIndex:H})}}),null),g(X,o(J,{get each(){return q(a())},children:j=>o(oe,{onClick:te=>{H(Q().features.indexOf(j)),se(!0)},get children(){return j.name}})}),null),X})(),(()=>{var X=yw(),j=X.firstChild,te=j.nextSibling,M=te.firstChild;M.firstChild;var ie=M.nextSibling;return g(M,o($e,{get class(){return`${jn.checkBox}`},get checked(){return u()},onChange:ne=>h(ne.currentTarget.checked),type:"checkbox",name:"hasCasting"}),null),g(te,o(V,{get when(){return u()},get children(){return[(()=>{var ne=fw(),_e=ne.firstChild;_e.firstChild;var fe=_e.nextSibling;return fe.firstChild,g(_e,o(Oe,{name:"casterType",get value(){return p()},onChange:be=>y(be.currentTarget.value),get children(){return[o(pe,{value:"half",children:"Half Caster"}),o(pe,{value:"third",children:"Third Caster"})]}}),null),g(fe,o(Oe,{name:"castingStat",get value(){return $()},onChange:be=>S(be.currentTarget.value),get children(){return o(J,{each:["Intelligence","Wisdom","Charisma"],children:be=>o(pe,{value:be,children:be})})}}),null),z(()=>D(ne,`${jn.castingRowOne}`)),ne})(),(()=>{var ne=gw(),_e=ne.firstChild,fe=_e.nextSibling;return fe.firstChild,g(ne,o(Oe,{name:"spellsKnown",get value(){return m()},onChange:be=>_(+be.currentTarget.value),get children(){return[o(pe,{value:"0",children:"None"}),o(pe,{value:"1",children:"Level"}),o(pe,{value:"2",children:"Half Level"}),o(pe,{value:"3",children:"Stat Modifier + Level"}),o(pe,{value:"4",children:"Stat Modifier + Half Level"}),o(pe,{value:"5",children:"Stat Modifier + Third Level"}),o(pe,{value:"6",children:"Other"})]}}),fe),g(fe,o($e,{get class(){return`${jn.checkBox}`},type:"checkbox",name:"halfCasterRoundUp",get checked(){return d()},onChange:be=>f(be.currentTarget.checked)}),null),ne})(),o(V,{get when(){return m()===6},get children(){return[(()=>{var ne=pw(),_e=ne.firstChild,fe=_e.nextSibling;fe.firstChild;var be=fe.nextSibling;return be.firstChild,g(fe,o(Oe,{name:"slotLevel",disableUnselected:!0,onChange:Pe=>{B(+Pe.currentTarget.value)},get children(){return o(J,{get each(){return om(20)},children:Pe=>o(pe,{value:Pe,get children(){return["Level ",Pe]}})})}}),null),g(be,o($e,{name:"slotAmount",type:"number",min:0,onChange:Pe=>{W(+Pe.currentTarget.value)}}),null),g(ne,o(oe,{onClick:Pe=>{T().map(xe=>xe.level).includes(E())||I(xe=>[...xe,{level:E(),amount:U()}].sort((rt,Y)=>+rt.level-+Y.level))},children:"Add"}),null),ne})(),(()=>{var ne=Ta();return g(ne,o($t,{get key(){return`Level ${E()}`},get value(){return`${U()}`}}),null),g(ne,o(J,{get each(){return T()},children:_e=>o($t,{get key(){return`Level ${_e.level}`},get value(){return`${_e.amount}`},remove:()=>{I(fe=>fe.filter(be=>be.level!==_e.level))}})}),null),z(()=>D(ne,`${jn.chips}`)),ne})()]}}),(()=>{var ne=mw(),_e=ne.firstChild,fe=_e.nextSibling;return g(ne,o($e,{get class(){return`${jn.checkBox}`},type:"checkbox",name:"hasCantrips",get checked(){return C()},onChange:be=>P(be.currentTarget.checked)}),fe),g(ne,o($e,{get class(){return`${jn.checkBox}`},type:"checkbox",name:"ritualCasting",get checked(){return b()},onChange:be=>v(be.currentTarget.checked)}),null),ne})(),(()=>{var ne=vw(),_e=ne.firstChild,fe=_e.nextSibling,be=fe.nextSibling;return g(fe,o(Oe,{get value(){return JSON.stringify(w())},onChange:Pe=>F(JSON.parse(Pe.currentTarget.value)),get children(){return o(J,{get each(){return c()},children:Pe=>o(pe,{get value(){return JSON.stringify(Pe)},get children(){return Pe.name}})})}}),null),g(fe,o(oe,{onClick:Pe=>le(xe=>({...xe,spells:[...xe.spells,w()]})),children:"Add Spell"}),null),g(be,o(J,{get each(){return Q().spells},children:Pe=>o($t,{get key(){return Sh(+Pe.level)},get value(){return Pe.name},remove:()=>{le(xe=>({...xe,spells:xe.spells.filter(rt=>rt.name!==Pe.name)}))}})})),ne})(),(()=>{var ne=bw(),_e=ne.firstChild,fe=_e.nextSibling,be=fe.nextSibling;return g(fe,o(oe,{onClick:Pe=>{le(xe=>{const rt=[...xe.spellcasting?.info||[]];return rt.push({name:"",desc:[]}),{...xe,spellcasting:{...xe.spellcasting,info:rt}}})},children:"Add Info"})),g(be,o(J,{get each(){return Q().spellcasting?.info||[]},children:(Pe,xe)=>(()=>{var rt=_w(),Y=rt.firstChild,R=Y.firstChild,x=Y.nextSibling,Z=x.firstChild,he=Z.nextSibling,ke=x.nextSibling;return g(Y,o($e,{get name(){return`nameInput${xe()}`},get value(){return Pe.name},onChange:ce=>{le(Te=>{const Fe=[...Te.spellcasting?.info||[]];return Fe[xe()]={...Fe[xe()],name:ce.currentTarget.value},{...Te,spellcasting:{...Te.spellcasting,info:Fe}}})}}),null),he.addEventListener("change",ce=>{le(Te=>{const Fe=[...Te.spellcasting?.info||[]];return Fe[xe()]={...Fe[xe()],desc:ce.currentTarget.value.split(`
`)},{...Te,spellcasting:{...Te.spellcasting,info:Fe}}})}),g(ke,o(oe,{onClick:ce=>{le(Te=>{const Fe=[...Te.spellcasting?.info||[]];return Fe.splice(xe(),1),{...Te,spellcasting:{...Te.spellcasting,info:Fe}}})},children:"Remove"})),z(ce=>{var Te=`nameInput${xe()}`,Fe=`descInput${xe()}`,Bt=`${jn.textArea}`,an=`descInput${xe()}`;return Te!==ce.e&&dt(R,"for",ce.e=Te),Fe!==ce.t&&dt(Z,"for",ce.t=Fe),Bt!==ce.a&&D(he,ce.a=Bt),an!==ce.o&&dt(he,"name",ce.o=an),ce},{e:void 0,t:void 0,a:void 0,o:void 0}),z(()=>he.value=Pe.desc.join(`
`)),rt})()})),ne})()]}}),ie),g(ie,o(V,{get when(){return Ae()},get children(){return o(oe,{onClick:ne=>{const _e=s().filter(fe=>fe.name===Q().class)[0];_e.subclasses=[..._e.subclasses,Q()],ot.updateClass(_e),ot.updateClassesInDB(),K()},children:"Save"})}})),X})()]}})};var Wc=k("<div><div><h3>General</h3></div><div></div><div><h3>Specific</h3></div><div>"),Aa=k("<div><div>"),$w=k("<div><h2>Proficiencies</h2><div><div><h3>Armor</h3><span></span></div><div><h3>Weapons</h3><span></span></div><div><h3>Tools</h3><span></span></div><div><h3>Saving Throws</h3><span></span></div><div><h3>Skills</h3><span>");const Cw=t=>{const e=Nh(),n=O(()=>e().filter(se=>se.equipmentCategory==="Weapon")),r=O(()=>e().filter(se=>se.equipmentCategory==="Armor")),s=O(()=>e().filter(se=>se.equipmentCategory==="Tools")),i=kw(),a=Sw(),l=xw(),c=Tw(),u=()=>t.currentClass.proficiencies.filter(se=>{const N=i.map(j=>j.toLowerCase().trim()),H=r().map(j=>j.name.toLowerCase().trim()),ee=se.replace("Armor","").replace("armor","").toLowerCase().trim(),ue=N.includes(ee),X=H.includes(ee);return ue||X}),h=()=>t.currentClass.proficiencies.filter(se=>{let N=se.replace("Weapons","").replace("weapons","").replace("weapon","").replace("Weapon","").toLowerCase().trim();const H=a.map(ue=>ue.toLowerCase()).includes(N),ee=n().map(ue=>ue.name.toLowerCase()).includes(N);return H||ee}),d=()=>t.currentClass.proficiencies.filter(se=>s().map(N=>N.name.toLowerCase()).includes(se.toLowerCase())),f=()=>t.currentClass.proficiencies.filter(se=>c.map(N=>N.toLowerCase()).includes(se.toLowerCase())),m=se=>se.length?se:["None"],[_,p]=L(!1),[y,b]=L("Simple"),[v,$]=L(""),[S,C]=L(!1),[P,w]=L("Light"),[F,T]=L(""),[I,E]=L(!1),[B,U]=L(""),[W,Q]=L(!1),[le,ve]=L(""),[Ae,q]=L(!1),[K,G]=L("");return(()=>{var se=$w(),N=se.firstChild,H=N.nextSibling,ee=H.firstChild,ue=ee.firstChild;ue.firstChild;var X=ue.nextSibling,j=ee.nextSibling,te=j.firstChild;te.firstChild;var M=te.nextSibling,ie=j.nextSibling,ne=ie.firstChild;ne.firstChild;var _e=ne.nextSibling,fe=ie.nextSibling,be=fe.firstChild;be.firstChild;var Pe=be.nextSibling,xe=fe.nextSibling,rt=xe.firstChild;rt.firstChild;var Y=rt.nextSibling;return g(ue,o(oe,{onClick:R=>C(x=>!x),children:"+"}),null),g(ee,o(V,{get when(){return S()},get children(){return o(Wt,{backgroundClick:[S,C],title:"Add Armor",get children(){var R=Wc(),x=R.firstChild,Z=x.nextSibling,he=Z.nextSibling,ke=he.nextSibling;return g(Z,o(Oe,{transparent:!0,disableUnselected:!0,get value(){return P()},onChange:ce=>{w(ce.target.value)},get children(){return o(J,{each:i,children:ce=>o(pe,{value:ce,children:ce})})}}),null),g(Z,o(oe,{onClick:ce=>{t.setProficiencies([...t.currentClass.proficiencies,P()].filter(Te=>!!Te))},children:"Add"}),null),g(ke,o(Oe,{transparent:!0,get value(){return F()},onChange:ce=>{T(ce.target.value)},get children(){return o(J,{get each(){return r()},children:ce=>o(pe,{get value(){return ce.name},get children(){return ce.name}})})}}),null),g(ke,o(oe,{onClick:ce=>{t.setProficiencies([...t.currentClass.proficiencies,F()].filter(Te=>!!Te))},children:"Add"}),null),R}})}}),X),g(X,o(J,{get each(){return m(u())},children:R=>o($t,{key:"Armor",value:R,remove:()=>{t.setProficiencies(t.currentClass.proficiencies.filter(x=>x!==R))}})})),g(te,o(oe,{onClick:R=>{p(x=>!x)},children:"+"}),null),g(j,o(V,{get when(){return _()},get children(){return o(Wt,{backgroundClick:[_,p],title:"Add Weapon",get children(){var R=Wc(),x=R.firstChild,Z=x.nextSibling,he=Z.nextSibling,ke=he.nextSibling;return g(Z,o(Oe,{transparent:!0,disableUnselected:!0,get value(){return y()},onChange:ce=>{b(ce.target.value)},get children(){return o(J,{each:a,children:ce=>o(pe,{value:ce,children:ce})})}}),null),g(Z,o(oe,{onClick:ce=>{t.setProficiencies([...t.currentClass.proficiencies,y()].filter(Te=>!!Te))},children:"Add"}),null),g(ke,o(Oe,{transparent:!0,get value(){return v()},onChange:ce=>{$(ce.target.value)},get children(){return o(J,{get each(){return n()},children:ce=>o(pe,{get value(){return ce.name},get children(){return ce.name}})})}}),null),g(ke,o(oe,{onClick:ce=>{const Te=v(),Fe=Te||n()[0].name;t.setProficiencies([...t.currentClass.proficiencies,Fe].filter(Bt=>!!Bt))},children:"Add"}),null),R}})}}),M),g(M,o(J,{get each(){return m(h())},children:R=>o($t,{key:"Weapon",value:R,remove:()=>{t.setProficiencies(t.currentClass.proficiencies.filter(x=>x!==R))}})})),g(ne,o(oe,{onClick:R=>{E(x=>!x)},children:"+"}),null),g(ie,o(V,{get when(){return I()},get children(){return o(Wt,{backgroundClick:[I,E],title:"Add Tool",get children(){var R=Aa(),x=R.firstChild;return g(x,o(Oe,{transparent:!0,get value(){return B()},onChange:Z=>{U(Z.target.value)},get children(){return o(J,{get each(){return s()},children:Z=>o(pe,{get value(){return Z.name},get children(){return Z.name}})})}}),null),g(x,o(oe,{onClick:Z=>{t.setProficiencies([...t.currentClass.proficiencies,B()].filter(he=>!!he))},children:"Add"}),null),R}})}}),_e),g(_e,o(J,{get each(){return m(d())},children:R=>o($t,{key:"Tool",value:R,remove:()=>{t.setProficiencies(t.currentClass.proficiencies.filter(x=>x!==R))}})})),g(be,o(oe,{onClick:R=>{Q(x=>!x)},children:"+"}),null),g(fe,o(V,{get when(){return W()},get children(){return o(Wt,{backgroundClick:[W,Q],title:"Add Stat",get children(){var R=Aa(),x=R.firstChild;return g(x,o(Oe,{transparent:!0,get value(){return le()},onChange:Z=>{ve(Z.target.value)},get children(){return o(J,{each:l,children:Z=>o(pe,{value:Z,children:Z})})}}),null),g(x,o(oe,{onClick:Z=>{t.setSaves([...t.currentClass.savingThrows,le()].filter(he=>!!he))},children:"Add"}),null),R}})}}),Pe),g(Pe,o(J,{get each(){return m(t.currentClass.savingThrows)},children:R=>o($t,{key:"Saving Throw",value:R,remove:()=>{t.setSaves(t.currentClass.savingThrows.filter(x=>x!==R))}})})),g(rt,o(oe,{onClick:R=>{q(x=>!x)},children:"+"}),null),g(xe,o(V,{get when(){return Ae()},get children(){return o(Wt,{backgroundClick:[Ae,q],title:"Add Skill",get children(){var R=Aa(),x=R.firstChild;return g(x,o(Oe,{transparent:!0,get value(){return K()},onChange:Z=>{G(Z.target.value)},get children(){return o(J,{each:c,children:Z=>o(pe,{value:Z,children:Z})})}}),null),g(x,o(oe,{onClick:Z=>{t.setProficiencies([...t.currentClass.proficiencies,K()].filter(he=>!!he))},children:"Add"}),null),R}})}}),Y),g(Y,o(J,{get each(){return m(f())},children:R=>o($t,{key:"Skill",value:R,remove:()=>{t.setProficiencies(t.currentClass.proficiencies.filter(x=>x!==R))}})})),z(R=>{var x=De.rowTwo,Z=`${De.allProficiency}`,he=`${De.singleProficiency}`,ke=`${De.singleProficiency}`,ce=`${De.singleProficiency}`,Te=`${De.singleProficiency}`,Fe=`${De.singleProficiency}`;return x!==R.e&&D(se,R.e=x),Z!==R.t&&D(H,R.t=Z),he!==R.a&&D(ee,R.a=he),ke!==R.o&&D(j,R.o=ke),ce!==R.i&&D(ie,R.i=ce),Te!==R.n&&D(fe,R.n=Te),Fe!==R.s&&D(xe,R.s=Fe),R},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),se})()},kw=()=>["Light","Medium","Heavy","Shields"],Sw=()=>["Simple","Martial"],xw=()=>["STR","DEX","CON","INT","WIS","CHA"],Tw=()=>["Acrobatics","Animal Handling","Arcana","Athletics","Deception","History","Insight","Intimidation","Investigation","Medicine","Nature","Perception","Performance","Persuasion","Religion","Sleight of Hand","Stealth","Survival"],Aw="_header_1wacu_1",Ew="_paginator_1wacu_5",Lw="_list_1wacu_9",Pw="_equipContain_1wacu_39",Iw="_tableContainer_1wacu_43",Ow="_itemTable_1wacu_49",Rw="_searchBar_1wacu_54",Dw="_checkbox_1wacu_60",Bw="_choice_1wacu_65",Ue={header:Aw,paginator:Ew,list:Lw,equipContain:Pw,tableContainer:Iw,itemTable:Ow,searchBar:Rw,checkbox:Dw,choice:Bw};var nr=k("<div>"),Nw=k("<div><h2>Starting Equipment</h2><div><ul>"),Mw=k("<i>Add Items to choose from."),Fw=k("<li><h3>Choice <!> </h3><ul>"),jw=k("<li><span>Choose: </span><span>"),Uw=k("<li>or"),en=k("<span>"),qw=k("<span> <!> "),Kw=k("<i>");const zw=t=>{const[e,n]=L({key:"name",isAsc:!0}),r=Nh(),[s,i]=L([]),[a,l]=L([]),[c,u]=L([]),h=O(()=>r().filter(H=>H.equipmentCategory==="Weapon")),[d,f]=L({key:"name",isAsc:!0}),[m,_]=L([]),[p,y]=L([]),[b,v]=L([]),$=O(()=>r().filter(H=>H.equipmentCategory==="Armor")),[S,C]=L({key:"name",isAsc:!0}),[P,w]=L([]),[F,T]=L([]),[I,E]=L([]),[B,U]=L(!1),[W,Q]=L(1),le=H=>{const ee=t.currentClass;return H===1?ee.startingEquipment?.choice1??[]:H===2?ee.startingEquipment?.choice2??[]:H===3?ee.startingEquipment?.choice3??[]:H===4?ee.startingEquipment?.choice4??[]:[]},ve=(H,ee,ue)=>(le(ee)[ue]?.choices??1).filter(j=>j.name===H.name).length,Ae=H=>{const ee=new Tr;return ee.value=H,ee.value};wt(()=>{i(r())}),wt(()=>{_(h())}),wt(()=>{T($())}),wt(()=>{const H=e();i(ee=>pt(fa(ee,H.key,H.isAsc)))}),wt(()=>{const H=S();T(ee=>pt(fa(ee,H.key,H.isAsc)))}),wt(()=>{const H=d();_(ee=>pt(fa(ee,H.key,H.isAsc)))}),wt(()=>{!B()&&u([]),!B()&&v([]),!B()&&E([])});const q=(H=1)=>{const ue=[...le(W()),{choose:H,type:"weapon",choices:b().flatMap(X=>Array.from({length:X.amnt},(j,te)=>X.item))}];t.setStartEquipChoice(W(),ue),U(!1),v([]),N(1)},K=(H=1)=>{const ee=le(W());t.setStartEquipChoice(W(),[...ee,{choose:H,type:"armor",choices:I().flatMap(ue=>Array.from({length:ue.amnt},(X,j)=>ue.item))}]),U(!1),E([]),N(1)},G=(H=1)=>{const ee=le(W());t.setStartEquipChoice(W(),[...ee,{choose:H,type:"item",choices:c().flatMap(ue=>Array.from({length:ue.amnt},(X,j)=>ue.item))}]),U(!1),u([]),N(1)},[se,N]=L(1);return(()=>{var H=Nw(),ee=H.firstChild,ue=ee.nextSibling,X=ue.firstChild;return g(X,o(J,{each:[1,2,3,4],children:j=>(()=>{var te=Fw(),M=te.firstChild,ie=M.firstChild,ne=ie.nextSibling;ne.nextSibling;var _e=M.nextSibling;return g(M,j,ne),g(M,o(oe,{onClick:fe=>{fe.preventDefault(),Q(j),U(!0)},children:"+"}),null),g(_e,o(J,{get each(){return le(j)},children:(fe,be)=>[(()=>{var Pe=jw(),xe=Pe.firstChild,rt=xe.firstChild,Y=xe.nextSibling;return g(xe,o(oe,{onClick:R=>{R.preventDefault();const x=pt(le(j)).filter((Z,he)=>he!==be());t.setStartEquipChoice(j,x)},children:"x"}),rt),g(xe,()=>fe?.choose,null),g(Y,o(J,{get each(){return Ae(fe.choices)},children:R=>o($t,{key:"Choice",get value(){return`${R?.name??R?.item} ${ve(R,j,be())>1?`x${ve(R,j,be())}`:""}`}})})),Pe})(),o(V,{get when(){return O(()=>le(j).length>1)()&&--le(j).length!==be()},get children(){return Uw()}})]})),g(te,o(V,{get when(){return le(j)?.length===0},get children(){return Mw()}}),null),te})()}),null),g(X,o(V,{get when(){return B()},get children(){return o(Wt,{backgroundClick:[B,U],title:"Add Equipment Choice",get children(){var j=nr();return g(j,o(Zi,{get children(){return[o(Ot,{name:"Items",get children(){return[o(Dr,{get wrapClass(){return`${Ue.searchBar}`},placeholder:"search for items..",dataSource:r,setResults:i}),(()=>{var te=nr();return g(te,o(Hn,{get class(){return`${Ue.itemTable}`},data:a,columns:["include","name","price","category"],get children(){return[o(Be,{name:"include",get children(){return[o(Ne,{get class(){return`${Ue.header}`},children:"Include"}),o(Me,{children:(M,ie)=>o($e,{get class(){return`${Ue.checkbox}`},type:"number",min:0,onChange:ne=>{const _e=parseInt(ne.currentTarget.value);_e>0?u(fe=>[...fe.filter(be=>be.item.name!==M.name),{item:M,amnt:_e}]):u(fe=>fe.filter(be=>be.item.name!==M.name))}})})]}}),o(Be,{name:"amount",get children(){return[o(Ne,{get class(){return`${Ue.header}`},children:"Include"}),o(Me,{children:(M,ie)=>o($e,{get class(){return`${Ue.checkbox}`},type:"number"})})]}}),o(Be,{name:"name",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{n(M=>({key:"name",isAsc:!M.isAsc}))},get children(){return["Name ",O(()=>O(()=>e().key==="name")()?e().isAsc?"":"":"")]}}),o(Me,{children:(M,ie)=>(()=>{var ne=en();return g(ne,()=>M.name),z(()=>dt(ne,"title",(M.desc??[]).join(`
`))),ne})()})]}}),o(Be,{name:"price",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{n(M=>({key:"cost",isAsc:!M.isAsc}))},get children(){return["Price ",O(()=>O(()=>e().key==="cost")()?e().isAsc?"":"":"")]}}),o(Me,{children:M=>(()=>{var ie=en();return g(ie,()=>`${M.cost.quantity} ${M.cost.unit}`),z(()=>dt(ie,"title",(M.desc??[]).join(`
`))),ie})()})]}}),o(Be,{name:"category",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{n(M=>({key:"equipmentCategory",isAsc:!M.isAsc}))},get children(){return["Category ",O(()=>O(()=>e().key==="equipmentCategory")()?e().isAsc?"":"":"")]}}),o(Me,{children:M=>(()=>{var ie=en();return g(ie,()=>M.equipmentCategory),z(()=>dt(ie,"title",(M.desc??[]).join(`
`))),ie})()})]}}),o(Rr,{})]}})),z(()=>D(te,`${Ue.tableContainer}`)),te})(),o(hr,{get classes(){return`${Ue.paginator}`},items:s,setPaginatedItems:l}),(()=>{var te=nr();return g(te,o($e,{type:"number",min:1,max:999,style:{width:"50px"},get value(){return se()},onInput:M=>{const ie=parseInt(M.currentTarget.value);ie>0&&N(ie)}}),null),g(te,o(oe,{onClick:M=>{M.preventDefault(),G(We(se))},children:"Add Items"}),null),te})()]}}),o(Ot,{name:"Weapons",get children(){return[o(Dr,{get wrapClass(){return`${Ue.searchBar}`},placeholder:"search for weapons..",dataSource:h,setResults:_}),(()=>{var te=nr();return g(te,o(Hn,{get class(){return`${Ue.itemTable}`},data:p,columns:["include","name","price","category","damage","range"],get children(){return[o(Be,{name:"include",get children(){return[o(Ne,{get class(){return`${Ue.header}`},children:"Include"}),o(Me,{children:(M,ie)=>o($e,{get class(){return`${Ue.checkbox}`},type:"number",min:0,onChange:ne=>{const _e=parseInt(ne.currentTarget.value);_e>0?v(fe=>[...fe.filter(be=>be.item.name!==M.name),{item:M,amnt:_e}]):v(fe=>fe.filter(be=>be.item.name!==M.name))}})})]}}),o(Be,{name:"name",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{f(M=>({key:"name",isAsc:!M.isAsc}))},get children(){return["Name ",O(()=>O(()=>d().key==="name")()?d().isAsc?"":"":"")]}}),o(Me,{children:(M,ie)=>(()=>{var ne=en();return g(ne,()=>M.name),z(()=>dt(ne,"title",(M.desc??[]).join(`
`))),ne})()})]}}),o(Be,{name:"price",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{f(M=>({key:"cost",isAsc:!M.isAsc}))},get children(){return["Price ",O(()=>O(()=>d().key==="cost")()?d().isAsc?"":"":"")]}}),o(Me,{children:M=>(()=>{var ie=en();return g(ie,()=>`${M.cost.quantity} ${M.cost.unit}`),z(()=>dt(ie,"title",(M.desc??[]).join(`
`))),ie})()})]}}),o(Be,{name:"category",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{f(M=>({key:"categoryRange",isAsc:!M.isAsc}))},get children(){return["Category ",O(()=>O(()=>d().key==="equipmentCategory")()?d().isAsc?"":"":"")]}}),o(Me,{children:M=>(()=>{var ie=en();return g(ie,()=>M.weaponCategory),z(()=>dt(ie,"title",(M.desc??[]).join(`
`))),ie})()})]}}),o(Be,{name:"damage",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{f(M=>({key:"damage",isAsc:!M.isAsc}))},get children(){return["Damage ",O(()=>O(()=>d().key==="damage")()?d().isAsc?"":"":"")]}}),o(Me,{children:(M,ie)=>(()=>{var ne=en();return g(ne,()=>M.damage.map(_e=>`${_e.damageDice} ${_e.damageBonus?"+":""} ${_e.damageBonus?_e.damageBonus:""} ${_e.damageType}`).join(" ")),z(()=>dt(ne,"title",(M.desc??[]).join(`
`))),ne})()})]}}),o(Be,{name:"range",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{f(M=>({key:"range",isAsc:!M.isAsc}))},get children(){return["Range ",O(()=>O(()=>d().key==="range")()?d().isAsc?"":"":"")]}}),o(Me,{children:(M,ie)=>(()=>{var ne=en();return g(ne,()=>M.range.long?`${M.range.normal}ft / ${M.range.long}ft`:`${M.range.normal}ft`),z(()=>dt(ne,"title",(M.desc??[]).join(`
`))),ne})()})]}}),o(Rr,{})]}})),z(()=>D(te,`${Ue.tableContainer}`)),te})(),o(hr,{get classes(){return`${Ue.paginator}`},items:m,setPaginatedItems:y}),(()=>{var te=nr();return g(te,o($e,{type:"number",min:1,max:999,style:{width:"50px"},get value(){return se()},onInput:M=>{const ie=parseInt(M.currentTarget.value);ie>0&&N(ie)}}),null),g(te,o(oe,{onClick:M=>{M.preventDefault(),q(We(se))},children:"Add Weapons"}),null),te})()]}}),o(Ot,{name:"Armor",get children(){return[o(Dr,{get wrapClass(){return`${Ue.searchBar}`},placeholder:"search for armor..",dataSource:$,setResults:T}),(()=>{var te=nr();return g(te,o(Hn,{get class(){return`${Ue.itemTable}`},data:P,columns:["include","name","price","category","damage","range"],get children(){return[o(Be,{name:"include",get children(){return[o(Ne,{get class(){return`${Ue.header}`},children:"Include"}),o(Me,{children:(M,ie)=>o($e,{get class(){return`${Ue.checkbox}`},type:"number",min:0,onChange:ne=>{const _e=parseInt(ne.currentTarget.value);_e>0?E(fe=>[...fe.filter(be=>be.item.name!==M.name),{item:M,amnt:_e}]):E(fe=>fe.filter(be=>be.item.name!==M.name))}})})]}}),o(Be,{name:"name",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{C(M=>({key:"name",isAsc:!M.isAsc}))},get children(){return["Name ",O(()=>O(()=>S().key==="name")()?S().isAsc?"":"":"")]}}),o(Me,{children:(M,ie)=>(()=>{var ne=en();return g(ne,()=>M.name),z(()=>dt(ne,"title",(M.desc??[]).join(`
`))),ne})()})]}}),o(Be,{name:"price",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{C(M=>({key:"cost",isAsc:!M.isAsc}))},get children(){return["Price ",O(()=>O(()=>S().key==="cost")()?S().isAsc?"":"":"")]}}),o(Me,{children:M=>(()=>{var ie=en();return g(ie,()=>`${M.cost.quantity} ${M.cost.unit}`),z(()=>dt(ie,"title",(M.desc??[]).join(`
`))),ie})()})]}}),o(Be,{name:"category",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{C(M=>({key:"armorCategory",isAsc:!M.isAsc}))},get children(){return["Category ",O(()=>O(()=>S().key==="armorCategory")()?S().isAsc?"":"":"")]}}),o(Me,{children:M=>(()=>{var ie=en();return g(ie,()=>M.armorCategory),z(()=>dt(ie,"title",(M.desc??[]).join(`
`))),ie})()})]}}),o(Be,{name:"damage",get children(){return[o(Ne,{get class(){return`${Ue.header}`},onClick:()=>{C(M=>({key:"armorClass",isAsc:!M.isAsc}))},get children(){return["Armor Class ",O(()=>O(()=>S().key==="armorClass")()?S().isAsc?"":"":"")]}}),o(Me,{children:(M,ie)=>(()=>{var ne=qw(),_e=ne.firstChild,fe=_e.nextSibling;return fe.nextSibling,g(ne,()=>M.armorClass.base,_e),g(ne,()=>M.armorClass.dexBonus?"+ DEX ":"",fe),g(ne,(()=>{var be=O(()=>!!M.armorClass.maxBonus);return()=>be()?(()=>{var Pe=Kw();return g(Pe,()=>`Max(${M.armorClass.maxBonus})`),Pe})():""})(),null),z(()=>dt(ne,"title",(M.desc??[]).join(`
`))),ne})()})]}}),o(Rr,{})]}})),z(()=>D(te,`${Ue.tableContainer}`)),te})(),o(hr,{get classes(){return`${Ue.paginator}`},items:F,setPaginatedItems:w}),(()=>{var te=nr();return g(te,o($e,{type:"number",min:1,max:999,style:{width:"50px"},get value(){return se()},onInput:M=>{const ie=parseInt(M.currentTarget.value);ie>0&&N(ie)}}),null),g(te,o(oe,{onClick:M=>{M.preventDefault(),K(We(se))},children:"Add Armor"}),null),te})()]}})]}})),j}})}}),null),z(j=>{var te=`${Ue.equipContain}`,M=`${Ue.list}`;return te!==j.e&&D(H,j.e=te),M!==j.t&&D(X,j.t=M),j},{e:void 0,t:void 0}),H})()};var wi=(t=>(t[t.None=0]="None",t[t.INT=1]="INT",t[t.WIS=2]="WIS",t[t.CHA=3]="CHA",t))(wi||{});const Hw=new Map().set("0","Cantrips").set("Cantrips","0").set("1","1st").set("1st","1").set("2","2nd").set("2nd","2").set("3","3rd").set("3rd","3").set("4","4th").set("4th","4").set("5","5th").set("5th","5").set("6","6th").set("6th","6").set("7","7th").set("7th","7").set("8","8th").set("8th","8").set("9","9th").set("9th","9");var si=k("<div>"),Ww=k("<div><div>"),Vw=k("<div><div></div><div>"),Gw=k("<div><span><label>Casting Stat</label></span><span><label>Spells Known</label></span><span>"),Yw=k("<h4>Not A Caster"),Zw=k("<div><h1>Classes Homebrewing</h1><span></span><div><span></span><span><label for=hitDie>Hit Die</label></span><span><label for=casterType>Caster Type</label></span></div><div><div><div></div></div><div></div></div><div>"),ii=k("<span>"),Xw=k("<div><br>");const Jw=()=>{const[t,e]=pn(),[n,r]=Ge(),s=zr(),i=ot.classes;O(()=>Ve(n().theme)),Xe(gt);const[a,l]=hs({id:0,name:"",hitDie:4,proficiencies:[],proficiencyChoices:[],savingThrows:[],startingEquipment:{class:"",quantity:0,choice1:[],choice2:[],choice3:[],choice4:[]},classLevels:Array.from({length:20},(Y,R)=>({level:R+1,profBonus:Math.ceil((R+1)/4)+1,features:[],classSpecific:{},info:{className:"",level:R+1,subclassName:"",type:"",other:""}})),subclasses:[],classMetadata:{subclassLevels:[],subclassType:"",subclassTypePosition:"before"},spellcasting:{level:0,name:"",spellsKnownCalc:"",spellcastingAbility:"",casterType:"none",info:[]}}),[c,u]=L("none"),h=Y=>l(R=>({spellcasting:{level:R.spellcasting?.level??0,name:R.spellcasting?.name??"",spellsKnownCalc:R.spellcasting?.spellsKnownCalc??"Level",spellcastingAbility:R.spellcasting?.spellcastingAbility??"INT",casterType:Y,info:R.spellcasting?.info??[]}})),[d,f]=L(["level","proficiency","features"]);L(Array.from({length:20},(Y,R)=>R+1));const[m,_]=L(""),[p,y]=L(!1),[b,v]=L({}),[$,S]=L(-1),C=O(()=>{const Y=a.spellcasting?.spellsKnownCalc??"Level";return typeof Y=="string"?Y:xr[Y]}),P=Y=>l(R=>pt({...R,name:Y})),w=Y=>l(R=>pt({...R,hitDie:Y})),F=Y=>l(R=>pt({...R,proficiencies:Y})),T=Y=>l(R=>pt({...R,savingThrows:Y})),I=(Y,R)=>{switch(Y){case 1:l(x=>({startingEquipment:{...x.startingEquipment,choice1:R}}));break;case 2:l(x=>({startingEquipment:{...x.startingEquipment,choice2:R}}));break;case 3:l(x=>({startingEquipment:{...x.startingEquipment,choice3:R}}));break;case 4:l(x=>({startingEquipment:{...x.startingEquipment,choice4:R}}));break;default:l(x=>({startingEquipment:{...x.startingEquipment,choice1:R}}));break}},E=Y=>l(R=>({classLevels:Y})),B=Y=>l(R=>({classMetadata:{...R.classMetadata,subclassLevels:Y}})),U=(Y,R=!1)=>l(x=>({spellcasting:{level:0,name:x.spellcasting?.name??"",spellsKnownCalc:xr[Y],spellcastingAbility:x.spellcasting?.spellcastingAbility??"INT",casterType:x.spellcasting?.casterType??"full",info:x.spellcasting?.info??[],spellsKnownRoundup:R}})),W=Y=>l(R=>({spellcasting:{level:0,name:R.spellcasting?.name??"",spellsKnownCalc:R.spellcasting?.spellsKnownCalc??"Level",spellcastingAbility:wi[Y],casterType:R.spellcasting?.casterType??"full",info:R.spellcasting?.info??[]}})),Q=Y=>l(R=>({spellcasting:{level:0,name:R.spellcasting?.name??"",spellsKnownCalc:R.spellcasting?.spellsKnownCalc??"Level",spellcastingAbility:R.spellcasting?.spellcastingAbility??"INT",casterType:R.spellcasting?.casterType??"full",info:Y}})),le=Y=>{const R=a.classLevels.map((x,Z)=>({...x,classSpecific:{...x.classSpecific,[Y]:"0"}}));l(x=>({classLevels:R}))},ve=Y=>{l(R=>{const x=pt(R);return Array.from({length:20},(Z,he)=>he+1).forEach(Z=>{const he=Object.entries(R.classLevels[Z-1].classSpecific),ke=he.findIndex(([ce,Te])=>ce===Y);ke!==-1&&he.splice(ke,1),x.classLevels[Z-1].classSpecific=Object.fromEntries(he)}),{classLevels:x.classLevels}}),f(R=>R.filter(x=>x!==Y))},Ae=(Y,R)=>{l(x=>{const Z=pt(x);return Z.classLevels[Y-1].features.push(R),Z})},q=(Y,R,x)=>{l(Z=>{const he=pt(Z);return he.classLevels[Y-1].features[R]=x,he})},K=(Y,R)=>{l(x=>{const Z=pt(x),he=Z.classLevels[Y-1].features.findIndex(ke=>ke.name===R);return Z.classLevels[Y-1].features.splice(he,1),Z})};function G(Y,R){return ic(Y,R,We(c)??"")}const se=(Y,R)=>{const x=a.classLevels.map((Z,he)=>he===Y-1?{...Z,spellcasting:{...Z.spellcasting,cantrips_known:R}}:Z);E(x)},N=(Y,R,x)=>{const Z=a.classLevels.map((he,ke)=>ke===Y-1&&x?{...he,spellcasting:{...he.spellcasting,[`spell_slots_level_${R}`]:x}}:he);E(Z)};function H(Y){l(R=>({classLevels:Array.from({length:20},(x,Z)=>Z+1).map(x=>{const Z=R.classLevels[x-1],he=Object.entries(Z.spellcasting??{}).filter(ke=>!ke.includes("spell_slots_level"));return Z.spellcasting={},he.length&&he.forEach(([ke,ce])=>Z.spellcasting[ke]=ce),Array.from({length:9},(ke,ce)=>ce+1).forEach(ke=>{const ce=ic(x,ke,Y);ce!=="-"&&(Z.spellcasting[`spell_slots_level_${ke}`]=ce)}),pt(Z)}),spellcasting:{level:0,name:R.spellcasting?.name??"",spellsKnownCalc:R.spellcasting?.spellsKnownCalc??"Level",spellcastingAbility:R.spellcasting?.spellcastingAbility??"INT",casterType:Y,info:R.spellcasting?.info??[]}}))}function ee(Y,R){const x=a.classLevels.map((Z,he)=>he===Y-1?{...Z,spellcasting:{...Z.spellcasting,spells_known:R}}:Z);E(x)}const ue=(Y,R)=>{const x=["level","proficiency","features",...X(R??a)].filter(ke=>!!ke),Z=Array.from({length:9},(ke,ce)=>ce+1),he=ke=>["cantrip",...ke.map(ce=>`spell_slots_level_${ce}`)];switch(Y.toLowerCase()){case"full":return We(C).toLowerCase()==="other"?[...x,"spellsKnown",...he(Z)]:[...x,...he(Z)];case"half":const ke=Array.from({length:5},(Te,Fe)=>Fe+1);return We(C).toLowerCase()==="other"?[...x,"spellsKnown",...he(ke)]:[...x,...he(ke)];case"third":const ce=Array.from({length:4},(Te,Fe)=>Fe+1);return We(C).toLowerCase()==="other"?[...x,"spellsKnown",...he(ce)]:[...x,...he(ce)];case"other":return We(C).toLowerCase()==="other"?[...x,"spellsKnown",...he(Z)]:[...x,...he(Z)];default:return x}};function X(Y){return[...new Set(Y.classLevels.flatMap(R=>Object.keys(R.classSpecific)))]}const j=O(()=>m().trim()===""||d().includes(m())),[te,M]=L(1),[ie,ne]=L(!1);function _e(Y){return R=>{Q((a.spellcasting?.info??[]).map((x,Z)=>Z===Y?{name:x.name,desc:R?.split(`
`)}:x))}}const fe=()=>a.name.trim().length===0?(Ln({message:"Please fill out the class name",severity:"warning"}),!0):!1,be=Y=>Y.info?.subclassName?Y.info.subclassName:Y.info?.className?Y.info.className:Y.info?.type?Y.info.type:Y.info?.other?Y.info.other:"Feature",Pe=O(()=>{let Y;t.name?Y=t.name:Y=a.name;const R=s().find(x=>x.name===Y);return R||!1}),xe=()=>{const Y=Pe();Y.classLevels=Y.classLevels.map((Z,he)=>(Z.info={className:Z.info?.className??Y.name,level:he+1,subclassName:Z.info?.subclassName??"",type:Z.info?.type??"",other:Z.info?.other??""},Z.spellcasting&&(Z.spellcasting={...Z?.spellcasting,level:he+1}),Z.classSpecific=Object.fromEntries(Object.entries(Z?.classSpecific??{})),Z.level=he+1,Z)),Y.classLevels[0].spellcasting&&Array.from({length:20},(Z,he)=>he+1).forEach(Z=>{se(Z,Y.classLevels[Z-1].spellcasting?.cantrips_known??0)}),l(Y);const R=Y.spellcasting?.casterType??"None";u(R);const x=ue(R,Y);f(x)},rt=O(()=>!!i().find(Y=>Y.name===a.name));return Ut(()=>{t.name&&nt(null).pipe(Pg(50)).subscribe(()=>{xe()})}),o(Yt,{get children(){var Y=Zw(),R=Y.firstChild,x=R.nextSibling,Z=x.nextSibling,he=Z.firstChild,ke=he.nextSibling;ke.firstChild;var ce=ke.nextSibling;ce.firstChild;var Te=Z.nextSibling,Fe=Te.firstChild,Bt=Fe.firstChild,an=Fe.nextSibling,ln=Te.nextSibling;return g(x,o(oe,{onClick:ae=>{fe()||(rt()?(ot.updateClass(a),Ln({message:`${a.name} updated`,severity:"success"})):(ot.addClass(a),Ln({message:`${a.name} added`,severity:"success"})))},get children(){return rt()?"Edit":"Save"}}),null),g(x,o(V,{get when(){return!!Pe()},get children(){return o(oe,{onClick:ae=>{xe()},children:"Fill"})}}),null),g(he,o(tt,{get class(){return`${De.fieldStyle}`},name:"Class Name",get children(){return o($e,{transparent:!0,get value(){return a.name},onChange:ae=>P(ae.currentTarget.value)})}})),g(ke,o(Oe,{id:"hitDie",transparent:!0,get value(){return a.hitDie},onChange:ae=>{w(+ae.currentTarget.value)},disableUnselected:!0,get children(){return o(J,{each:[4,6,8,10,12],children:ae=>o(pe,{value:ae,children:ae})})}}),null),g(ce,o(Oe,{tooltip:"Caster Type",disableUnselected:!0,transparent:!0,get value(){return c().trim()},onChange:ae=>{h(ae.currentTarget.value),u(ae.currentTarget.value);const Ie=ue(ae.currentTarget.value);f(Ie),H(ae.currentTarget.value)},get children(){return[o(pe,{value:"none",children:"None"}),o(J,{each:["full","half","third","other"],children:ae=>o(pe,{value:ae,get children(){return`${ae[0].toUpperCase()}${ae.slice(1)}`}})})]}}),null),Fe.style.setProperty("display","flex"),Fe.style.setProperty("flex-direction","column"),g(Fe,o(Cw,{setSaves:T,setProficiencies:F,currentClass:a}),Bt),Bt.style.setProperty("width","100%"),g(Bt,o(Zi,{get children(){return[o(Ot,{name:"Subclasses",get children(){var ae=Ww(),Ie=ae.firstChild;return g(Ie,o(tt,{name:"Subclass Type",get children(){return o($e,{transparent:!0,type:"text",placeholder:"e.g.. __ bloodline, order of the __",get value(){return a.classMetadata.subclassType},onChange:Ee=>l(je=>({classMetadata:{...je.classMetadata,subclassType:Ee.currentTarget.value.trim()}}))})}}),null),g(Ie,o(Oe,{disableUnselected:!0,transparent:!0,get value(){return a.classMetadata.subclassTypePosition},onChange:Ee=>l(je=>({classMetadata:{...je.classMetadata,subclassTypePosition:Ee.currentTarget.value}})),get children(){return[o(pe,{value:"before",children:"Before"}),o(pe,{value:"after",children:"After"})]}}),null),g(ae,o(V,{get when(){return!!a.classMetadata.subclassType.trim().length},get children(){return[(()=>{var Ee=si();return g(Ee,o($e,{style:{width:"75px",border:"1px solid"},transparent:!0,type:"number",min:1,max:20,get value(){return te()},onInput:je=>M(+je.currentTarget.value)}),null),g(Ee,o(oe,{onClick:je=>{B([...new Set([...a.classMetadata.subclassLevels,te()])].sort()),M(1)},children:"Add Subclass Level"}),null),Ee})(),(()=>{var Ee=si();return g(Ee,o(J,{get each(){return a.classMetadata.subclassLevels},children:je=>(()=>{var ye=ii();return g(ye,je,null),g(ye,o(oe,{onClick:Qe=>{B(a.classMetadata.subclassLevels.filter(st=>st!==je))},children:"x"}),null),ye})()})),Ee})()]}}),null),ae}}),o(Ot,{name:"Class Specific",get children(){return[(()=>{var ae=si();return g(ae,o(tt,{name:"Column Name",get children(){return o($e,{transparent:!0,type:"text",get value(){return m()},onInput:Ie=>{_(Ie.currentTarget.value.trim())}})}}),null),g(ae,o(oe,{get disabled(){return j()},onClick:Ie=>{le(m()),f(ue(c())),_("")},children:"New Table Column"}),null),ae})(),(()=>{var ae=si();return g(ae,o(J,{get each(){return X(a)},children:Ie=>(()=>{var Ee=ii();return g(Ee,Ie,null),g(Ee,o(oe,{onClick:je=>{ve(Ie)},children:"x"}),null),Ee})()})),ae})()]}}),o(Ot,{name:"Spellcasting",get children(){return[o(V,{get when(){return O(()=>!!c())()&&c()!=="none"},get children(){var ae=Gw(),Ie=ae.firstChild;Ie.firstChild;var Ee=Ie.nextSibling;Ee.firstChild;var je=Ee.nextSibling;return g(Ie,o(Oe,{disableUnselected:!0,transparent:!0,get value(){const ye=a.spellcasting;if(ye){const Qe=ye.spellcastingAbility;if(typeof Qe=="string"&&!/\d/.test(Qe))return JSON.parse(JSON.stringify(wi))[Qe]?.toString();if(typeof Qe=="number"||/\d/.test(Qe))return Qe?.toString()}return"1"},onChange:ye=>{W(+ye.currentTarget.value)},get children(){return o(J,{each:[1,2,3],children:ye=>o(pe,{value:ye,get children(){return wi[ye]}})})}}),null),g(Ee,o($e,{type:"checkbox",tooltip:"Round up spells known?",style:{margin:"0px","margin-left":"10px"},get checked(){return a.spellcasting?.spellsKnownRoundup??!1},onChange:ye=>{const Qe=a.spellcasting?.casterType;if(Qe){const st=+xr[Qe];U(st,ye.currentTarget.checked)}}}),null),g(Ee,o(Oe,{disableUnselected:!0,transparent:!0,get value(){return pt(xr)[a.spellcasting?.spellsKnownCalc??"Level"]},onChange:ye=>{U(+ye.currentTarget.value),f(ue(c()))},get children(){return o(J,{each:[1,2,3,4,5,6],children:ye=>o(pe,{value:ye,get children(){return xr[ye]}})})}}),null),g(je,o(oe,{onClick:()=>ne(!ie()),children:"Add Spellcasting Description"}),null),g(je,o(V,{get when(){return ie()},get children(){return o(Wt,{title:"Spellcasting Desc",setClose:ne,get children(){var ye=Vw(),Qe=ye.firstChild,st=Qe.nextSibling;return ye.style.setProperty("margin-top","1%"),g(Qe,o(oe,{onClick:Nt=>{Q((a.spellcasting?.info??[]).concat({name:"",desc:[]}))},children:"Add Spellcasting Description"})),st.style.setProperty("overflow-y","auto"),st.style.setProperty("height","450px"),st.style.setProperty("width","100%"),st.style.setProperty("display","flex"),st.style.setProperty("flex-direction","row"),st.style.setProperty("flex-wrap","wrap"),g(st,o(J,{get each(){return a.spellcasting?.info},children:(Nt,Mt)=>(()=>{var qt=Xw(),_r=qt.firstChild;return qt.style.setProperty("display","flex"),qt.style.setProperty("flex-direction","column"),qt.style.setProperty("width","48%"),g(qt,o(tt,{get name(){return`Spellcasting Desc ${Mt()}`},get children(){return o($e,{transparent:!0,get value(){return Nt.name},onChange:vt=>{Q((a.spellcasting?.info??[]).map((on,Wr)=>Wr===Mt()?{name:vt.currentTarget.value,desc:on.desc}:on))}})}}),_r),g(qt,o(tt,{style:{width:"50%"},get name(){return`Spellcasting Desc ${Mt()}`},get children(){return o(rn,{transparent:!0,text:()=>Nt.desc.join(`
`),get onChange(){return _e(Mt())},style:{width:"100%"},setText:()=>{}})}}),_r),g(qt,o(oe,{onClick:vt=>{Q((a.spellcasting?.info??[]).filter((on,Wr)=>Wr!==Mt()))},children:"Remove"}),_r),_r.style.setProperty("border","1px solid"),qt})()})),ye}})}}),null),z(ye=>{var Qe=`${De.spellcasting}`,st=`${De.selectSpan}`,Nt=`${De.selectSpan}`;return Qe!==ye.e&&D(ae,ye.e=Qe),st!==ye.t&&D(Ie,ye.t=st),Nt!==ye.a&&D(Ee,ye.a=Nt),ye},{e:void 0,t:void 0,a:void 0}),ae}}),o(V,{get when(){return!c()||c().toLowerCase()==="none"},get children(){return Yw()}})]}})]}})),g(Te,o(zw,{currentClass:a,setStartEquipChoice:I}),null),g(ln,o(Hn,{get class(){return`${De.wholeTable} `},data:()=>a.classLevels,get columns(){return d()},get children(){return[o(Be,{name:"proficiency",get children(){return[o(Ne,{get class(){return`${De.headerStyle}`},children:"P.B."}),o(Me,{get class(){return`${De.cellStyle}`},children:ae=>`+${ae.profBonus}`})]}}),o(Be,{name:"level",get children(){return[o(Ne,{get class(){return`${De.headerStyle}`},children:"Level"}),o(Me,{get class(){return`${De.cellStyle}`},children:ae=>ae.level})]}}),o(Be,{name:"features",get children(){return[o(Ne,{get class(){return`${De.headerStyle}`},children:"Features"}),o(Me,{get class(){return`${De.tableFeature}`},children:(ae,Ie)=>[o(oe,{onClick:Ee=>{v(ae),y(je=>!je)},children:"+"}),o(J,{get each(){return ae?.features},children:(Ee,je)=>(()=>{var ye=ii();return ye.$$click=Qe=>{S(je()),v(ae),y(st=>!st)},g(ye,o($t,{get key(){return be(Ee)},get value(){return`${Ee?.name} `},remove:()=>K(Ee?.info?.level,Ee?.name)})),z(()=>D(ye,`${De.chipHover}`)),ye})()})]})]}}),o(Be,{name:"spellsKnown",get children(){return[o(Ne,{get class(){return`${De.headerStyle}`},children:"Spells Known"}),o(Me,{get class(){return`${De.cellStyle}`},children:ae=>(()=>{var Ie=ii();return g(Ie,o($e,{style:{width:"2.5rem"},get value(){return a.classLevels[ae.level-1].spellcasting?.spells_known},onChange:Ee=>ee(ae.level,+Ee.currentTarget.value),type:"number",min:0})),Ie})()})]}}),o(Be,{name:"cantrip",get children(){return[o(Ne,{get class(){return`${De.headerStyle}`},children:"Cantrips"}),o(Me,{get class(){return`${De.cellStyle}`},children:ae=>o($e,{style:{width:"2.5rem",border:"1px solid"},type:"number",transparent:!0,min:0,get value(){return a.classLevels[ae.level-1]?.spellcasting?.cantrips_known},onChange:Ie=>se(ae.level,+Ie.currentTarget.value)})})]}}),o(J,{get each(){return X(a)},children:ae=>o(Be,{name:ae,get children(){return[o(Ne,{get class(){return`${De.headerStyle}`},children:ae}),o(Me,{get class(){return`${De.cellStyle}`},children:Ie=>o($e,{transparent:!0,get value(){return Ie.classSpecific[ae]},onInput:Ee=>{l(je=>({classLevels:je.classLevels.map(ye=>ye.level===Ie.level?{...ye,classSpecific:{...ye.classSpecific,[ae]:Ee.currentTarget.value??"0"}}:{...ye,classSpecific:{...ye.classSpecific,[ae]:ye.classSpecific[ae]??"0"}})}))},style:{width:"50px",border:"1px solid"}})})]}})}),o(J,{each:[1,2,3,4,5,6,7,8,9],children:ae=>o(Be,{name:`spell_slots_level_${ae}`,get children(){return[o(Ne,{get class(){return`${De.headerStyle}`},get children(){return Hw.get(ae.toString())}}),o(Me,{get class(){return`${De.cellStyle}`},children:Ie=>[o(V,{get when(){return c().toLowerCase()!=="other"},get children(){return G(Ie.level,ae)}}),o(V,{get when(){return c().toLowerCase()==="other"},get children(){return o($e,{style:{width:"2rem"},get value(){return a.classLevels[Ie.level-1].spellcasting?.[`spell_slots_level_${ae}`]},onChange:Ee=>N(Ie.level,ae,+Ee.currentTarget.value)})}})]})]}})}),o(Rr,{get class(){return`${De.rowStyle}`}})]}}),null),g(ln,o(V,{get when(){return p()},get children(){return o(ld,{addFeature:Ae,replaceFeature:q,showFeature:p,get currentLevel(){return b()},setShowFeature:y,editIndex:$,setEditIndex:S})}}),null),z(ae=>{var Ie=`${De.rowOne}`,Ee=`${De.selectSpan}`,je=`${De.selectSpan}`,ye=`${De.twoRowContainer}`,Qe=`${De.divide}`,st=`${De.divide}`,Nt=`${De.twoRowContainer} ${De.scrollX}`;return Ie!==ae.e&&D(Z,ae.e=Ie),Ee!==ae.t&&D(ke,ae.t=Ee),je!==ae.a&&D(ce,ae.a=je),ye!==ae.o&&D(Te,ae.o=ye),Qe!==ae.i&&D(Fe,ae.i=Qe),st!==ae.n&&D(an,ae.n=st),Nt!==ae.s&&D(ln,ae.s=Nt),ae},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),Y}})};Jt(["click"]);var Qw=k("<h1>Items"),e$=k("<h2>Item Types"),t$=k("<div>"),n$=k("<div><p>damage</p><p>properties</p><p>description</p><p>cost</p><p>weight</p><p>description"),r$=k("<div><p>armor class</p><p>strength requirement</p><p>stealth disadvantage</p><p>description</p><p>cost</p><p>weight"),s$=k("<div><p>description</p><p>cost</p><p>weight</p><p>consumable");const i$=()=>{Xe(gt);const[t,e]=Ge();return O(()=>Ve(t().theme)),o(Yt,{get children(){return[Qw(),e$(),(()=>{var n=t$();return g(n,o(Ql,{get elements(){return[{name:"Weapon",element:n$()},{name:"Armor",element:r$()},{name:"Item",element:s$()}]}})),n})()]}})},a$="_body_1qbz3_1",l$="_name_1qbz3_24",o$="_featHomebrew_1qbz3_28",c$="_featName_1qbz3_1",u$="_removeChipButton_1qbz3_42",h$="_preRequisites_1qbz3_49",d$="_Description_1qbz3_67",f$="_chipBar_1qbz3_83",kr={body:a$,name:l$,featHomebrew:o$,featName:c$,removeChipButton:u$,preRequisites:h$,Description:d$,chipBar:f$};var g$=k("<h1>Feats"),Ea=k("<div>"),p$=k("<div class=featHomebrew><div><h2>Add Name</h2></div><div><h2>Add Pre-Requisites</h2><div></div><div></div></div><div><h2>Description"),zn=(t=>(t[t.AbilityScore=0]="AbilityScore",t[t.Class=1]="Class",t[t.CharacterLevel=2]="CharacterLevel",t))(zn||{});const m$=()=>{Xe(gt);const[t,e]=Ge();O(()=>Ve(t().theme));const n=zr();so(),new zf({});const[r,s]=L([]),[i,a]=L(0),[l,c]=L(""),[u,h]=L("str"),[d,f]=L("0"),[m,_]=L("");L(!1);const[p,y]=pn(),b=()=>{s([]),a(0),c(""),h("str"),f("0"),_("")},v=w=>{switch(i()){case 0:s(F=>[...F,{info:{className:"",subclassName:"",level:0,type:zn[0],other:""},name:u(),value:d()}]);break;case 1:s(F=>[...F,{info:{className:"",subclassName:"",level:0,type:zn[1],other:""},name:u(),value:d()}]);break;case 2:s(F=>[...F,{info:{className:"",subclassName:"",level:0,type:zn[2],other:""},name:u(),value:d()}]);break}};z(()=>{switch(i()){case 0:h("STR"),f("0");break;case 1:h("Class"),f("Barbarian");break;case 2:h("Barbarian"),f("0");break}});const $=O(()=>{const w={};return w.name=l(),w.preReqs=r(),w.desc=[m()],w});Ut(()=>{if(p.name){const w=ot.feats().find(F=>F.name===p.name);w&&(s(w.preReqs),_(w.desc[0]),c(w.name))}});const S=O(()=>ot.feats().findIndex(w=>w.name===l())!==-1),C=()=>{ot.addFeat($()),b()},P=()=>{ot.updateFeat($()),b()};return o(Yt,{get children(){return[g$(),(()=>{var w=p$(),F=w.firstChild;F.firstChild;var T=F.nextSibling,I=T.firstChild,E=I.nextSibling,B=E.nextSibling,U=T.nextSibling;return U.firstChild,g(F,o(tt,{name:"Add Name",get children(){return o($e,{type:"text",transparent:!0,id:"featName",get value(){return l()},onChange:W=>c(W.currentTarget.value)})}}),null),g(F,o(V,{get when(){return S()},get children(){return o(oe,{onClick:()=>{const W=ot.feats().find(Q=>Q.name===l());W&&(s(W.preReqs),_(W.desc[0]))},children:"Fill"})}}),null),g(E,o(Oe,{get value(){return i()},onChange:W=>a(()=>+W.currentTarget.value),disableUnselected:!0,transparent:!0,get children(){return[o(pe,{get value(){return 0},children:"Ability Score"}),o(pe,{get value(){return 1},children:"Class"}),o(pe,{get value(){return 2},children:"Class Level"})]}}),null),g(E,o(bs,{get children(){return[o(jt,{get when(){return i()===0},get children(){var W=Ea();return g(W,o(Oe,{transparent:!0,disableUnselected:!0,onChange:Q=>h(Q.currentTarget.value),get children(){return[o(pe,{value:"STR",children:"Strength"}),o(pe,{value:"DEX",children:"Dexterity"}),o(pe,{value:"CON",children:"Constitution"}),o(pe,{value:"INT",children:"Intelligence"}),o(pe,{value:"WIS",children:"Wisdom"}),o(pe,{value:"CHA",children:"Charisma"})]}}),null),g(W,o(tt,{name:"Amount",get children(){return o($e,{transparent:!0,type:"number",get value(){return d()},onChange:Q=>f(Q.currentTarget.value)})}}),null),W}}),o(jt,{get when(){return i()===1},get children(){var W=Ea();return g(W,o(Oe,{transparent:!0,get value(){return u()},onChange:Q=>{h("Class"),f(Q.currentTarget.value)},get children(){return o(J,{get each(){return n()},children:Q=>o(pe,{get value(){return Q.name},get children(){return Q.name}})})}})),W}}),o(jt,{get when(){return i()===2},get children(){var W=Ea();return g(W,o(Oe,{transparent:!0,get value(){return u()},onChange:Q=>h(Q.currentTarget.value),get children(){return o(J,{get each(){return n()},children:Q=>o(pe,{get value(){return Q.name},get children(){return Q.name}})})}}),null),g(W,o($e,{type:"number",get value(){return d()},onChange:Q=>f(Q.currentTarget.value)}),null),W}})]}}),null),g(E,o(oe,{get disabled(){return r().length>=10},onClick:v,children:"Add"}),null),g(B,o($t,{get key(){return u()},get value(){return d()}}),null),g(B,o(J,{get each(){return r()},children:(W,Q)=>o($t,{get key(){return W.name},get value(){return W.value},remove:()=>s(le=>le.filter((ve,Ae)=>Ae!==Q()))})}),null),g(U,o(tt,{name:"Description",get children(){return o(rn,{id:"featDescription",name:"featDescription",text:m,setText:_,picToTextEnabled:!0,transparent:!0})}}),null),g(w,o(V,{get when(){return!S()},get children(){return o(oe,{get class(){return`${kr.addButton}`},onClick:C,children:"Add Feat"})}}),null),g(w,o(V,{get when(){return S()},get children(){return o(oe,{get class(){return`${kr.addButton}`},onClick:P,children:"Update Feat"})}}),null),z(W=>{var Q=`${kr.name}`,le=`${kr.preRequisites}`,ve=`${kr.chipBar}`,Ae=`${kr.Description}`;return Q!==W.e&&D(F,W.e=Q),le!==W.t&&D(T,W.t=le),ve!==W.a&&D(B,W.a=ve),Ae!==W.o&&D(U,W.o=Ae),W},{e:void 0,t:void 0,a:void 0,o:void 0}),w})()]}})};var v$=k("<h1>backgrounds"),b$=k("<div><p></p><p></p><p>ideals</p><p>bonds</p><p>flaws</p><p>personality traits</p><p>background features</p><p>languages</p><p>skills</p><p>tools");const y$=()=>{Xe(gt);const[t,e]=Ge(),n=Rh();ot.backgrounds,O(()=>Ve(t().theme));const[r,s]=hs({name:"",startingProficiencies:[],languageChoice:{choose:0,type:"language",choices:[]},startingEquipment:[],startingEquipmentChoices:[],feature:[]});return z(()=>{console.log("Backgrounds: ",n())}),o(Yt,{get children(){return[v$(),(()=>{var i=b$(),a=i.firstChild,l=a.nextSibling;return g(a,o(tt,{name:"Background Name",get children(){return o($e,{get value(){return r.name},onChange:c=>s({name:c.currentTarget.value}),transparent:!0})}})),g(l,o($e,{type:"number",transparent:!0,style:{width:"min-content"},get value(){return r.languageChoice.choose},onChange:c=>{s({languageChoice:{...r.languageChoice,type:"language",choose:parseInt(c.currentTarget.value)}})}})),i})()]}})},_$="_body_chbsq_1",w$="_smallField_chbsq_20",$$="_border_chbsq_33",C$="_field_chbsq_44",k$="_wrapper_chbsq_68",S$="_check_chbsq_81",x$="_classList_chbsq_86",qe={body:_$,smallField:w$,border:$$,field:C$,wrapper:k$,break:"_break_chbsq_76",check:S$,classList:x$};var T$=k("<h1>Spells"),A$=k("<div>"),E$=k("<label>Casting Time"),L$=k("<label>Range"),P$=k("<label>Duration"),I$=k("<div><p></p><span></span><p><label for=hasVerbal>has Verbal?</label><label for=hasSomatic>has Somatic?</label><label for=hasMaterial>has Material?</label></p><span></span><span></span><p><label>Level </label></p><p><label>School </label></p><span></span><p><label for=isRitual>is Ritual?</label></p><div><h4>Classes?</h4></div><span></span><div></div><span></span><p><span><label>Custom</label></span></p><p><span><label>Custom</label></span></p><span></span><p><span><label>Custom</label></span><span><label for=isConcentration>isConcentration?</label></span></p><span></span><p></p><span></span><p></p><span></span><p>");const O$=()=>{Xe(gt);const[t,e]=Ge();O(()=>Ve(t().theme));const n=()=>ot.spells().findIndex(I=>I.name===i.name)>-1,r=()=>{ot.addSpell(i)},s=()=>{ot.updateSpell(i)},[i,a]=hs({name:"",desc:"",duration:"",concentration:!1,level:"0",range:"",ritual:!1,school:"",castingTime:"",damageType:"",page:"",isMaterial:!1,isSomatic:!1,isVerbal:!1,materials_Needed:"",higherLevel:"",classes:[],subClasses:[]}),l=Array.from({length:10},(I,E)=>E),c=Fh(),u=zr(),[h,d]=pn(),f=O(()=>u().map(I=>I.name)),[m,_]=hs({}),[p,y]=hs({castingTime:!1,range:!1}),[b,v]=L(""),[$,S]=L(""),C=()=>{const I=new Tr;return c().forEach(E=>I.add(E.school)),I.value.sort()},P=()=>{const I=new Tr;return c().forEach(E=>I.add(E.castingTime)),I.value.sort()},w=()=>{const I=new Tr;return c().forEach(E=>I.add(E.range)),I.value.sort()},F=()=>{const I=new Tr;return c().forEach(E=>I.add(E.duration)),I.value.sort()},T=I=>{const E=I?h.name:i.name,B=ot.spells().find(U=>U.name===E);B&&(a(B),v(B.desc),S(B.higherLevel))};return Ut(()=>{h.name&&T(!0)}),wt(()=>{a({desc:b()})}),wt(()=>{a({higherLevel:$()})}),o(Yt,{get children(){return[T$(),(()=>{var I=I$(),E=I.firstChild,B=E.nextSibling,U=B.nextSibling,W=U.firstChild,Q=W.nextSibling,le=Q.nextSibling,ve=U.nextSibling,Ae=ve.nextSibling,q=Ae.nextSibling;q.firstChild;var K=q.nextSibling;K.firstChild;var G=K.nextSibling,se=G.nextSibling;se.firstChild;var N=se.nextSibling;N.firstChild;var H=N.nextSibling,ee=H.nextSibling,ue=ee.nextSibling,X=ue.nextSibling,j=X.firstChild;j.firstChild;var te=X.nextSibling,M=te.firstChild;M.firstChild;var ie=te.nextSibling,ne=ie.nextSibling,_e=ne.firstChild;_e.firstChild;var fe=_e.nextSibling;fe.firstChild;var be=ne.nextSibling,Pe=be.nextSibling,xe=Pe.nextSibling,rt=xe.nextSibling,Y=rt.nextSibling,R=Y.nextSibling;return g(E,o(tt,{get class(){return`${qe.smallField}`},name:"Spell Name",get children(){return o($e,{transparent:!0,get value(){return i.name},onInput:x=>a({name:x.currentTarget.value})})}}),null),g(E,o(V,{get when(){return n()},get children(){return[o(oe,{onClick:()=>T(),children:"Fill Info"}),o(oe,{onClick:()=>ot.removeSpell(i.name),children:"Delete"})]}}),null),g(U,o($e,{id:"hasVerbal",type:"checkbox",get class(){return`${qe.check}`},get checked(){return i.isVerbal},onChange:x=>a({isVerbal:x.currentTarget.checked})}),W),g(U,o($e,{id:"hasSomatic",type:"checkbox",get class(){return`${qe.check}`},get checked(){return i.isSomatic},onChange:x=>a({isSomatic:x.currentTarget.checked})}),Q),g(U,o($e,{get checked(){return i.isMaterial},get class(){return`${qe.check}`},onclick:x=>a({isMaterial:x.currentTarget.checked}),id:"hasMaterial",type:"checkbox"}),le),g(I,o(V,{get when(){return i.isMaterial},get children(){var x=A$();return g(x,o(tt,{get class(){return`${qe.smallField}`},name:"Material Components",get children(){return o($e,{transparent:!0,get value(){return i.materials_Needed},onChange:Z=>a({materials_Needed:Z.currentTarget.value})})}})),x}}),Ae),g(q,o(Oe,{get class(){return`${qe.border}`},get value(){return i.level},onChange:x=>a({level:x.currentTarget.value}),transparent:!0,get children(){return o(J,{each:l,children:x=>o(pe,{get value(){return x.toString(10)},get children(){return Sh(x)}})})}}),null),g(K,o(Oe,{get class(){return`${qe.border}`},get value(){return i.school},onChange:x=>a({school:x.currentTarget.value}),transparent:!0,get children(){return o(J,{get each(){return C()},children:x=>o(pe,{value:x,children:x})})}}),null),g(se,o($e,{id:"isRitual",type:"checkbox",get checked(){return i.ritual},onChange:x=>a({ritual:x.currentTarget.checked})}),null),g(N,o(Oe,{get class(){return`${qe.border}`},get value(){return m.currentClass},onChange:x=>_({currentClass:x.currentTarget.value}),transparent:!0,get children(){return o(J,{get each(){return f()},children:x=>o(pe,{value:x,children:x})})}}),null),g(N,o(oe,{get disabled(){return i.classes.includes(m.currentClass)},onClick:x=>{a({classes:[...i.classes,m.currentClass]})},children:"Add"}),null),g(ee,o(J,{get each(){return i.classes},children:x=>o($t,{key:"Class",value:x,remove:()=>{a({classes:i.classes.filter(Z=>Z!==x)})}})})),g(j,o($e,{type:"checkbox",tooltip:"Custom Input?",onClick:x=>y({castingTime:x.currentTarget.checked}),get checked(){return p.castingTime}}),null),g(X,o(V,{get when(){return!p.castingTime},get children(){return[E$(),o(Oe,{get class(){return`${qe.border}`},get value(){return i.castingTime},onChange:x=>a({castingTime:x.currentTarget.value}),transparent:!0,get children(){return o(J,{get each(){return P()},children:x=>o(pe,{value:x,children:x})})}})]}}),null),g(X,o(V,{get when(){return p.castingTime},get children(){return o(tt,{get class(){return`${qe.smallField}`},name:"Casting Time",get children(){return o($e,{transparent:!0,get value(){return i.castingTime},onChange:x=>a({castingTime:x.currentTarget.value})})}})}}),null),g(M,o($e,{type:"checkbox",tooltip:"Custom Input?",onClick:x=>y({range:x.currentTarget.checked}),get checked(){return p.range}}),null),g(te,o(V,{get when(){return!p.range},get children(){return[L$(),o(Oe,{get class(){return`${qe.border}`},transparent:!0,get value(){return i.range},onChange:x=>a({range:x.currentTarget.value}),get children(){return o(J,{get each(){return w()},children:x=>o(pe,{value:x,children:x})})}})]}}),null),g(te,o(V,{get when(){return p.range},get children(){return o(tt,{get class(){return`${qe.smallField}`},name:"Range",get children(){return o($e,{transparent:!0,get value(){return i.range},onChange:x=>a({range:x.currentTarget.value})})}})}}),null),g(_e,o($e,{type:"checkbox",tooltip:"Custom Input?",onClick:x=>y({duration:x.currentTarget.checked}),get checked(){return p.duration}}),null),g(fe,o($e,{id:"isConcentration",type:"checkbox",tooltip:"Custom Input?",get class(){return`${qe.check}`},onClick:x=>a({concentration:x.currentTarget.checked}),get checked(){return i.concentration}}),null),g(fe,o(V,{get when(){return!p.duration},get children(){return[P$(),o(Oe,{get class(){return`${qe.border}`},transparent:!0,get value(){return i.duration},onChange:x=>{a({duration:x.currentTarget.value})},get children(){return o(J,{get each(){return F().filter(x=>i.concentration?x.toLowerCase().includes("concentration"):!x.toLowerCase().includes("concentration"))},children:x=>o(pe,{value:x,children:x})})}})]}}),null),g(fe,o(V,{get when(){return p.duration},get children(){return o(tt,{get class(){return`${qe.smallField}`},name:"Duration",get children(){return o($e,{transparent:!0,get value(){return i.duration},onChange:x=>a({duration:x.currentTarget.value})})}})}}),null),g(Pe,o(tt,{name:"Description",get children(){return o(rn,{transparent:!0,text:b,setText:v,picToTextEnabled:!0})}})),g(rt,o(tt,{name:"Higher Levels",get children(){return o(rn,{transparent:!0,text:$,setText:S,picToTextEnabled:!0})}})),g(R,o(V,{get when(){return!n()},get children(){return o(oe,{onClick:r,children:"Create"})}}),null),g(R,o(V,{get when(){return n()},get children(){return o(oe,{onClick:s,children:"Update"})}}),null),z(x=>{var Z=`${qe.wrapper}`,he=`${qe.break}`,ke=`${qe.break}`,ce=`${qe.break}`,Te=`${qe.field}`,Fe=`${qe.field}`,Bt=`${qe.break}`,an=`${qe.field}`,ln=`${qe.field}`,ae=`${qe.break}`,Ie=`${qe.classList}`,Ee=`${qe.break}`,je=`${qe.field}`,ye=`${qe.field}`,Qe=`${qe.break}`,st=`${qe.field}`,Nt=`${qe.break}`,Mt=`${qe.break}`,qt=`${qe.break}`;return Z!==x.e&&D(I,x.e=Z),he!==x.t&&D(B,x.t=he),ke!==x.a&&D(ve,x.a=ke),ce!==x.o&&D(Ae,x.o=ce),Te!==x.i&&D(q,x.i=Te),Fe!==x.n&&D(K,x.n=Fe),Bt!==x.s&&D(G,x.s=Bt),an!==x.h&&D(se,x.h=an),ln!==x.r&&D(N,x.r=ln),ae!==x.d&&D(H,x.d=ae),Ie!==x.l&&D(ee,x.l=Ie),Ee!==x.u&&D(ue,x.u=Ee),je!==x.c&&D(X,x.c=je),ye!==x.w&&D(te,x.w=ye),Qe!==x.m&&D(ie,x.m=Qe),st!==x.f&&D(ne,x.f=st),Nt!==x.y&&D(be,x.y=Nt),Mt!==x.g&&D(xe,x.g=Mt),qt!==x.p&&D(Y,x.p=qt),x},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0}),I})()]}})};var R$=k("<h1>races"),D$=k("<div><p>name</p><p>size</p><p>speed</p><p>ability score increase</p><p>age range</p><p>features");const B$=()=>{Xe(gt);const[t,e]=Ge();return O(()=>Ve(t().theme)),o(Yt,{get children(){return[R$(),D$()]}})},N$="_SpellsBody_1bfrq_1",M$="_materials_needed_1bfrq_1",F$="_headerBar_1bfrq_24",j$="_center_1bfrq_36",U$="_paginator_1bfrq_41",q$="_spellChip_1bfrq_61",K$="_clickyHeader_1bfrq_70",z$="_chipBar_1bfrq_79",H$="_small_1bfrq_84",W$="_mobalBar_1bfrq_90",Kt={SpellsBody:N$,materials_needed:M$,headerBar:F$,center:j$,paginator:U$,spellChip:q$,clickyHeader:K$,chipBar:z$,small:H$,mobalBar:W$},V$="_searchBar_cie4l_1",G$="_booleanSelect_cie4l_46",Y$="_menuBtn_cie4l_65",Z$="_chipBar_cie4l_86",X$="_all_cie4l_93",J$="_none_cie4l_97",Q$="_top_cie4l_101",e2="_bottom_cie4l_105",t2="_left_cie4l_109",n2="_right_cie4l_113",La={searchBar:V$,booleanSelect:G$,menuBtn:Y$,chipBar:Z$,all:X$,none:J$,top:Q$,bottom:e2,left:t2,right:n2},r2="_chipbar_1uyza_1",s2="_chipContainer_1uyza_7",i2="_leftArrow_1uyza_20",a2="_rightArrow_1uyza_26",ai={chipbar:r2,chipContainer:s2,leftArrow:i2,rightArrow:a2};var Pa=k("<span>"),l2=k("<div><div>");const o2=t=>{const[e,n]=L(!1),[r,s]=L(!1),i=u=>{s(a?.scrollLeft!==a?.scrollWidth-a?.clientWidth),n(a?.scrollLeft>0),a?.scrollLeft<=0&&n(!1)};Ut(()=>{a&&a.addEventListener("scroll",i)}),Pn(()=>{a&&a.removeEventListener("scroll",i)});let a;z(()=>{t.chips().length>0&&i()});const l=()=>{a.scrollLeft-=100,i()},c=()=>{a.scrollLeft+=100,i(),n(!0)};return o(V,{get when(){return t.chips().length>0},get children(){var u=l2(),h=u.firstChild;g(u,o(V,{get when(){return e()},get children(){var f=Pa();return g(f,o(oe,{onClick:l,children:""})),z(()=>D(f,`${ai.leftArrow}`)),f}}),h);var d=a;return typeof d=="function"?Wn(d,h):a=h,g(h,o(V,{get when(){return t.chips().length>1},get children(){var f=Pa();return g(f,o(oe,{onClick:()=>t.setChips?t.setChips([]):null,children:"Clear All"})),f}}),null),g(h,o(J,{get each(){return t.chips()},children:(f,m)=>o($t,{get key(){return f.key},get value(){return f.value},get remove(){return t.chips().length>0?()=>t.setChips?t.setChips(_=>[..._].filter((p,y)=>y!==m())):null:void 0}})}),null),g(u,o(V,{get when(){return r()},get children(){var f=Pa();return g(f,o(oe,{onClick:c,children:""})),z(()=>D(f,`${ai.rightArrow}`)),f}}),null),z(f=>{var m=`${ai.chipbar}`,_=`${ai.chipContainer}`;return m!==f.e&&D(u,f.e=m),_!==f.t&&D(h,f.t=_),f},{e:void 0,t:void 0}),u}})};var c2=k("<div id=booleanBar><label for=falsebox>"),u2=k("<div><div>"),h2=k("<option>"),d2=k('<svg><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z">');const f2=t=>{const[e,n]=L({key:"",value:""}),[r,s]=L("name"),[i,a]=L(""),[l,c]=L(!1),[u,h]=L([]),d=p=>{if(Array.isArray(t.spellsSrd()[0][p]))if(typeof(t.spellsSrd()[0][p]&&Array.isArray(t.spellsSrd()[0][p])?t.spellsSrd()[0][p][0]:null)=="string"){const v=t.spellsSrd().flatMap($=>$[p]?.toString().includes(",")?$[p]?.toString().split(","):$[p]?.toString());return[...new Set(v)].sort().filter($=>!!$)}else return[...new Set(...t.spellsSrd().flatMap(v=>Array.isArray(v[p])?v[p]:[]))].sort().filter(v=>!!v);const y=new Set;return t.spellsSrd().map(b=>b[p]&&!Array.isArray(b[p])?b[p]:"").map(b=>y.add(`${b}`)),[...y].sort().filter(b=>!!b)},f=["Abjuration","Conjuration","Divination","Enchantment","Evocation","Illusion","Necromancy","Transmutation"];wt(()=>{t.setSearchResults(t.spellsSrd().filter(p=>p&&u().length>0?![...new Set(u().map(S=>S.key))].map(S=>u().filter(C=>C.key===S)).map(S=>S.map(C=>{const P=p[C.key];if(P)switch(!0){case typeof P=="string":return P.toLowerCase().includes(C.value.toLowerCase());case Array.isArray(P):return P.join(" ").toLowerCase().includes(C.value.toLowerCase());case typeof P=="boolean":return` ${P} `.toLowerCase().includes(C.value.toLowerCase())}return!1})).map(S=>S.includes(!0)).includes(!1):!0))}),wt(()=>{t.spellsSrd().length>0&&typeof t.spellsSrd()[0][r()]=="boolean"&&a(`${l()}`)}),wt(()=>{h(p=>e().key?[...p,e()]:p),a(""),document.getElementById("searchBar")&&(document.getElementById("searchBar").value="")});const m=p=>{if(p==="concentration")return"Conc";if(p==="damageType")return"Dmg Type";const y=b=>(b.charAt(0).toUpperCase()+b.slice(1)).replace(/([A-Z])/g," $1").trim();return p.startsWith("is")?y(p.replace("is","")):y(p)},_=()=>t.spellsSrd().length>0?t.spellsSrd()[0]:{};return(()=>{var p=u2(),y=p.firstChild;return g(y,o(oe,{transparent:!0,onClick:()=>n(b=>({key:r(),value:$l(i())})),get children(){return o(g2,{})}}),null),g(y,o(Oe,{get class(){return`${La.all}`},disableUnselected:!0,onChange:b=>s(b.target.value),id:"chipDropdown",get children(){return o(J,{get each(){return Object.keys(_()).filter(b=>!["materials_Needed","higherLevel","page"].includes(b))},children:b=>o(pe,{value:b,get children(){return m(b)}})})}}),null),g(y,o(bs,{get children(){return[o(jt,{get when(){return Array.isArray(_()[r()])||["damageType","castingTime","range","duration"].includes(r())},get children(){return o(Oe,{onChange:b=>a(b.currentTarget.value),get children(){return o(J,{get each(){return d(r())},children:b=>(()=>{var v=h2();return v.value=b,g(v,b),v})()})}})}}),o(jt,{get when(){return typeof _()[r()]=="boolean"},get children(){var b=c2(),v=b.firstChild;return g(b,o($e,{type:"checkbox",get checked(){return l()},id:"booleanCheckbox",onchange:()=>{c(!l()),a(`${l()}`)}}),v),g(v,o(V,{get when(){return!l()},children:"false"}),null),g(v,o(V,{get when(){return l()},children:"true"}),null),z(()=>D(b,`${La.booleanSelect}`)),b}}),o(jt,{get when(){return typeof _()[r()]=="string"},get children(){return o(bs,{get fallback(){return o($e,{id:"searchBar",onChange:b=>a(b.currentTarget.value),onKeyDown:b=>{b.key==="Enter"&&n(v=>({key:r(),value:$l(b.currentTarget.value)}))},placeholder:"Search Spells...",get value(){return i()},type:"text"})},get children(){return o(jt,{get when(){return["school","level"].includes(r())},get children(){return o(Oe,{onChange:b=>a(b.currentTarget.value),get children(){return[o(V,{get when(){return r()==="school"},get children(){return o(J,{each:f,children:b=>o(pe,{value:b,children:b})})}}),o(V,{get when(){return r()==="level"},get children(){return o(J,{each:[0,1,2,3,4,5,6,7,8,9],children:b=>o(pe,{value:b,children:b})})}})]}})}})}})}})]}}),null),g(p,o(o2,{chips:u,setChips:h}),null),z(()=>D(y,`${La.searchBar}`)),p})()},g2=t=>(()=>{var e=d2();return ft(e,ht(t,{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"100",height:"100",viewBox:"0 0 50 50"}),!0,!0),e})();var p2=k("<h1>Spells"),m2=k("<br>"),li=k("<span>"),v2=k("<span><strong>Name"),b2=k("<span><strong>School"),y2=k("<span><strong>Level"),Vc=k("<div>"),Gc=k("<div><span>");const Yc=()=>{const t=Xe(gt),[e,n]=Ge();O(()=>Ve(e().theme));const r=Fh(),[s,i]=pn();s.name||i({name:r()[0]?.name});const a=r().filter(w=>w.name?.toLowerCase()===(s?.name||r()[0]?.name).toLowerCase())[0],[l,c]=L(a),[u,h]=L([]),[d,f]=L([]),[m,_]=L(!1);L([]);const[p,y]=L({sortKey:"level",isAsc:!0}),[b,v]=L([]),$=O(()=>d().length>0?d():r()),S=w=>{y(F=>F.sortKey===w?pt({sortKey:w,isAsc:!F.isAsc}):pt({sortKey:w,isAsc:F.isAsc})),v(F=>{const I=p().isAsc;return pt(F.sort((E,B)=>{const U=typeof E?.[w]=="string"?E?.[w].replaceAll(" ",""):E?.[w],W=typeof B?.[w]=="string"?B?.[w].replaceAll(" ",""):B?.[w];return U===void 0||W===void 0?0:U<W?I?1:-1:U>W?I?-1:1:0}))})},C=w=>{c(w),_(!0)},P=w=>{const F=[];return w.isSomatic&&F.push("S"),w.isVerbal&&F.push("V"),w.isMaterial&&F.push("M"),F};return wt(()=>{i({name:l()?.name??""}),m()===!1&&i({name:""})}),wt(()=>{const w=r();v(w),console.log("allspell",w)}),o(Yt,{get children(){return[(()=>{var w=p2();return z(()=>D(w,`${Kt.center}`)),w})(),m2(),o(f2,{searchResults:d,setSearchResults:f,spellsSrd:b}),o(Hn,{get class(){return`${Kt.SpellsBody}`},data:u,columns:["name","school","level"],dropdown:!0,get children(){return[o(Be,{name:"name",get children(){return[o(Ne,{get class(){return Kt.clickyHeader},get children(){var w=v2();return w.firstChild,w.$$click=()=>S("name"),g(w,o(V,{get when(){return p().sortKey==="name"},get children(){var F=li();return g(F,()=>p().isAsc?" ":" "),F}}),null),w}}),o(Me,{get class(){return`${Kt.center}`},children:(w,F)=>(()=>{var T=Gc(),I=T.firstChild;return I.$$click=()=>C(w),g(I,()=>w.name),T})()})]}}),o(Be,{name:"school",get children(){return[o(Ne,{get class(){return Kt.clickyHeader},get children(){var w=b2();return w.firstChild,w.$$click=()=>S("school"),g(w,o(V,{get when(){return p().sortKey==="school"},get children(){var F=li();return g(F,()=>p().isAsc?"":""),F}}),null),w}}),o(Me,{get class(){return`${Kt.center}`},children:(w,F)=>(()=>{var T=Gc(),I=T.firstChild;return I.$$click=()=>C(w),g(I,()=>w.school),z(()=>D(I,`${Kt.small}`)),T})()})]}}),o(Be,{name:"level",get children(){return[o(Ne,{get class(){return`${Kt.clickyHeader}`},get children(){var w=y2();return w.firstChild,w.$$click=()=>S("level"),g(w,o(V,{get when(){return p().sortKey==="level"},get children(){var F=li();return g(F,()=>p().isAsc?"":""),z(()=>D(F,`${Kt.small}`)),F}}),null),w}}),o(Me,{get class(){return`${Kt.center}`},children:(w,F)=>(()=>{var T=li();return T.$$click=()=>C(w),g(T,()=>w.level),T})()})]}}),o(Rr,{style:{width:"98%"}}),o(Ph,{children:(w,F)=>(()=>{var T=Vc();return g(T,(()=>{var I=O(()=>!!w.ritual);return()=>I()?o($t,{key:"ritual",value:"yes"}):""})(),null),g(T,(()=>{var I=O(()=>!!w.concentration);return()=>I()?o($t,{key:"concentration",value:"yes"}):""})(),null),g(T,(()=>{var I=O(()=>!!w.damageType);return()=>I()?o($t,{key:"dmg-type",get value(){return w.damageType}}):""})(),null),g(T,o($t,{key:"Comps",get value(){return`${P(w).join(", ")}`}}),null),z(()=>D(T,`${t.isMobile()?Kt.mobalBar:Kt.chipBar}`)),T})()})]}}),o(V,{get when(){return m()},get children(){return o(qb,{spell:l,backgroundClick:[m,_]})}}),(()=>{var w=Vc();return g(w,o(hr,{items:$,setPaginatedItems:h})),z(()=>D(w,`${Kt.paginator}`)),w})()]}})};Jt(["click"]);const _2="_featsList_1hcnd_1",w2="_PreReqsBar_1hcnd_17",$2="_body_1hcnd_29",Ia={featsList:_2,PreReqsBar:w2,body:$2};var C2=k("<div><div><h1>Feats</h1><div></div><ol>"),k2=k("<li> <button></button>"),Zc=k("<div>"),Xc=k("<br>"),S2=k("<div>Description:"),Oa=k("<span>"),x2=k("<div>Ability Score Requirement: "),T2=k("<span> of "),A2=k("<div>Class Requirement:"),E2=k("<div>class level Requirement:"),L2=k("<span> "),P2=k("<div>classes Requirement:");const I2=()=>{const[t,e]=L([]),[n,r]=L([]),s=O(()=>n().length===0?t():n()),[i,a]=L([]),l=v=>i().includes(v),c=v=>l(v)?a(i().filter($=>$!==v)):a([...i(),v]);Xe(gt);const[u,h]=Ge(),d=O(()=>Ve(u().theme)),f=so(),[m,_]=pn();m.name||_({name:f()[0]?.name});const p=f().filter(v=>v.name?.toLowerCase()===(m.name||f()[0]?.name).toLowerCase())[0],[y,b]=L(p);return z(()=>{_({name:y()?.name})}),(()=>{var v=C2(),$=v.firstChild,S=$.firstChild,C=S.nextSibling,P=C.nextSibling;return C.style.setProperty("height","5vh"),C.style.setProperty("width","45%"),g(C,o(Dr,{placeholder:"Search Feats...",dataSource:f,setResults:r})),g(P,o(J,{get each(){return s()},children:(w,F)=>[(()=>{var T=k2(),I=T.firstChild,E=I.nextSibling;return g(T,()=>w.name,I),E.$$click=()=>{c(F()),b(w)},g(E,()=>l(F())?"":""),T})(),o(V,{get when(){return l(F())},get children(){return[(()=>{var T=Zc();return g(T,o(J,{get each(){return y().preReqs},children:I=>(()=>{var E=Zc();return g(E,o(bs,{get children(){return[o(jt,{get when(){return I.info.type===zn[0]},get children(){return[x2(),(()=>{var B=T2(),U=B.firstChild;return g(B,()=>I.name,U),g(B,()=>I.value,null),B})()]}}),o(jt,{get when(){return I.info.type===zn[1]},get children(){return[A2(),(()=>{var B=Oa();return g(B,()=>I.value),B})()]}}),o(jt,{get when(){return I.info.type===zn[2]},get children(){return[E2(),(()=>{var B=L2(),U=B.firstChild;return g(B,()=>I.name,U),g(B,()=>I.value,null),B})()]}}),o(jt,{get when(){return I.info.type===zn[3]},get children(){return[P2(),(()=>{var B=Oa();return g(B,()=>I.name),B})()]}})]}})),E})()})),z(()=>D(T,`${Ia.PreReqsBar}`)),T})(),Xc(),S2(),(()=>{var T=Oa();return g(T,o(J,{get each(){return y().desc},children:(I,E)=>[I,Xc()]})),T})()]}})]})),g($,o(hr,{items:f,setPaginatedItems:e}),null),z(w=>{var F=`${d()?.primary} ${Ia.featsList}`,T=`${Ia.body}`;return F!==w.e&&D(v,w.e=F),T!==w.t&&D($,w.t=T),w},{e:void 0,t:void 0}),v})()};Jt(["click"]);const O2="_sidebar_18u2w_9",R2="_sidebar_shown_18u2w_37",D2="_wrapper_18u2w_43",B2="_thePage_18u2w_48",N2="_outerStyles_18u2w_59",M2="_SelectorBar_18u2w_67",F2="_fixed_18u2w_79",j2="_flexrow_18u2w_93",U2="_wrap_18u2w_43",q2="_abilityscore_18u2w_103",K2="_sideBarBtn_18u2w_110",z2="_animate_18u2w_124",H2="_slidein_18u2w_1",oi={sidebar:O2,sidebar_shown:R2,wrapper:D2,thePage:B2,outerStyles:N2,SelectorBar:M2,fixed:F2,flexrow:j2,wrap:U2,abilityscore:q2,sideBarBtn:K2,animate:z2,slidein:H2},W2="_subrace_1t2pp_1",V2={subrace:W2};var G2=k("<div><h3>Sub Races"),rr=k("<br>"),Jc=k("<div>"),Y2=k("<span>languages:"),Ra=k("<span>"),Z2=k("<h3>languages to choose from"),X2=k("<div><span>name: </span><br><br><span>Ability Score increases:</span><br>"),J2=k("<span><br><span></span> <span></span><br>"),Q2=k("<span>: ");const eC=t=>{Ve();let e=t.race;return o(V,{get when(){return e?.subRaces?.length>0},get children(){return o(eo,{get children(){return[G2(),(()=>{var n=Jc();return g(n,o(V,{get when(){return e?.subRaces.length>0},get children(){return[rr(),(()=>{var r=Jc();return g(r,o(J,{get each(){return e?.subRaces},children:s=>[(()=>{var i=X2(),a=i.firstChild;a.firstChild;var l=a.nextSibling,c=l.nextSibling,u=c.nextSibling,h=u.nextSibling;return g(a,()=>s.name,null),g(i,o(V,{get when(){return s.abilityBonuses.length>0},get children(){return o(J,{get each(){return s.abilityBonuses},children:d=>(()=>{var f=J2(),m=f.firstChild,_=m.nextSibling,p=_.nextSibling,y=p.nextSibling;return g(_,()=>d.name),g(y,()=>d.value),f})()})}}),h),g(i,o(V,{get when(){return s.traits.length>0},get children(){return o(J,{get each(){return s.traits},children:d=>[rr(),(()=>{var f=Q2(),m=f.firstChild;return g(f,()=>d.name,m),f})(),rr(),(()=>{var f=Ra();return g(f,()=>d.value),f})(),rr()]})}}),h),g(i,o(V,{get when(){return s.languages.length>0},get children(){return[Y2(),rr(),(()=>{var d=Ra();return g(d,()=>s.languages.join(", ")),d})()]}}),null),g(i,o(V,{get when(){return s.languageChoice.choices.length>0},get children(){return[Z2(),o(J,{get each(){return s.languageChoice.choices},children:d=>[(()=>{var f=Ra();return g(f,d),f})(),rr()]})]}}),null),z(d=>{var f=`${s.name}`,m=`${V2.subrace}`;return f!==d.e&&dt(i,"id",d.e=f),m!==d.t&&D(i,d.t=m),d},{e:void 0,t:void 0}),i})(),rr()]})),r})()]}})),n})()]}})}})};var tC=k("<div><div><h1></h1><h2> traits</h2><div><h3>Ability Score Increases: </h3><div></div><h3>Age:</h3><span></span><h3>Alignment:</h3><span></span><h3>Size:</h3><span></span><h3>Speed:</h3><span>ft</span><h3>Race Specific Traits:</h3><span></span><h3>Proficiencies</h3><div></div><h3>Languages:</h3><br>"),Da=k("<br>"),Ba=k("<span>"),nC=k("<div>: ");const rC=t=>{let e=t.styles,n=t.dndSrdRace;return(()=>{var r=tC(),s=r.firstChild,i=s.firstChild,a=i.nextSibling,l=a.firstChild,c=a.nextSibling,u=c.firstChild,h=u.nextSibling,d=h.nextSibling,f=d.nextSibling,m=f.nextSibling,_=m.nextSibling,p=_.nextSibling,y=p.nextSibling,b=y.nextSibling,v=b.nextSibling,$=v.firstChild,S=v.nextSibling,C=S.nextSibling,P=C.nextSibling,w=P.nextSibling,F=w.nextSibling,T=F.nextSibling;return g(i,()=>n().name),g(a,()=>n().name,l),g(h,o(J,{get each(){return n().abilityBonuses},children:I=>[Da(),(()=>{var E=Ba();return g(E,()=>I.name),E})()," ",(()=>{var E=Ba();return g(E,()=>I.value),E})(),Da()]})),g(f,()=>n()?.age),g(_,()=>n()?.alignment),g(y,()=>n()?.sizeDescription),g(v,()=>n()?.speed,$),g(C,o(J,{get each(){return n()?.traits},children:I=>[(()=>{var E=nC(),B=E.firstChild;return g(E,()=>I?.name,B),g(E,o(J,{get each(){return I?.value},children:U=>(()=>{var W=Ba();return g(W,U),z(()=>D(W,`${e.wrap}`)),W})()}),null),E})(),Da()]})),g(w,()=>n()?.startingProficencies?.map(I=>I?.value)?.join(`
`)),g(c,()=>n()?.languageDesc,T),g(c,o(eC,{styles:e,get race(){return n()}}),null),z(I=>{var E=`${e.thePage}`,B=`${n().name}`,U=`${e.abilityscore}`,W=`${e.wrap}`,Q=`${e.wrap}`,le=`${e.wrap}`;return E!==I.e&&D(r,I.e=E),B!==I.t&&dt(i,"id",I.t=B),U!==I.a&&D(h,I.a=U),W!==I.o&&D(f,I.o=W),Q!==I.i&&D(_,I.i=Q),le!==I.n&&D(y,I.n=le),I},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),r})()};var sC=k("<div id=racesComp><h1>Races</h1><div><button></button><span></span><button></button></div><div>");const iC=()=>{const t=iy();Xe(gt);const[e,n]=Ge(),r=O(()=>Ve(e().theme));L([]);const[s,i]=pn(),a=t()?.findIndex(h=>h.name?.toLowerCase()===s?.name?.toLowerCase()),[l,c]=L(a>=0?a:0);s.name||i({name:t().length>0?t()[l()].name:"dragonborn"});const u=O(()=>t().length>0&&l()>=0&&l()<t().length?t()[l()]:{});return z(()=>{i({name:t().length>0?u()?.name:"Dragonborn"})}),(()=>{var h=sC(),d=h.firstChild,f=d.nextSibling,m=f.firstChild,_=m.nextSibling,p=_.nextSibling,y=f.nextSibling;return m.$$click=()=>l()===0?c(b=>t().length-1):c(b=>b-1),g(_,()=>u().name),p.$$click=()=>l()===t().length-1?c(b=>0):c(b=>b+1),g(y,o(rC,{styles:oi,dndSrdRace:u})),z(b=>{var v=`${r().primary} ${oi.outerStyles}`,$=`${oi.SelectorBar}`,S=`${oi.wrapper}`;return v!==b.e&&D(h,b.e=v),$!==b.t&&D(f,b.t=$),S!==b.a&&D(y,b.a=S),b},{e:void 0,t:void 0,a:void 0}),h})()};Jt(["click"]);const aC="_allBackgrounds_osalx_1",lC="_backgrounds_osalx_12",oC="_feature_osalx_23",cC="_totalPanel_osalx_27",uC="_body_osalx_31",ss={allBackgrounds:aC,backgrounds:lC,feature:oC,totalPanel:cC,body:uC};var hC=k("<div><h1>Backgrounds</h1><div></div><div></div>"),dC=k("<div>"),fC=k("<div><h2></h2><div></div><h3></h3><h3>choose: </h3><div></div><br><h3>Starting Equipment</h3><div></div><br><div></div><h3>Skill Proficiencies</h3><div>"),gC=k("<span><h3></h3><br><span>"),is=k("<br>"),Na=k("<span>"),pC=k("<h3>Choose: "),mC=k("<span> ");const vC=()=>{Xe(gt);const[t,e]=Ge(),n=O(()=>Ve(t().theme)),r=Rh(),[s,i]=L(r()||[]),a=O(()=>{if(s().length===0)return r()}),[l,c]=pn();l.name||c({name:r()[0]?.name});const u=r().filter(m=>m.name?.toLowerCase()===(l?.name||r()[0]?.name).toLowerCase())[0],[h,d]=L(u);z(()=>{c({name:h()?.name})});const f=m=>{d(m)};return(()=>{var m=hC(),_=m.firstChild,p=_.nextSibling,y=p.nextSibling;return p.style.setProperty("width","35%"),p.style.setProperty("height","5vh"),p.style.setProperty("margin","0 auto"),g(p,o(Dr,{placeholder:"Search Backgrounds...",dataSource:r,setResults:i})),g(y,o(J,{get each(){return a()},children:b=>o(eo,{get extraSetter(){return f(b)},styles:ss,get children(){return[(()=>{var v=dC();return g(v,()=>h().name),v})(),(()=>{var v=fC(),$=v.firstChild,S=$.nextSibling,C=S.nextSibling,P=C.nextSibling;P.firstChild;var w=P.nextSibling,F=w.nextSibling,T=F.nextSibling,I=T.nextSibling,E=I.nextSibling,B=E.nextSibling,U=B.nextSibling,W=U.nextSibling;return g($,()=>h().name),g(S,o(J,{get each(){return h().feature},children:Q=>[(()=>{var le=gC(),ve=le.firstChild,Ae=ve.nextSibling,q=Ae.nextSibling;return g(ve,()=>Q.name),g(q,()=>Q.value),z(()=>D(q,`${ss.feature}`)),le})(),is()]})),g(C,()=>h().languageChoice.type),g(P,()=>h().languageChoice.choose,null),g(w,o(J,{get each(){return h().languageChoice.choices},children:Q=>[(()=>{var le=Na();return g(le,Q),le})(),is()]})),g(I,o(J,{get each(){return h().startingEquipment},children:Q=>[(()=>{var le=Na();return g(le,()=>Q.item),le})(),is()]})),g(B,o(J,{get each(){return h().startingEquipmentChoices},children:Q=>[(()=>{var le=pC();return le.firstChild,g(le,()=>Q.choose,null),le})(),o(J,{get each(){return Q.choices},children:le=>[(()=>{var ve=mC(),Ae=ve.firstChild;return g(ve,()=>le.quantity,Ae),g(ve,()=>le.item,null),ve})(),is()]})]})),g(W,o(J,{get each(){return h().startingProficiencies},children:Q=>[(()=>{var le=Na();return g(le,()=>Q.value),le})(),is()]})),z(()=>D(v,`${ss.body}`)),v})()]}})})),z(b=>{var v=`${n()?.primary} ${ss.allBackgrounds}`,$=`${ss.backgrounds}`;return v!==b.e&&D(m,b.e=v),$!==b.t&&D(y,b.t=$),b},{e:void 0,t:void 0}),m})()},bC="_classesView_1qmfr_1",yC="_paginator_1qmfr_9",_C="_classesTable_1qmfr_16",wC="_searchBar_1qmfr_31",as={classesView:bC,paginator:yC,classesTable:_C,searchBar:wC};var $C=k("<h1>Classes"),Qc=k("<div>"),ci=k("<span>");const CC=()=>{Xe(gt);const[t,e]=Ge(),n=O(()=>Ve(t().theme)),r=zr(),[s,i]=pn(),[a,l]=L([]),[c,u]=L({});O(()=>c()?.subclasses?.length>0?c()?.subclasses:[]);const[h,d]=L(!1),[f,m]=L([]),_=Rl(),p=y=>[{name:"Edit",action:()=>{_(`/homebrew/create/classes?name=${y.name}`)}},{name:"Calculate Dmg",action:()=>{}}];return z(()=>{i({name:r()?.length>0?c().name:"barbarian"})}),o(Yt,{get class(){return`${n()?.primary}  ${as.classesView}`},get children(){return[$C(),(()=>{var y=Qc();return g(y,o(Dr,{dataSource:r,setResults:m,searchFunction:(b,v)=>b.name.toLowerCase()===v.toLowerCase(),get class(){return`${as.searchBar}`}})),z(()=>D(y,`${as.searchBar}`)),y})(),o(Hn,{data:a,columns:["name","menu","delete"],get class(){return`${as.classesTable}`},get children(){return[o(Be,{name:"name",get children(){return[o(Ne,{get children(){return ci()}}),o(Me,{children:(y,b)=>(()=>{var v=ci();return v.$$click=()=>{u(y),i({name:y.name}),d(!h())},g(v,()=>y.name),v})()})]}}),o(Be,{name:"menu",get children(){return[o(Ne,{get children(){return ci()}}),o(Me,{children:(y,b)=>o(oe,{enableBackgroundClick:!0,get menuItems(){return p(y)},get children(){return o(xh,{})}})})]}}),o(Be,{name:"delete",get children(){return[o(Ne,{get children(){return ci()}}),o(Me,{children:(y,b)=>o(oe,{children:"x"})})]}})]}}),o(V,{get when(){return h()},get children(){return o(Db,{boolean:h,booleanSetter:d,currentClass:c})}}),(()=>{var y=Qc();return g(y,o(hr,{items:f,setPaginatedItems:l})),z(()=>D(y,`${as.paginator}`)),y})()]}})};Jt(["click"]);const od=El(()=>qi(()=>import("./characters-Q87jQ43-.js"),__vite__mapDeps([0,1]))),cd=El(()=>qi(()=>import("./create-OcJIt3dz.js"),__vite__mapDeps([2,1]))),ud=El(()=>qi(()=>import("./view-GNNKW8ZF.js"),__vite__mapDeps([3,4]))),kC=document.getElementById("root"),SC=60*1e3;ad({onRegisteredSW(t,e){e&&setInterval(()=>{od.preload(),cd.preload(),ud.preload(),e.update()},SC)},onRegisterError(t){console.log("SW registration error",t)},onNeedRefresh(){console.log("onNeedRefresh")},onOfflineReady(){console.log("onOfflineReady")}});Fd(()=>o(Sf,{root:rv,get children(){return[o(at,{path:"/",component:g_}),o(at,{path:"/characters",get children(){return[o(at,{path:"/",component:od}),o(at,{path:"/view",component:ud}),o(at,{path:"/create",component:cd})]}}),o(at,{path:"/info",get children(){return[o(at,{path:"/races",component:iC}),o(at,{path:"/spells",component:Yc}),o(at,{path:"/feats",component:I2}),o(at,{path:"/classes",component:CC}),o(at,{path:"/backgrounds",component:vC}),o(at,{path:"/*any",component:Yc})]}}),o(at,{path:"/homebrew",get children(){return[o(at,{path:"/",component:__}),o(at,{path:"/view",component:Kc}),o(at,{path:"/create",get children(){return[o(at,{path:"/",component:T_}),o(at,{path:"/classes",component:Jw}),o(at,{path:"/subclasses",component:ww}),o(at,{path:"/items",component:i$}),o(at,{path:"/feats",component:m$}),o(at,{path:"/backgrounds",component:y$}),o(at,{path:"/spells",component:O$}),o(at,{path:"/races",component:B$})]}}),o(at,{path:"/*any",component:Kc})]}})]}}),kC);export{oe as B,J as F,o as a,z as b,O as c,D as d,TC as e,zr as f,Ge as g,Fh as h,g as i,so as j,iy as k,Nh as l,Rh as m,L as n,xC as o,pn as p,dt as s,k as t,Ve as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/characters-Q87jQ43-.js","assets/characters-i2fzY9Kk.css","assets/create-OcJIt3dz.js","assets/view-GNNKW8ZF.js","assets/view-aa-IgBHj.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
