import{u as I,d as N,a as m,i,c as o,e as A,s as K,F as R,b as S,t as d,f as O,g as D,h as F,j,k as q,l as J,m as Q,n as U}from"./index-CS2knHUv.js";import{u as X}from"./useCharacters-q3EoJJ0k.js";const Y="_mainBody_1x0kc_1",Z={mainBody:Y},ee="_statBlocks_1g289_1",te={statBlocks:ee},ae="_statStyle_1qcla_1",re="_stat_1qcla_1",ie="_secondBox_1qcla_51",P={statStyle:ae,stat:re,secondBox:ie};var se=d("<div><div><span><span></span><ul><li></li><li></li></ul></span></div><div><ul><li> Saving Throw: "),ne=d("<li><span></span><label> <!> </label><span><u>_<!>_"),le=d("<u>✓✓ "),ce=d("<u>✓_ "),oe=d("<u>__");const H=[{name:"Acrobatics",proficient:!0,expertise:!1},{name:"Animal Handling",proficient:!1,expertise:!1},{name:"Arcana",proficient:!1,expertise:!1},{name:"Athletics",proficient:!1,expertise:!1},{name:"Deception",proficient:!1,expertise:!1},{name:"History",proficient:!1,expertise:!1},{name:"Insight",proficient:!1,expertise:!1},{name:"Intimidation",proficient:!1,expertise:!1},{name:"Investigation",proficient:!1,expertise:!1},{name:"Medicine",proficient:!1,expertise:!1},{name:"Nature",proficient:!1,expertise:!1},{name:"Perception",proficient:!1,expertise:!1},{name:"Performance",proficient:!1,expertise:!1},{name:"Persuasion",proficient:!1,expertise:!1},{name:"Religion",proficient:!1,expertise:!1},{name:"Sleight of Hand",proficient:!1,expertise:!1},{name:"Stealth",proficient:!1,expertise:!1},{name:"Survival",proficient:!1,expertise:!1}],_=e=>{const n=t=>Math.floor((t-10)/2),a=I(),[l,f]=N(H);m(()=>{f(H.map(t=>(e.skills.includes(t.name)&&(t={...t,proficient:!0}),e.expertise?.includes(t.name)&&(t={...t,proficient:!0,expertise:!0}),t)))});const u=t=>{switch(t){case"Strength":return["Athletics"];case"Dexterity":return["Acrobatics","Sleight of Hand","Stealth"];case"Constitution":return[];case"Intelligence":return["Arcana","History","Investigation","Nature","Religion"];case"Wisdom":return["Animal Handling","Insight","Medicine","Perception","Survival"];case"Charisma":return["Deception","Intimidation","Performance","Persuasion"];default:return[]}},s=t=>{let c=n(e.stat);return t.proficient&&(c+=e.proficientMod),t.expertise&&(c+=e.proficientMod),c};return(()=>{var t=se(),c=t.firstChild,h=c.firstChild,v=h.firstChild,M=v.nextSibling,C=M.firstChild,$=C.nextSibling,B=c.nextSibling,p=B.firstChild,g=p.firstChild,y=g.firstChild;return i(v,()=>n(e.stat)),i(C,()=>e.stat),i($,()=>e.name),i(g,()=>e.name,y),i(p,o(R,{get each(){return l().filter(r=>u(e.name).includes(r.name))},children:r=>(()=>{var b=ne(),k=b.firstChild,x=k.nextSibling,w=x.firstChild,L=w.nextSibling;L.nextSibling;var V=x.nextSibling,E=V.firstChild,W=E.firstChild,G=W.nextSibling;return G.nextSibling,i(k,(()=>{var T=A(()=>!!r.proficient);return()=>T()?(()=>{var z=A(()=>!!r.expertise);return()=>z()?le():ce()})():oe()})()),i(x,()=>r.name,L),i(E,()=>s(r),G),m(()=>K(x,"for",r.name)),b})()}),null),m(r=>{var b=`${P.statStyle}`,k=`${P.stat}`,x=`${a.accent}`,w=`${P.secondBox}`;return b!==r.e&&S(t,r.e=b),k!==r.t&&S(c,r.t=k),x!==r.a&&S(v,r.a=x),w!==r.o&&S(B,r.o=w),r},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()};var fe=d("<div>");const ue=e=>{I();const n=a=>Math.ceil(a/4)+1;return(()=>{var a=fe();return i(a,o(_,{get stat(){return e.fullStats().str},name:"Strength",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),i(a,o(_,{get stat(){return e.fullStats().dex},name:"Dexterity",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),i(a,o(_,{get stat(){return e.fullStats().con},name:"Constitution",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),i(a,o(_,{get stat(){return e.fullStats().int},name:"Intelligence",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),i(a,o(_,{get stat(){return e.fullStats().wis},name:"Wisdom",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),i(a,o(_,{get stat(){return e.fullStats().cha},name:"Charisma",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),m(()=>S(a,`${te.statBlocks}`)),a})()},me=e=>A(()=>{O(),D(),F();const a=j();q(),J();const l=a().filter(u=>u.name.toLowerCase()===e()?.race.toLowerCase())[0];let f={str:e()?.stats.str,dex:e()?.stats.dex,con:e()?.stats.con,int:e()?.stats.int,wis:e()?.stats.wis,cha:e()?.stats.cha};if(l&&l.abilityBonuses.length>0){l.abilityBonuses.forEach(s=>{Object.keys(f).forEach(t=>{s.name.toLowerCase()===t&&(f[t]+=s.value)})});const u=l.subRaces?.filter(s=>s.name.toLowerCase()===e()?.subrace?.toLowerCase())[0];u&&u.abilityBonuses.forEach(s=>{Object.keys(f).forEach(t=>{s.name.toLowerCase()===t&&(f[t]+=s.value)})})}return f});var de=d("<div><h1>Characters View</h1><div><div><select></select></div><div><div><h2>Stats"),he=d("<option>");const _e=()=>{const e=I();Q();const[n,a]=U(),[l,f]=X();n.name||a({name:l()[0].name});const u=l().filter(h=>h.name.toLowerCase()===(n.name||l()[0].name).toLowerCase())[0],[s,t]=N(u),c=me(s);return O(),D(),F(),j(),q(),J(),m(()=>{a({name:s().name})}),(()=>{var h=de(),v=h.firstChild,M=v.nextSibling,C=M.firstChild,$=C.firstChild,B=C.nextSibling,p=B.firstChild;return p.firstChild,$.addEventListener("change",g=>t(()=>JSON.parse(g.target.value))),i($,o(R,{get each(){return l()},children:g=>(()=>{var y=he();return i(y,()=>g.name),m(()=>y.value=JSON.stringify(g)),y})()})),i(p,o(ue,{fullStats:c,currentCharacter:s}),null),m(()=>S(h,`${e.accent} ${Z.mainBody}`)),m(()=>$.value=JSON.stringify(s())),h})()};export{_e as default};
