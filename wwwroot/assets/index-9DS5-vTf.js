(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const No="modulepreload",Mo=function(e){return"/"+e},Si={},Mn=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=Mo(o),o in Si)return;Si[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const d=s[h];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":No,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},V={context:void 0,registry:void 0};function It(e){V.context=e}const Fo=(e,t)=>e===t,kn=Symbol("solid-proxy"),qo=Symbol("solid-track"),Cn={equals:Fo};let hs=ys;const Ne=1,Pn=2,ds={owned:null,cleanups:null,context:null,owner:null},Yn={};var z=null;let Gn=null,Vo=null,Y=null,de=null,Le=null,Fn=0;function gt(e,t){const n=Y,r=z,i=e.length===0,s=t===void 0?r:t,o=i?ds:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=i?e:()=>e(()=>se(()=>Un(o)));z=o,Y=null;try{return De(a,!0)}finally{Y=n,z=r}}function D(e,t){t=t?Object.assign({},Cn,t):Cn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),gs(n,i));return[ms.bind(n),r]}function xi(e,t,n){const r=Vn(e,t,!0,Ne);xt(r)}function A(e,t,n){const r=Vn(e,t,!1,Ne);xt(r)}function Uo(e,t,n){hs=Qo;const r=Vn(e,t,!1,Ne);(!n||!n.render)&&(r.user=!0),Le?Le.push(r):xt(r)}function U(e,t,n){n=n?Object.assign({},Cn,n):Cn;const r=Vn(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,xt(r),ms.bind(r)}function Wo(e){return e&&typeof e=="object"&&"then"in e}function zo(e,t,n){let r,i,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,i=e,s=t||{}):(r=e,i=t,s=n||{});let o=null,a=Yn,l=null,c=!1,u="initialValue"in s,h=typeof r=="function"&&U(r);const d=new Set,[f,b]=(s.storage||D)(s.initialValue),[m,y]=D(void 0),[g,p]=D(void 0,{equals:!1}),[w,$]=D(u?"ready":"unresolved");if(V.context){l=`${V.context.id}${V.context.count++}`;let k;s.ssrLoadFrom==="initial"?a=s.initialValue:V.load&&(k=V.load(l))&&(a=k)}function S(k,R,T,E){return o===k&&(o=null,E!==void 0&&(u=!0),(k===a||R===a)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(E,{value:R})),a=Yn,P(R,T)),R}function P(k,R){De(()=>{R===void 0&&b(()=>k),$(R!==void 0?"errored":u?"ready":"unresolved"),y(R);for(const T of d.keys())T.decrement();d.clear()},!1)}function C(){const k=Yo,R=f(),T=m();if(T!==void 0&&!o)throw T;return Y&&!Y.user&&k&&xi(()=>{g(),o&&(k.resolved||d.has(k)||(k.increment(),d.add(k)))}),R}function I(k=!0){if(k!==!1&&c)return;c=!1;const R=h?h():r;if(R==null||R===!1){S(o,se(f));return}const T=a!==Yn?a:se(()=>i(R,{value:f(),refetching:k}));return Wo(T)?(o=T,"value"in T?(T.status==="success"?S(o,T.value,void 0,R):S(o,void 0,void 0,R),T):(c=!0,queueMicrotask(()=>c=!1),De(()=>{$(u?"refreshing":"pending"),p()},!1),T.then(E=>S(T,E,void 0,R),E=>S(T,void 0,bs(E),R)))):(S(o,T,void 0,R),T)}return Object.defineProperties(C,{state:{get:()=>w()},error:{get:()=>m()},loading:{get(){const k=w();return k==="pending"||k==="refreshing"}},latest:{get(){if(!u)return C();const k=m();if(k&&!o)throw k;return f()}}}),h?xi(()=>I(!1)):I(!1),[C,{refetch:I,mutate:b}]}function se(e){if(Y===null)return e();const t=Y;Y=null;try{return e()}finally{Y=t}}function fs(e,t,n){const r=Array.isArray(e);let i,s=n&&n.defer;return o=>{let a;if(r){a=Array(e.length);for(let c=0;c<e.length;c++)a[c]=e[c]()}else a=e();if(s){s=!1;return}const l=se(()=>t(a,i,o));return i=a,l}}function wt(e){return z===null||(z.cleanups===null?z.cleanups=[e]:z.cleanups.push(e)),e}function En(){return z}function ei(e,t){const n=z,r=Y;z=e,Y=null;try{return De(t,!0)}catch(i){ni(i)}finally{z=n,Y=r}}function Ho(e){const t=Y,n=z;return Promise.resolve().then(()=>{Y=t,z=n;let r;return De(e,!1),Y=z=null,r?r.done:void 0})}function ps(e,t){const n=Symbol("context");return{id:n,Provider:Jo(n),defaultValue:e}}function ti(e){return z&&z.context&&z.context[e.id]!==void 0?z.context[e.id]:e.defaultValue}function qn(e){const t=U(e),n=U(()=>vr(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Yo;function ms(){if(this.sources&&this.state)if(this.state===Ne)xt(this);else{const e=de;de=null,De(()=>Rn(this),!1),de=e}if(Y){const e=this.observers?this.observers.length:0;Y.sources?(Y.sources.push(this),Y.sourceSlots.push(e)):(Y.sources=[this],Y.sourceSlots=[e]),this.observers?(this.observers.push(Y),this.observerSlots.push(Y.sources.length-1)):(this.observers=[Y],this.observerSlots=[Y.sources.length-1])}return this.value}function gs(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&De(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],o=Gn&&Gn.running;o&&Gn.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?de.push(s):Le.push(s),s.observers&&vs(s)),o||(s.state=Ne)}if(de.length>1e6)throw de=[],new Error},!1)),t}function xt(e){if(!e.fn)return;Un(e);const t=Fn;Go(e,e.value,t)}function Go(e,t,n){let r;const i=z,s=Y;Y=z=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=Ne,e.owned&&e.owned.forEach(Un),e.owned=null),e.updatedAt=n+1,ni(o)}finally{Y=s,z=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?gs(e,r):e.value=r,e.updatedAt=n)}function Vn(e,t,n,r=Ne,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:z,context:z?z.context:null,pure:n};return z===null||z!==ds&&(z.owned?z.owned.push(s):z.owned=[s]),s}function An(e){if(e.state===0)return;if(e.state===Pn)return Rn(e);if(e.suspense&&se(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Fn);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Ne)xt(e);else if(e.state===Pn){const r=de;de=null,De(()=>Rn(e,t[0]),!1),de=r}}function De(e,t){if(de)return e();let n=!1;t||(de=[]),Le?n=!0:Le=[],Fn++;try{const r=e();return Xo(n),r}catch(r){n||(Le=null),de=null,ni(r)}}function Xo(e){if(de&&(ys(de),de=null),e)return;const t=Le;Le=null,t.length&&De(()=>hs(t),!1)}function ys(e){for(let t=0;t<e.length;t++)An(e[t])}function Qo(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:An(r)}if(V.context){if(V.count){V.effects||(V.effects=[]),V.effects.push(...e.slice(0,n));return}else V.effects&&(e=[...V.effects,...e],n+=V.effects.length,delete V.effects);It()}for(t=0;t<n;t++)An(e[t])}function Rn(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===Ne?r!==t&&(!r.updatedAt||r.updatedAt<Fn)&&An(r):i===Pn&&Rn(r,t)}}}function vs(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Pn,n.pure?de.push(n):Le.push(n),n.observers&&vs(n))}}function Un(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Un(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function bs(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ni(e,t=z){throw bs(e)}function vr(e){if(typeof e=="function"&&!e.length)return vr(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=vr(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Jo(e,t){return function(r){let i;return A(()=>i=se(()=>(z.context={...z.context,[e]:r.value},qn(()=>r.children))),void 0),i}}const Zo=Symbol("fallback");function ki(e){for(let t=0;t<e.length;t++)e[t]()}function ea(e,t,n={}){let r=[],i=[],s=[],o=0,a=t.length>1?[]:null;return wt(()=>ki(s)),()=>{let l=e()||[],c,u;return l[qo],se(()=>{let d=l.length,f,b,m,y,g,p,w,$,S;if(d===0)o!==0&&(ki(s),s=[],r=[],i=[],o=0,a&&(a=[])),n.fallback&&(r=[Zo],i[0]=gt(P=>(s[0]=P,n.fallback())),o=1);else if(o===0){for(i=new Array(d),u=0;u<d;u++)r[u]=l[u],i[u]=gt(h);o=d}else{for(m=new Array(d),y=new Array(d),a&&(g=new Array(d)),p=0,w=Math.min(o,d);p<w&&r[p]===l[p];p++);for(w=o-1,$=d-1;w>=p&&$>=p&&r[w]===l[$];w--,$--)m[$]=i[w],y[$]=s[w],a&&(g[$]=a[w]);for(f=new Map,b=new Array($+1),u=$;u>=p;u--)S=l[u],c=f.get(S),b[u]=c===void 0?-1:c,f.set(S,u);for(c=p;c<=w;c++)S=r[c],u=f.get(S),u!==void 0&&u!==-1?(m[u]=i[c],y[u]=s[c],a&&(g[u]=a[c]),u=b[u],f.set(S,u)):s[c]();for(u=p;u<d;u++)u in m?(i[u]=m[u],s[u]=y[u],a&&(a[u]=g[u],a[u](u))):i[u]=gt(h);i=i.slice(0,o=d),r=l.slice(0)}return i});function h(d){if(s[u]=d,a){const[f,b]=D(u);return a[u]=b,t(l[u],f)}return t(l[u])}}}function _(e,t){return se(()=>e(t||{}))}function rn(){return!0}const br={get(e,t,n){return t===kn?n:e.get(t)},has(e,t){return t===kn?!0:e.has(t)},set:rn,deleteProperty:rn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:rn,deleteProperty:rn}},ownKeys(e){return e.keys()}};function Xn(e){return(e=typeof e=="function"?e():e)?e:{}}function ta(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Vt(...e){let t=!1;for(let o=0;o<e.length;o++){const a=e[o];t=t||!!a&&kn in a,e[o]=typeof a=="function"?(t=!0,U(a)):a}if(t)return new Proxy({get(o){for(let a=e.length-1;a>=0;a--){const l=Xn(e[a])[o];if(l!==void 0)return l}},has(o){for(let a=e.length-1;a>=0;a--)if(o in Xn(e[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<e.length;a++)o.push(...Object.keys(Xn(e[a])));return[...new Set(o)]}},br);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const a=e[o];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const h=Object.getOwnPropertyDescriptor(a,u);if(!r[u])r[u]=h.get?{enumerable:!0,configurable:!0,get:ta.bind(n[u]=[h.get.bind(a)])}:h.value!==void 0?h:void 0;else{const d=n[u];d&&(h.get?d.push(h.get.bind(a)):h.value!==void 0&&d.push(()=>h.value))}}}const i={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const a=s[o],l=r[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function na(e,...t){if(kn in e){const i=new Set(t.length>1?t.flat():t[0]),s=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},br));return s.push(new Proxy({get(o){return i.has(o)?void 0:e[o]},has(o){return i.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!i.has(o))}},br)),s}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let a=!1,l=0;for(const c of t)c.includes(i)&&(a=!0,o?r[l][i]=s.value:Object.defineProperty(r[l],i,s)),++l;a||(o?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}function ri(e){let t,n;const r=i=>{const s=V.context;if(s){const[a,l]=D();V.count||(V.count=0),V.count++,(n||(n=e())).then(c=>{It(s),V.count--,l(()=>c.default),It()}),t=a}else if(!t){const[a]=zo(()=>(n||(n=e())).then(l=>l.default));t=a}let o;return U(()=>(o=t())&&se(()=>{if(!s)return o(i);const a=V.context;It(s);const l=o(i);return It(a),l}))};return r.preload=()=>n||((n=e()).then(i=>t=()=>i.default),n),r}const _s=e=>`Stale read from <${e}>.`;function F(e){const t="fallback"in e&&{fallback:()=>e.fallback};return U(ea(()=>e.each,e.children,t||void 0))}function K(e){const t=e.keyed,n=U(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return U(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?se(()=>i(t?r:()=>{if(!se(n))throw _s("Show");return e.when})):i}return e.fallback},void 0,void 0)}function On(e){let t=!1;const n=(s,o)=>(t?s[1]===o[1]:!s[1]==!o[1])&&s[2]===o[2],r=qn(()=>e.children),i=U(()=>{let s=r();Array.isArray(s)||(s=[s]);for(let o=0;o<s.length;o++){const a=s[o].when;if(a)return t=!!s[o].keyed,[o,a,s[o]]}return[-1]},void 0,{equals:n});return U(()=>{const[s,o,a]=i();if(s<0)return e.fallback;const l=a.children;return typeof l=="function"&&l.length>0?se(()=>l(t?o:()=>{if(se(i)[0]!==s)throw _s("Match");return a.when})):l},void 0,void 0)}function Pe(e){return e}const ra=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],ia=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...ra]),sa=new Set(["innerHTML","textContent","innerText","children"]),oa=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),aa=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function la(e,t){const n=aa[e];return typeof n=="object"?n[t]?n.$:void 0:n}const ca=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ua={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ha(e,t,n){let r=n.length,i=t.length,s=r,o=0,a=0,l=t[i-1].nextSibling,c=null;for(;o<i||a<s;){if(t[o]===n[a]){o++,a++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===o){const u=s<r?a?n[a-1].nextSibling:n[s-a]:l;for(;a<s;)e.insertBefore(n[a++],u)}else if(s===a)for(;o<i;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[s-1]&&n[a]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--s],u),t[i]=n[s]}else{if(!c){c=new Map;let h=a;for(;h<s;)c.set(n[h],h++)}const u=c.get(t[o]);if(u!=null)if(a<u&&u<s){let h=o,d=1,f;for(;++h<i&&h<s&&!((f=c.get(t[h]))==null||f!==u+d);)d++;if(d>u-a){const b=t[o];for(;a<u;)e.insertBefore(n[a++],b)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const Ci="_$DX_DELEGATE";function da(e,t,n,r={}){let i;return gt(s=>{i=s,t===document?e():v(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function x(e,t,n){let r;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:o.content.firstChild},s=t?()=>se(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return s.cloneNode=s,s}function ge(e,t=window.document){const n=t[Ci]||(t[Ci]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,va))}}function We(e,t,n){V.context||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function fa(e,t,n,r){V.context||(r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r))}function O(e,t){V.context||(t==null?e.removeAttribute("class"):e.className=t)}function Wn(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=s=>i.call(e,n[1],s))}else e.addEventListener(t,n)}function pa(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const a=i[s];!a||a==="undefined"||t[a]||(Pi(e,a,!1),delete n[a])}for(s=0,o=r.length;s<o;s++){const a=r[s],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(Pi(e,a,!0),n[a]=l)}return n}function _r(e,t,n){if(!t)return n?We(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function ii(e,t={},n,r){const i={};return r||A(()=>i.children=$t(e,t.children,i.children)),A(()=>t.ref&&t.ref(e)),A(()=>ga(e,t,n,!0,i,!0)),i}function ma(e,t,n){return se(()=>e(t,n))}function v(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return $t(e,t,r,n);A(i=>$t(e,t(),i,n),r)}function ga(e,t,n,r,i={},s=!1){t||(t={});for(const o in i)if(!(o in t)){if(o==="children")continue;i[o]=Ei(e,o,null,i[o],n,s)}for(const o in t){if(o==="children"){r||$t(e,t.children);continue}const a=t[o];i[o]=Ei(e,o,a,i[o],n,s)}}function ya(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Pi(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function Ei(e,t,n,r,i,s){let o,a,l,c,u;if(t==="style")return _r(e,n,r);if(t==="classList")return pa(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);r&&e.removeEventListener(h,r),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);r&&e.removeEventListener(h,r,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),d=ca.has(h);if(!d&&r){const f=Array.isArray(r)?r[0]:r;e.removeEventListener(h,f)}(d||n)&&(Wn(e,h,n,d),d&&ge([h]))}else if(t.slice(0,5)==="attr:")We(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(l=sa.has(t))||!i&&((c=la(t,e.tagName))||(a=ia.has(t)))||(o=e.nodeName.includes("-"))){if(u)t=t.slice(5),a=!0;else if(V.context)return n;t==="class"||t==="className"?O(e,n):o&&!a&&!l?e[ya(t)]=n:e[c||t]=n}else{const h=i&&t.indexOf(":")>-1&&ua[t.split(":")[0]];h?fa(e,h,t,n):We(e,oa[t]||t,n)}return n}function va(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),V.registry&&!V.done&&(V.done=_$HY.done=!0);n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function $t(e,t,n,r,i){if(V.context){!n&&(n=[...e.childNodes]);let a=[];for(let l=0;l<n.length;l++){const c=n[l];c.nodeType===8&&c.data.slice(0,2)==="!$"?c.remove():a.push(c)}n=a}for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(V.context)return n;if(s==="number"&&(t=t.toString()),o){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=ht(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean"){if(V.context)return n;n=ht(e,n,r)}else{if(s==="function")return A(()=>{let a=t();for(;typeof a=="function";)a=a();n=$t(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(wr(a,t,n,i))return A(()=>n=$t(e,a,n,r,!0)),()=>n;if(V.context){if(!a.length)return n;if(r===void 0)return[...e.childNodes];let c=a[0],u=[c];for(;(c=c.nextSibling)!==r;)u.push(c);return n=u}if(a.length===0){if(n=ht(e,n,r),o)return n}else l?n.length===0?Ai(e,a,r):ha(e,n,a):(n&&ht(e),Ai(e,a));n=a}else if(t.nodeType){if(V.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=ht(e,n,r,t);ht(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function wr(e,t,n,r){let i=!1;for(let s=0,o=t.length;s<o;s++){let a=t[s],l=n&&n[s],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=wr(e,a,l)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=wr(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else e.push(a),i=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return i}function Ai(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function ht(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(i!==a){const l=a.parentNode===e;!s&&!o?l?e.replaceChild(i,a):e.insertBefore(i,n):l&&a.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}const ba=!1,_a="http://www.w3.org/2000/svg";function wa(e,t=!1){return t?document.createElementNS(_a,e):document.createElement(e)}function $a(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,i=En();let s,o=!!V.context;return Uo(()=>{o&&(En().user=o=!1),s||(s=ei(i,()=>U(()=>e.children)));const a=r();if(a instanceof HTMLHeadElement){const[l,c]=D(!1),u=()=>c(!0);gt(h=>v(a,()=>l()?h():s(),null)),wt(u)}else{const l=wa(e.isSVG?"g":"div",e.isSVG),c=t&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return n.parentNode},configurable:!0}),v(c,s),a.appendChild(l),e.ref&&e.ref(l),wt(()=>a.removeChild(l))}},void 0,{render:!o}),n}function ws(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,s){if(n)return!(n=!1);const o={to:i,options:s,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of e)a.listener({...o,from:a.location,retry:l=>{l&&(n=!0),a.navigate(i,{...s,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}let $r;function si(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),$r=window.history.state._depth}si();function Sa(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function xa(e,t){let n=!1;return()=>{const r=$r;si();const i=r==null?null:$r-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const ka=/^(?:[a-z0-9]+:)?\/\//i,Ca=/^\/+|(\/)\/+$/g,$s="http://sr";function et(e,t=!1){const n=e.replace(Ca,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function gn(e,t,n){if(ka.test(t))return;const r=et(e),i=n&&et(n);let s="";return!i||t.startsWith("/")?s=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?s=r+i:s=i,(s||"/")+et(t,!s)}function Pa(e,t){if(e==null)throw new Error(t);return e}function Ea(e,t){return et(e).replace(/\/*(\*.*)?$/g,"")+et(t)}function Ss(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function Aa(e,t,n){const[r,i]=e.split("/*",2),s=r.split("/").filter(Boolean),o=s.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-o;if(c<0||c>0&&i===void 0&&!t)return null;const u={path:o?"":"/",params:{}},h=d=>n===void 0?void 0:n[d];for(let d=0;d<o;d++){const f=s[d],b=l[d],m=f[0]===":",y=m?f.slice(1):f;if(m&&Qn(b,h(y)))u.params[y]=b;else if(m||!Qn(b,f))return null;u.path+=`/${b}`}if(i){const d=c?l.slice(-c).join("/"):"";if(Qn(d,h(i)))u.params[i]=d;else return null}return u}}function Qn(e,t){const n=r=>r.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Ra(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,s)=>i+(s.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function xs(e){const t=new Map,n=En();return new Proxy({},{get(r,i){return t.has(i)||ei(n,()=>t.set(i,U(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function Oa(e,t){const n=new URLSearchParams(e);Object.entries(t).forEach(([i,s])=>{s==null||s===""?n.delete(i):n.set(i,String(s))});const r=n.toString();return r?`?${r}`:""}function ks(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return ks(r).reduce((s,o)=>[...s,...i.map(a=>a+o)],[])}const Ta=100,Cs=ps(),oi=ps(),Zt=()=>Pa(ti(Cs),"<A> and 'use' router primitives can be only used inside a Route."),Ba=()=>ti(oi)||Zt().base,La=e=>{const t=Ba();return U(()=>t.resolvePath(e()))},Ia=e=>{const t=Zt();return U(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},ja=()=>Zt().navigatorFactory(),Ps=()=>Zt().location,zf=()=>Zt().params,Hf=()=>{const e=Ps(),t=ja(),n=(r,i)=>{const s=se(()=>e.pathname+Oa(e.search,r)+e.hash);t(s,{scroll:!1,resolve:!1,...i})};return[e.query,n]};function Da(e,t=""){const{component:n,load:r,children:i,info:s}=e,o=!i||Array.isArray(i)&&!i.length,a={key:e,component:n,load:r,info:s};return Es(e.path).reduce((l,c)=>{for(const u of ks(c)){const h=Ea(t,u);let d=o?h:h.split("/*",1)[0];d=d.split("/").map(f=>f.startsWith(":")||f.startsWith("*")?f:encodeURIComponent(f)).join("/"),l.push({...a,originalPath:c,pattern:d,matcher:Aa(d,!o,e.matchFilters)})}return l},[])}function Ka(e,t=0){return{routes:e,score:Ra(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],o=s.matcher(n);if(!o)return null;r.unshift({...o,route:s})}return r}}}function Es(e){return Array.isArray(e)?e:[e]}function As(e,t="",n=[],r=[]){const i=Es(e);for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=Da(a,t);for(const c of l){n.push(c);const u=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!u)As(a.children,c.pattern,n,r);else{const h=Ka([...n],r.length);r.push(h)}n.pop()}}}return n.length?r:r.sort((s,o)=>o.score-s.score)}function Jn(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function Na(e,t){const n=new URL($s),r=U(l=>{const c=e();try{return new URL(c,n)}catch{return console.error(`Invalid path ${c}`),l}},n,{equals:(l,c)=>l.href===c.href}),i=U(()=>r().pathname),s=U(()=>r().search,!0),o=U(()=>r().hash),a=()=>"";return{get pathname(){return i()},get search(){return s()},get hash(){return o()},get state(){return t()},get key(){return a()},query:xs(fs(s,()=>Ss(r())))}}let Re;function Ma(){return Re}function Fa(e,t,n,r={}){const{signal:[i,s],utils:o={}}=e,a=o.parsePath||(E=>E),l=o.renderPath||(E=>E),c=o.beforeLeave||ws(),u=gn("",r.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!i().value&&s({value:u,replace:!0,scroll:!1});const[h,d]=D(!1),f=async E=>{d(!0);try{await Ho(E)}finally{d(!1)}},[b,m]=D(i().value),[y,g]=D(i().state),p=Na(b,y),w=[],$=D([]),S=U(()=>typeof r.transformUrl=="function"?Jn(t(),r.transformUrl(p.pathname)):Jn(t(),p.pathname)),P=xs(()=>{const E=S(),B={};for(let N=0;N<E.length;N++)Object.assign(B,E[N].params);return B}),C={pattern:u,path:()=>u,outlet:()=>null,resolvePath(E){return gn(u,E)}};return A(()=>{const{value:E,state:B}=i();se(()=>{f(()=>{Re="native",E!==b()&&m(E),g(B),$[1]([])}).then(()=>{Re=void 0})})}),{base:C,location:p,params:P,isRouting:h,renderPath:l,parsePath:a,navigatorFactory:k,matches:S,beforeLeave:c,preloadRoute:T,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:$};function I(E,B,N){se(()=>{if(typeof B=="number"){B&&(o.go?o.go(B):console.warn("Router integration does not support relative routing"));return}const{replace:ae,resolve:H,scroll:q,state:W}={replace:!1,resolve:!0,scroll:!0,...N},Q=H?E.resolvePath(B):gn("",B);if(Q===void 0)throw new Error(`Path '${B}' is not a routable path`);if(w.length>=Ta)throw new Error("Too many redirects");const oe=b();if((Q!==oe||W!==y())&&!ba){if(c.confirm(Q,N)){const le=w.push({value:oe,replace:ae,scroll:q,state:y()});f(()=>{Re="navigate",m(Q),g(W),$[1]([])}).then(()=>{w.length===le&&(Re=void 0,R({value:Q,state:W}))})}}})}function k(E){return E=E||ti(oi)||C,(B,N)=>I(E,B,N)}function R(E){const B=w[0];B&&((E.value!==B.value||E.state!==B.state)&&s({...E,replace:B.replace,scroll:B.scroll}),w.length=0)}function T(E,B){const N=Jn(t(),E.pathname),ae=Re;Re="preload";for(let H in N){const{route:q,params:W}=N[H];q.component&&q.component.preload&&q.component.preload();const{load:Q}=q;B&&Q&&ei(n(),()=>Q({params:W,location:{pathname:E.pathname,search:E.search,hash:E.hash,query:Ss(E),state:null,key:""},intent:"preload"}))}Re=ae}}function qa(e,t,n,r){const{base:i,location:s,params:o}=e,{pattern:a,component:l,load:c}=r().route,u=U(()=>r().path);l&&l.preload&&l.preload();const h=c?c({params:o,location:s,intent:Re||"initial"}):void 0;return{parent:t,pattern:a,path:u,outlet:()=>l?_(l,{params:o,location:s,data:h,get children(){return n()}}):n(),resolvePath(f){return gn(i.path(),f,u())}}}const Va=e=>t=>{const{base:n}=t,r=qn(()=>t.children),i=U(()=>As(r(),t.base||""));let s;const o=Fa(e,i,()=>s,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(o),_(Cs.Provider,{value:o,get children(){return _(Ua,{routerState:o,get root(){return t.root},get load(){return t.rootLoad},get children(){return[U(()=>(s=En())&&null),_(Wa,{routerState:o,get branches(){return i()}})]}})}})};function Ua(e){const t=e.routerState.location,n=e.routerState.params,r=U(()=>e.load&&se(()=>{e.load({params:n,location:t,intent:Ma()||"initial"})}));return _(K,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>_(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function Wa(e){const t=[];let n;const r=U(fs(e.routerState.matches,(i,s,o)=>{let a=s&&i.length===s.length;const l=[];for(let c=0,u=i.length;c<u;c++){const h=s&&s[c],d=i[c];o&&h&&d.route.key===h.route.key?l[c]=o[c]:(a=!1,t[c]&&t[c](),gt(f=>{t[c]=f,l[c]=qa(e.routerState,l[c-1]||e.routerState.base,Ri(()=>r()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(i.length).forEach(c=>c()),o&&a?o:(n=l[0],l)}));return Ri(()=>r()&&n)()}const Ri=e=>()=>_(K,{get when(){return e()},keyed:!0,children:t=>_(oi.Provider,{value:t,get children(){return t.outlet()}})}),te=e=>{const t=qn(()=>e.children);return Vt(e,{get children(){return t()}})};function za([e,t],n,r){return[n?()=>n(e()):e,r?i=>t(r(i)):t]}function Ha(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function Ya(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=za(D(n(e.get()),{equals:(i,s)=>i.value===s.value&&i.state===s.state}),void 0,i=>(!t&&e.set(i),i));return e.init&&wt(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),Va({signal:r,create:e.create,utils:e.utils})}function Ga(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Xa(e,t){const n=Ha(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Qa=new Map;function Ja(e=!0,t=!1,n="/_server",r){return i=>{const s=i.base.path(),o=i.navigatorFactory(i.base);let a={};function l(m){return m.namespaceURI==="http://www.w3.org/2000/svg"}function c(m){if(m.defaultPrevented||m.button!==0||m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)return;const y=m.composedPath().find(P=>P instanceof Node&&P.nodeName.toUpperCase()==="A");if(!y||t&&!y.hasAttribute("link"))return;const g=l(y),p=g?y.href.baseVal:y.href;if((g?y.target.baseVal:y.target)||!p&&!y.hasAttribute("state"))return;const $=(y.getAttribute("rel")||"").split(/\s+/);if(y.hasAttribute("download")||$&&$.includes("external"))return;const S=g?new URL(p,document.baseURI):new URL(p);if(!(S.origin!==window.location.origin||s&&S.pathname&&!S.pathname.toLowerCase().startsWith(s.toLowerCase())))return[y,S]}function u(m){const y=c(m);if(!y)return;const[g,p]=y,w=i.parsePath(p.pathname+p.search+p.hash),$=g.getAttribute("state");m.preventDefault(),o(w,{resolve:!1,replace:g.hasAttribute("replace"),scroll:!g.hasAttribute("noscroll"),state:$&&JSON.parse($)})}function h(m){const y=c(m);if(!y)return;const[g,p]=y;typeof r=="function"&&(p.pathname=r(p.pathname)),a[p.pathname]||i.preloadRoute(p,g.getAttribute("preload")!=="false")}function d(m){const y=c(m);if(!y)return;const[g,p]=y;typeof r=="function"&&(p.pathname=r(p.pathname)),!a[p.pathname]&&(a[p.pathname]=setTimeout(()=>{i.preloadRoute(p,g.getAttribute("preload")!=="false"),delete a[p.pathname]},200))}function f(m){const y=c(m);if(!y)return;const[,g]=y;typeof r=="function"&&(g.pathname=r(g.pathname)),a[g.pathname]&&(clearTimeout(a[g.pathname]),delete a[g.pathname])}function b(m){if(m.defaultPrevented)return;let y=m.submitter&&m.submitter.hasAttribute("formaction")?m.submitter.getAttribute("formaction"):m.target.getAttribute("action");if(!y)return;if(!y.startsWith("https://action/")){const p=new URL(y,$s);if(y=i.parsePath(p.pathname+p.search),!y.startsWith(n))return}if(m.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const g=Qa.get(y);if(g){m.preventDefault();const p=new FormData(m.target);m.submitter&&m.submitter.name&&p.append(m.submitter.name,m.submitter.value),g.call({r:i,f:m.target},p)}}ge(["click","submit"]),document.addEventListener("click",u),e&&(document.addEventListener("mouseover",d),document.addEventListener("mouseout",f),document.addEventListener("focusin",h),document.addEventListener("touchstart",h)),document.addEventListener("submit",b),wt(()=>{document.removeEventListener("click",u),e&&(document.removeEventListener("mouseover",d),document.removeEventListener("mouseout",f),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",b)})}}function Za(e){const t=()=>{const r=window.location.pathname+window.location.search;return{value:e.transformUrl?e.transformUrl(r)+window.location.hash:r+window.location.hash,state:window.history.state}},n=ws();return Ya({get:t,set({value:r,replace:i,scroll:s,state:o}){i?window.history.replaceState(Sa(o),"",r):window.history.pushState(o,"",r),Xa(window.location.hash.slice(1),s),si()},init:r=>Ga(window,"popstate",xa(r,i=>{if(i&&i<0)return!n.confirm(i);{const s=t();return!n.confirm(s.value,{state:s.state})}})),create:Ja(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}var el=x("<a>");function Oi(e){e=Vt({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=na(e,["href","state","class","activeClass","inactiveClass","end"]),n=La(()=>e.href),r=Ia(n),i=Ps(),s=U(()=>{const o=n();if(o===void 0)return[!1,!1];const a=et(o.split(/[?#]/,1)[0]).toLowerCase(),l=et(i.pathname).toLowerCase();return[e.end?a===l:l.startsWith(a),a===l]});return(()=>{var o=el();return ii(o,Vt(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!s()[0],[e.activeClass]:s()[0],...t.classList}},link:"",get"aria-current"(){return s()[1]?"page":void 0}}),!1,!1),o})()}var Sr=function(e,t){return Sr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Sr(e,t)};function ai(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Sr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function tl(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Rs(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ut(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function kr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function yt(e){return this instanceof yt?(this.v=e,this):new yt(e)}function nl(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(f){return new Promise(function(b,m){s.push([d,f,b,m])>1||a(d,f)})})}function a(d,f){try{l(r[d](f))}catch(b){h(s[0][3],b)}}function l(d){d.value instanceof yt?Promise.resolve(d.value.v).then(c,u):h(s[0][2],d)}function c(d){a("next",d)}function u(d){a("throw",d)}function h(d,f){d(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function rl(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ut=="function"?Ut(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function ne(e){return typeof e=="function"}function il(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zn=il(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Ti(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var li=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Ut(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else o.remove(this);var u=this.initialTeardown;if(ne(u))try{u()}catch(m){s=m instanceof Zn?m.errors:[m]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=Ut(h),f=d.next();!f.done;f=d.next()){var b=f.value;try{Bi(b)}catch(m){s=s??[],m instanceof Zn?s=kr(kr([],xr(s)),xr(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new Zn(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Bi(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Ti(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Ti(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();li.EMPTY;function Os(e){return e instanceof li||e&&"closed"in e&&ne(e.remove)&&ne(e.add)&&ne(e.unsubscribe)}function Bi(e){ne(e)?e():e.unsubscribe()}var Ts={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Bs={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,kr([e,t],xr(n)))},clearTimeout:function(e){var t=Bs.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ls(e){Bs.setTimeout(function(){throw e})}function Li(){}function sl(e){e()}var ci=function(e){ai(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Os(n)&&n.add(r)):r.destination=cl,r}return t.create=function(n,r,i){return new Cr(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(li),ol=Function.prototype.bind;function er(e,t){return ol.call(e,t)}var al=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){sn(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){sn(r)}else sn(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){sn(n)}},e}(),Cr=function(e){ai(t,e);function t(n,r,i){var s=e.call(this)||this,o;if(ne(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&Ts.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&er(n.next,a),error:n.error&&er(n.error,a),complete:n.complete&&er(n.complete,a)}):o=n}return s.destination=new al(o),s}return t}(ci);function sn(e){Ls(e)}function ll(e){throw e}var cl={closed:!0,next:Li,error:ll,complete:Li},ui=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Is(e){return e}function ul(e){return e.length===0?Is:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var ve=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,s=dl(t)?t:new Cr(t,n,r);return sl(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Ii(n),new n(function(i,s){var o=new Cr({next:function(a){try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[ui]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ul(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Ii(t),new t(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function Ii(e){var t;return(t=e??Ts.Promise)!==null&&t!==void 0?t:Promise}function hl(e){return e&&ne(e.next)&&ne(e.error)&&ne(e.complete)}function dl(e){return e&&e instanceof ci||hl(e)&&Os(e)}function fl(e){return ne(e?.lift)}function at(e){return function(t){if(fl(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function it(e,t,n,r,i){return new pl(e,t,n,r,i)}var pl=function(e){ai(t,e);function t(n,r,i,s,o,a){var l=e.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(c){try{r(c)}catch(u){n.error(u)}}:e.prototype._next,l._error=s?function(c){try{s(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(ci),ml=new ve(function(e){return e.complete()});function gl(e){return e&&ne(e.schedule)}function yl(e){return e[e.length-1]}function vl(e){return gl(yl(e))?e.pop():void 0}var js=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Ds(e){return ne(e?.then)}function Ks(e){return ne(e[ui])}function Ns(e){return Symbol.asyncIterator&&ne(e?.[Symbol.asyncIterator])}function Ms(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function bl(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fs=bl();function qs(e){return ne(e?.[Fs])}function Vs(e){return nl(this,arguments,function(){var n,r,i,s;return Rs(this,function(o){switch(o.label){case 0:n=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,yt(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,yt(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,yt(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Us(e){return ne(e?.getReader)}function kt(e){if(e instanceof ve)return e;if(e!=null){if(Ks(e))return _l(e);if(js(e))return wl(e);if(Ds(e))return $l(e);if(Ns(e))return Ws(e);if(qs(e))return Sl(e);if(Us(e))return xl(e)}throw Ms(e)}function _l(e){return new ve(function(t){var n=e[ui]();if(ne(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wl(e){return new ve(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function $l(e){return new ve(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Ls)})}function Sl(e){return new ve(function(t){var n,r;try{for(var i=Ut(e),s=i.next();!s.done;s=i.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Ws(e){return new ve(function(t){kl(e,t).catch(function(n){return t.error(n)})})}function xl(e){return Ws(Vs(e))}function kl(e,t){var n,r,i,s;return tl(this,void 0,void 0,function(){var o,a;return Rs(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=rl(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Ue(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function zs(e,t){return t===void 0&&(t=0),at(function(n,r){n.subscribe(it(r,function(i){return Ue(r,e,function(){return r.next(i)},t)},function(){return Ue(r,e,function(){return r.complete()},t)},function(i){return Ue(r,e,function(){return r.error(i)},t)}))})}function Hs(e,t){return t===void 0&&(t=0),at(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Cl(e,t){return kt(e).pipe(Hs(t),zs(t))}function Pl(e,t){return kt(e).pipe(Hs(t),zs(t))}function El(e,t){return new ve(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Al(e,t){return new ve(function(n){var r;return Ue(n,t,function(){r=e[Fs](),Ue(n,t,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return ne(r?.return)&&r.return()}})}function Ys(e,t){if(!e)throw new Error("Iterable cannot be null");return new ve(function(n){Ue(n,t,function(){var r=e[Symbol.asyncIterator]();Ue(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function Rl(e,t){return Ys(Vs(e),t)}function Ol(e,t){if(e!=null){if(Ks(e))return Cl(e,t);if(js(e))return El(e,t);if(Ds(e))return Pl(e,t);if(Ns(e))return Ys(e,t);if(qs(e))return Al(e,t);if(Us(e))return Rl(e,t)}throw Ms(e)}function Tl(e,t){return t?Ol(e,t):kt(e)}function ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=vl(e);return Tl(e,n)}function Bl(e,t){return at(function(n,r){var i=0;n.subscribe(it(r,function(s){r.next(e.call(t,s,i++))}))})}function Ll(e,t,n,r,i,s,o,a){var l=[],c=0,u=0,h=!1,d=function(){h&&!l.length&&!c&&t.complete()},f=function(m){return c<r?b(m):l.push(m)},b=function(m){s&&t.next(m),c++;var y=!1;kt(n(m,u++)).subscribe(it(t,function(g){i?.(g),s?f(g):t.next(g)},function(){y=!0},void 0,function(){if(y)try{c--;for(var g=function(){var p=l.shift();o?Ue(t,o,function(){return b(p)}):b(p)};l.length&&c<r;)g();d()}catch(p){t.error(p)}}))};return e.subscribe(it(t,f,function(){h=!0,d()})),function(){a?.()}}function Pr(e,t,n){return n===void 0&&(n=1/0),ne(t)?Pr(function(r,i){return Bl(function(s,o){return t(r,s,i,o)})(kt(e(r,i)))},n):(typeof t=="number"&&(n=t),at(function(r,i){return Ll(r,i,e,n)}))}function lt(e){return at(function(t,n){var r=null,i=!1,s;r=t.subscribe(it(n,void 0,void 0,function(o){s=kt(e(o,lt(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function _e(e,t){return ne(t)?Pr(e,t,1):Pr(e,1)}function we(e){return e<=0?function(){return ml}:at(function(t,n){var r=0;t.subscribe(it(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function $e(e,t,n){var r=ne(e)||t||n?{next:e,error:t,complete:n}:e;return r?at(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(it(s,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},function(){var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Is}class Il{loggedIn=D({});tokenValue=D("");set token(t){this.tokenValue[1](t),this.loggedIn[1]({Authorization:`Bearer ${t}`})}get token(){return this.tokenValue[0]}clearToken(){this.loggedIn[1]({Authorization:""})}toObservable(t){return new ve(n=>{t.then(r=>{n.next(r)}).catch(r=>n.error(r)).finally(()=>n.complete())})}post(t,n,r){return new ve(i=>{fetch(t,{method:"POST",headers:{"Content-Type":"application/json",...r?.headers,...this.loggedIn[0]()},body:JSON.stringify(n)}).then(s=>{if(!s.ok)throw new Error(s.statusText);return s.json()}).then(s=>{i.next(s)}).catch(s=>i.error(s)).finally(()=>i.complete())})}get(t,n){return new ve(r=>{fetch(t,{method:"GET",headers:{"Content-Type":"application/json",...n?.headers,...this.loggedIn[0]()}}).then(i=>{if(!i.ok)throw new Error(i.statusText);return i.json()}).then(i=>{r.next(i)}).catch(i=>r.error(i)).finally(()=>r.complete())})}}const Se=new Il,J=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,re=Object.keys,he=Array.isArray;function me(e,t){return typeof t!="object"||re(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||J.Promise||(J.Promise=Promise);const Wt=Object.getPrototypeOf,jl={}.hasOwnProperty;function be(e,t){return jl.call(e,t)}function St(e,t){typeof t=="function"&&(t=t(Wt(e))),(typeof Reflect>"u"?re:Reflect.ownKeys)(t).forEach(n=>{Ie(e,n,t[n])})}const Gs=Object.defineProperty;function Ie(e,t,n,r){Gs(e,t,me(n&&be(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function vt(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ie(e.prototype,"constructor",e),{extend:St.bind(null,e.prototype)}}}}const Dl=Object.getOwnPropertyDescriptor;function hi(e,t){let n;return Dl(e,t)||(n=Wt(e))&&hi(n,t)}const Kl=[].slice;function Tn(e,t,n){return Kl.call(e,t,n)}function Xs(e,t){return t(e)}function jt(e){if(!e)throw new Error("Assertion Failed")}function Qs(e){J.setImmediate?setImmediate(e):setTimeout(e,0)}function Js(e,t){return e.reduce((n,r,i)=>{var s=t(r,i);return s&&(n[s[0]]=s[1]),n},{})}function je(e,t){if(be(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var s=je(e,t[r]);n.push(s)}return n}var o=t.indexOf(".");if(o!==-1){var a=e[t.substr(0,o)];return a===void 0?void 0:je(a,t.substr(o+1))}}function ke(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){jt(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)ke(e,t[r],n[r])}else{var s=t.indexOf(".");if(s!==-1){var o=t.substr(0,s),a=t.substr(s+1);if(a==="")n===void 0?he(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var l=e[o];l&&be(e,o)||(l=e[o]={}),ke(l,a,n)}}else n===void 0?he(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Zs(e){var t={};for(var n in e)be(e,n)&&(t[n]=e[n]);return t}const Nl=[].concat;function eo(e){return Nl.apply([],e)}const to="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(eo([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>J[e]),Ml=to.map(e=>J[e]);Js(to,e=>[e,!0]);let qe=null;function en(e){qe=typeof WeakMap<"u"&&new WeakMap;const t=Er(e);return qe=null,t}function Er(e){if(!e||typeof e!="object")return e;let t=qe&&qe.get(e);if(t)return t;if(he(e)){t=[],qe&&qe.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Er(e[n]))}else if(Ml.indexOf(e.constructor)>=0)t=e;else{const s=Wt(e);for(var i in t=s===Object.prototype?{}:Object.create(s),qe&&qe.set(e,t),e)be(e,i)&&(t[i]=Er(e[i]))}return t}const{toString:Fl}={};function Ar(e){return Fl.call(e).slice(8,-1)}const Rr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ql=typeof Rr=="symbol"?function(e){var t;return e!=null&&(t=e[Rr])&&t.apply(e)}:function(){return null},pt={};function Te(e){var t,n,r,i;if(arguments.length===1){if(he(e))return e.slice();if(this===pt&&typeof e=="string")return[e];if(i=ql(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const di=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ee=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function no(e,t){Ee=e,ro=t}var ro=()=>!0;const Vl=!new Error("").stack;function ct(){if(Vl)try{throw ct.arguments,new Error}catch(e){return e}return new Error}function Or(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(ro).map(r=>`
`+r).join("")):""}var io=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],fi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(io),Ul={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function bt(e,t){this._e=ct(),this.name=e,this.message=t}function so(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Bn(e,t,n,r){this._e=ct(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=so(e,t)}function Kt(e,t){this._e=ct(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=so(e,t)}vt(bt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Or(this._e,2))}},toString:function(){return this.name+": "+this.message}}),vt(Bn).from(bt),vt(Kt).from(bt);var pi=fi.reduce((e,t)=>(e[t]=t+"Error",e),{});const Wl=bt;var M=fi.reduce((e,t)=>{var n=t+"Error";function r(i,s){this._e=ct(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=Ul[t]||n,this.inner=null)}return vt(r).from(Wl),e[t]=r,e},{});M.Syntax=SyntaxError,M.Type=TypeError,M.Range=RangeError;var ji=io.reduce((e,t)=>(e[t+"Error"]=M[t],e),{}),yn=fi.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=M[t]),e),{});function G(){}function zt(e){return e}function zl(e,t){return e==null||e===zt?t:function(n){return t(e(n))}}function st(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Hl(e,t){return e===G?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?st(r,this.onsuccess):r),i&&(this.onerror=this.onerror?st(i,this.onerror):i),s!==void 0?s:n}}function Yl(e,t){return e===G?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?st(n,this.onsuccess):n),r&&(this.onerror=this.onerror?st(r,this.onerror):r)}}function Gl(e,t){return e===G?t:function(n){var r=e.apply(this,arguments);me(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?st(i,this.onsuccess):i),s&&(this.onerror=this.onerror?st(s,this.onerror):s),r===void 0?o===void 0?void 0:o:me(r,o)}}function Xl(e,t){return e===G?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function mi(e,t){return e===G?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}yn.ModifyError=Bn,yn.DexieError=bt,yn.BulkError=Kt;var Ht={};const oo=100,[Tr,Ln,Br]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Wt(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Wt(t),e]})(),ao=Ln&&Ln.then,vn=Tr&&Tr.constructor,gi=!!Br;var Lr=!1,Ql=Br?()=>{Br.then(on)}:J.setImmediate?setImmediate.bind(null,on):J.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{on(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(on,0)},Nt=function(e,t){Dt.push([e,t]),In&&(Ql(),In=!1)},Ir=!0,In=!0,tt=[],bn=[],jr=null,Dr=zt,_t={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ni,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Ni(e[0],e[1])}catch{}})}},j=_t,Dt=[],nt=0,_n=[];function L(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=G,this._lib=!1;var t=this._PSD=j;if(Ee&&(this._stackHolder=ct(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Ht)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Nr(this,this._value))}this._state=null,this._value=null,++t.ref,co(this,e)}const Kr={get:function(){var e=j,t=jn;function n(r,i){var s=!e.global&&(e!==j||t!==jn);const o=s&&!Ke();var a=new L((l,c)=>{yi(this,new lo(Dn(r,e,s,o),Dn(i,e,s,o),l,c,e))});return Ee&&fo(a,this),a}return n.prototype=Ht,n},set:function(e){Ie(this,"then",e&&e.prototype===Ht?Kr:{get:function(){return e},set:Kr.set})}};function lo(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function co(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&tn();n&&typeof n.then=="function"?co(e,(i,s)=>{n instanceof L?n._then(i,s):n.then(i,s)}):(e._state=!0,e._value=n,uo(e)),r&&nn()}},Nr.bind(null,e))}catch(n){Nr(e,n)}}function Nr(e,t){if(bn.push(t),e._state===null){var n=e._lib&&tn();t=Dr(t),e._state=!1,e._value=t,Ee&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,s){try{r.apply(null,s)}catch(o){i&&i(o)}}(()=>{var r=hi(t,"stack");t._promise=e,Ie(t,"stack",{get:()=>Lr?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){tt.some(i=>i._value===r._value)||tt.push(r)}(e),uo(e),n&&nn()}}function uo(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)yi(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),nt===0&&(++nt,Nt(()=>{--nt==0&&vi()},[]))}function yi(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++nt,Nt(Jl,[n,e,t])}else e._listeners.push(t)}function Jl(e,t,n){try{jr=t;var r,i=t._value;t._state?r=e(i):(bn.length&&(bn=[]),r=e(i),bn.indexOf(i)===-1&&function(s){for(var o=tt.length;o;)if(tt[--o]._value===s._value)return void tt.splice(o,1)}(t)),n.resolve(r)}catch(s){n.reject(s)}finally{jr=null,--nt==0&&vi(),--n.psd.ref||n.psd.finalize()}}function ho(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,s,o=e._value;o!=null?(i=o.name||"Error",s=o.message||o,r=Or(o,0)):(i=o,s=""),t.push(i+(s?": "+s:"")+r)}return Ee&&((r=Or(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&ho(e._prev,t,n)),t}function fo(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function on(){tn()&&nn()}function tn(){var e=Ir;return Ir=!1,In=!1,e}function nn(){var e,t,n;do for(;Dt.length>0;)for(e=Dt,Dt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Dt.length>0);Ir=!0,In=!0}function vi(){var e=tt;tt=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=_n.slice(0),n=t.length;n;)t[--n]()}function an(e){return new L(Ht,!1,e)}function Z(e,t){var n=j;return function(){var r=tn(),i=j;try{return He(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{He(i,!1),r&&nn()}}}St(L.prototype,{then:Kr,_then:function(e,t){yi(this,new lo(null,null,e,t,j))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):an(r)):this.then(null,r=>r&&r.name===t?n(r):an(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),an(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Lr=!0;var e=ho(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Lr=!1}}},timeout:function(e,t){return e<1/0?new L((n,r)=>{var i=setTimeout(()=>r(new M.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Ie(L.prototype,Symbol.toStringTag,"Dexie.Promise"),_t.env=po(),St(L,{all:function(){var e=Te.apply(null,arguments).map(ln);return new L(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,s)=>L.resolve(i).then(o=>{e[s]=o,--r||t(e)},n))})},resolve:e=>{if(e instanceof L)return e;if(e&&typeof e.then=="function")return new L((n,r)=>{e.then(n,r)});var t=new L(Ht,!0,e);return fo(t,jr),t},reject:an,race:function(){var e=Te.apply(null,arguments).map(ln);return new L((t,n)=>{e.map(r=>L.resolve(r).then(t,n))})},PSD:{get:()=>j,set:e=>j=e},totalEchoes:{get:()=>jn},newPSD:ze,usePSD:Pt,scheduler:{get:()=>Nt,set:e=>{Nt=e}},rejectionMapper:{get:()=>Dr,set:e=>{Dr=e}},follow:(e,t)=>new L((n,r)=>ze((i,s)=>{var o=j;o.unhandleds=[],o.onunhandled=s,o.finalize=st(function(){(function(a){function l(){a(),_n.splice(_n.indexOf(l),1)}_n.push(l),++nt,Nt(()=>{--nt==0&&vi()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),e()},t,n,r))}),vn&&(vn.allSettled&&Ie(L,"allSettled",function(){const e=Te.apply(null,arguments).map(ln);return new L(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,s)=>L.resolve(i).then(o=>r[s]={status:"fulfilled",value:o},o=>r[s]={status:"rejected",reason:o}).then(()=>--n||t(r)))})}),vn.any&&typeof AggregateError<"u"&&Ie(L,"any",function(){const e=Te.apply(null,arguments).map(ln);return new L((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((s,o)=>L.resolve(s).then(a=>t(a),a=>{i[o]=a,--r||n(new AggregateError(i))}))})}));const ue={awaits:0,echoes:0,id:0};var Zl=0,wn=[],tr=0,jn=0,ec=0;function ze(e,t,n,r){var i=j,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++ec;var o=_t.env;s.env=gi?{Promise:L,PromiseProp:{value:L,configurable:!0,writable:!0},all:L.all,race:L.race,allSettled:L.allSettled,any:L.any,resolve:L.resolve,reject:L.reject,nthen:Di(o.nthen,s),gthen:Di(o.gthen,s)}:{},t&&me(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Pt(s,e,n,r);return s.ref===0&&s.finalize(),a}function Ct(){return ue.id||(ue.id=++Zl),++ue.awaits,ue.echoes+=oo,ue.id}function Ke(){return!!ue.awaits&&(--ue.awaits==0&&(ue.id=0),ue.echoes=ue.awaits*oo,!0)}function ln(e){return ue.echoes&&e&&e.constructor===vn?(Ct(),e.then(t=>(Ke(),t),t=>(Ke(),ie(t)))):e}function tc(e){++jn,ue.echoes&&--ue.echoes!=0||(ue.echoes=ue.id=0),wn.push(j),He(e,!0)}function nc(){var e=wn[wn.length-1];wn.pop(),He(e,!1)}function He(e,t){var n=j;if((t?!ue.echoes||tr++&&e===j:!tr||--tr&&e===j)||mo(t?tc.bind(null,e):nc),e!==j&&(j=e,n===_t&&(_t.env=po()),gi)){var r=_t.env.Promise,i=e.env;Ln.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(J,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function po(){var e=J.Promise;return gi?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(J,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ln.then,gthen:e.prototype.then}:{}}function Pt(e,t,n,r,i){var s=j;try{return He(e,!0),t(n,r,i)}finally{He(s,!1)}}function mo(e){ao.call(Tr,e)}function Dn(e,t,n,r){return typeof e!="function"?e:function(){var i=j;n&&Ct(),He(t,!0);try{return e.apply(this,arguments)}finally{He(i,!1),r&&mo(Ke)}}}function Di(e,t){return function(n,r){return e.call(this,Dn(n,t),Dn(r,t))}}(""+ao).indexOf("[native code]")===-1&&(Ct=Ke=G);const Ki="unhandledrejection";function Ni(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(J.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Ki,!0,!0),me(r,i)):J.CustomEvent&&me(r=new CustomEvent(Ki,{detail:i}),i),r&&J.dispatchEvent&&(dispatchEvent(r),!J.PromiseRejectionEvent&&J.onunhandledrejection))try{J.onunhandledrejection(r)}catch{}Ee&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var ie=L.reject;function Mr(e,t,n,r){if(e.idbdb&&(e._state.openComplete||j.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===pi.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Mr(e,t,n,r))):ie(s)}return i._promise(t,(s,o)=>ze(()=>(j.trans=i,r(s,o,i)))).then(s=>i._completion.then(()=>s))}if(e._state.openComplete)return ie(new M.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ie(new M.DatabaseClosed);e.open().catch(G)}return e._state.dbReadyPromise.then(()=>Mr(e,t,n,r))}const Mi="3.2.4",Ze="￿",Fr=-1/0,Ae="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",go="String expected.",Mt=[],zn=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),rc=zn,ic=zn,yo=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Hn="__dbnames",nr="readonly",rr="readwrite";function ot(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const vo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function cn(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=en(t))[e],t)}class sc{_trans(t,n,r){const i=this._tx||j.trans,s=this.name;function o(l,c,u){if(!u.schema[s])throw new M.NotFound("Table "+s+" not part of transaction");return n(u.idbtrans,u)}const a=tn();try{return i&&i.db===this.db?i===j.trans?i._promise(t,o,r):ze(()=>i._promise(t,o,r),{trans:i,transless:j.transless||j}):Mr(this.db,t,[this.name],o)}finally{a&&nn()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(he(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=re(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(c=>c.compound&&n.every(u=>c.keyPath.indexOf(u)>=0)&&c.keyPath.every(u=>n.indexOf(u)>=0))[0];if(r&&this.db._maxKey!==Ze)return this.where(r.name).equals(r.keyPath.map(c=>t[c]));!r&&Ee&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(c,u){try{return s.cmp(c,u)===0}catch{return!1}}const[a,l]=n.reduce(([c,u],h)=>{const d=i[h],f=t[h];return[c||d,c||!d?ot(u,d&&d.multi?b=>{const m=je(b,h);return he(m)&&m.some(y=>o(f,y))}:b=>o(f,je(b,h))):u]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,he(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var s in r)if(be(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){me(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=cn(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[s]})).then(o=>o.numFailures?L.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{ke(t,i,o)}catch{}return o})}update(t,n){if(typeof t!="object"||he(t))return this.where(":id").equals(t).modify(n);{const r=je(t,this.schema.primKey.keyPath);if(r===void 0)return ie(new M.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?re(n).forEach(i=>{ke(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=cn(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:n!=null?[n]:null})).then(o=>o.numFailures?L.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{ke(t,i,o)}catch{}return o})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?L.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:vo})).then(t=>t.numFailures?L.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new M.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new M.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let u=l&&a?t.map(cn(l)):t;return this.core.mutate({trans:o,type:"add",keys:i,values:u,wantResults:s}).then(({numFailures:h,results:d,lastResult:f,failures:b})=>{if(h===0)return s?d:f;throw new Kt(`${this.name}.bulkAdd(): ${h} of ${c} operations failed`,b)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new M.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new M.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let u=l&&a?t.map(cn(l)):t;return this.core.mutate({trans:o,type:"put",keys:i,values:u,wantResults:s}).then(({numFailures:h,results:d,lastResult:f,failures:b})=>{if(h===0)return s?d:f;throw new Kt(`${this.name}.bulkPut(): ${h} of ${c} operations failed`,b)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new Kt(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function Ft(e){var t={},n=function(o,a){if(a){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[o].subscribe.apply(null,c),e}if(typeof o=="string")return t[o]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(o,a,l){if(typeof o!="object"){var c;a||(a=Xl),l||(l=G);var u={subscribers:[],fire:l,subscribe:function(h){u.subscribers.indexOf(h)===-1&&(u.subscribers.push(h),u.fire=a(u.fire,h))},unsubscribe:function(h){u.subscribers=u.subscribers.filter(function(d){return d!==h}),u.fire=u.subscribers.reduce(a,l)}};return t[o]=n[o]=u,u}re(c=o).forEach(function(h){var d=c[h];if(he(d))s(h,c[h][0],c[h][1]);else{if(d!=="asap")throw new M.InvalidArgument("Invalid event config");var f=s(h,zt,function(){for(var b=arguments.length,m=new Array(b);b--;)m[b]=arguments[b];f.subscribers.forEach(function(y){Qs(function(){y.apply(null,m)})})})}})}}function Et(e,t){return vt(t).from({prototype:e}),t}function dt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function ir(e,t){e.filter=ot(e.filter,t)}function sr(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>ot(r(),t()):t,e.justLimit=n&&!r}function $n(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new M.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Fi(e,t,n){const r=$n(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function un(e,t,n,r){const i=e.replayFilter?ot(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},o=(a,l,c)=>{if(!i||i(l,c,d=>l.stop(d),d=>l.fail(d))){var u=l.primaryKey,h=""+u;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(u)),be(s,h)||(s[h]=!0,t(a,l,c))}};return Promise.all([e.or._iterate(o,n),qi(Fi(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return qi(Fi(e,r,n),ot(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function qi(e,t,n,r){var i=Z(r?(s,o,a)=>n(r(s),o,a):n);return e.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();t&&!t(s,a=>o=a,a=>{s.stop(a),o=G},a=>{s.fail(a),o=G})||i(s.value,s,a=>o=a),o()})})}function pe(e,t){try{const n=Vi(e),r=Vi(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let c=0;c<l;++c)if(i[c]!==s[c])return i[c]<s[c]?-1:1;return o===a?0:o<a?-1:1}(Ui(e),Ui(t));case"Array":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let c=0;c<l;++c){const u=pe(i[c],s[c]);if(u!==0)return u}return o===a?0:o<a?-1:1}(e,t)}}catch{}return NaN}function Vi(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=Ar(e);return n==="ArrayBuffer"?"binary":n}function Ui(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class oc{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,ie.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,ie.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=ot(n.algorithm,t)}_iterate(t,n){return un(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&me(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>un(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(dt(r,!0))return i.count({trans:n,query:{index:$n(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var s=0;return un(r,()=>(++s,!1),n,i).then(()=>s)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],s=r.length-1;function o(c,u){return u?o(c[r[u]],u-1):c[i]}var a=this._ctx.dir==="next"?1:-1;function l(c,u){var h=o(c,s),d=o(u,s);return h<d?-a:h>d?a:0}return this.toArray(function(c){return c.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&dt(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=$n(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return un(r,s=>i.push(s),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,dt(n)?sr(n,()=>{var r=t;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):sr(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),sr(this._ctx,()=>{var n=t;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(t,n){return ir(this._ctx,function(r,i,s){return!t(r.value)||(i(s),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return ir(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=ot(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&dt(n,!0)&&n.limit>0)return this._read(i=>{var s=$n(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return ir(this._ctx,function(i){var s=i.primaryKey.toString(),o=be(r,s);return r[s]=!0,!o}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var s=re(t),o=s.length;i=function(m){for(var y=!1,g=0;g<o;++g){var p=s[g],w=t[p];je(m,p)!==w&&(ke(m,p,w),y=!0)}return y}}const a=n.table.core,{outbound:l,extractKey:c}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,h=[];let d=0;const f=[],b=(m,y)=>{const{failures:g,numFailures:p}=y;d+=m-p;for(let w of re(g))h.push(g[w])};return this.clone().primaryKeys().then(m=>{const y=g=>{const p=Math.min(u,m.length-g);return a.getMany({trans:r,keys:m.slice(g,g+p),cache:"immutable"}).then(w=>{const $=[],S=[],P=l?[]:null,C=[];for(let k=0;k<p;++k){const R=w[k],T={value:en(R),primKey:m[g+k]};i.call(T,T.value,T)!==!1&&(T.value==null?C.push(m[g+k]):l||pe(c(R),c(T.value))===0?(S.push(T.value),l&&P.push(m[g+k])):(C.push(m[g+k]),$.push(T.value)))}const I=dt(n)&&n.limit===1/0&&(typeof t!="function"||t===or)&&{index:n.index,range:n.range};return Promise.resolve($.length>0&&a.mutate({trans:r,type:"add",values:$}).then(k=>{for(let R in k.failures)C.splice(parseInt(R),1);b($.length,k)})).then(()=>(S.length>0||I&&typeof t=="object")&&a.mutate({trans:r,type:"put",keys:P,values:S,criteria:I,changeSpec:typeof t!="function"&&t}).then(k=>b(S.length,k))).then(()=>(C.length>0||I&&t===or)&&a.mutate({trans:r,type:"delete",keys:C,criteria:I}).then(k=>b(C.length,k))).then(()=>m.length>g+p&&y(g+u))})};return y(0).then(()=>{if(h.length>0)throw new Bn("Error modifying one or more objects",h,d,f);return m.length})})})}delete(){var t=this._ctx,n=t.range;return dt(t)&&(t.isPrimKey&&!ic||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,s=n;return t.table.core.count({trans:r,query:{index:i,range:s}}).then(o=>t.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:a,lastResult:l,results:c,numFailures:u})=>{if(u)throw new Bn("Could not delete some values",Object.keys(a).map(h=>a[h]),o-u);return o-u}))}):this.modify(or)}}const or=(e,t)=>t.value=null;function ac(e,t){return e<t?-1:e===t?0:1}function lc(e,t){return e>t?-1:e===t?0:1}function ye(e,t,n){var r=e instanceof _o?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function ft(e){return new e.Collection(e,()=>bo("")).limit(0)}function cc(e,t,n,r,i,s){for(var o=Math.min(e.length,r.length),a=-1,l=0;l<o;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[l],c)<0&&(a=l)}return o<r.length&&s==="next"?e+n.substr(e.length):o<e.length&&s==="prev"?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function hn(e,t,n,r){var i,s,o,a,l,c,u,h=n.length;if(!n.every(m=>typeof m=="string"))return ye(e,go);function d(m){i=function(g){return g==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(m),s=function(g){return g==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(m),o=m==="next"?ac:lc;var y=n.map(function(g){return{lower:s(g),upper:i(g)}}).sort(function(g,p){return o(g.lower,p.lower)});a=y.map(function(g){return g.upper}),l=y.map(function(g){return g.lower}),c=m,u=m==="next"?"":r}d("next");var f=new e.Collection(e,()=>Fe(a[0],l[h-1]+r));f._ondirectionchange=function(m){d(m)};var b=0;return f._addAlgorithm(function(m,y,g){var p=m.key;if(typeof p!="string")return!1;var w=s(p);if(t(w,l,b))return!0;for(var $=null,S=b;S<h;++S){var P=cc(p,w,a[S],l[S],o,c);P===null&&$===null?b=S+1:($===null||o($,P)>0)&&($=P)}return y($!==null?function(){m.continue($+u)}:g),!1}),f}function Fe(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function bo(e){return{type:1,lower:e,upper:e}}class _o{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?ft(this):new this.Collection(this,()=>Fe(t,n,!r,!i))}catch{return ye(this,Ae)}}equals(t){return t==null?ye(this,Ae):new this.Collection(this,()=>bo(t))}above(t){return t==null?ye(this,Ae):new this.Collection(this,()=>Fe(t,void 0,!0))}aboveOrEqual(t){return t==null?ye(this,Ae):new this.Collection(this,()=>Fe(t,void 0,!1))}below(t){return t==null?ye(this,Ae):new this.Collection(this,()=>Fe(void 0,t,!1,!0))}belowOrEqual(t){return t==null?ye(this,Ae):new this.Collection(this,()=>Fe(void 0,t))}startsWith(t){return typeof t!="string"?ye(this,go):this.between(t,t+Ze,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):hn(this,(n,r)=>n.indexOf(r[0])===0,[t],Ze)}equalsIgnoreCase(t){return hn(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Te.apply(pt,arguments);return t.length===0?ft(this):hn(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Te.apply(pt,arguments);return t.length===0?ft(this):hn(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,Ze)}anyOf(){const t=Te.apply(pt,arguments);let n=this._cmp;try{t.sort(n)}catch{return ye(this,Ae)}if(t.length===0)return ft(this);const r=new this.Collection(this,()=>Fe(t[0],t[t.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((s,o,a)=>{const l=s.key;for(;n(l,t[i])>0;)if(++i,i===t.length)return o(a),!1;return n(l,t[i])===0||(o(()=>{s.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[Fr,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Te.apply(pt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return ye(this,Ae)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[Fr,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(t.length===0)return ft(this);if(!t.every(p=>p[0]!==void 0&&p[1]!==void 0&&i(p[0],p[1])<=0))return ye(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",M.InvalidArgument);const l=!n||n.includeLowers!==!1,c=n&&n.includeUppers===!0;let u,h=i;function d(p,w){return h(p[0],w[0])}try{u=t.reduce(function(p,w){let $=0,S=p.length;for(;$<S;++$){const P=p[$];if(r(w[0],P[1])<0&&r(w[1],P[0])>0){P[0]=o(P[0],w[0]),P[1]=a(P[1],w[1]);break}}return $===S&&p.push(w),p},[]),u.sort(d)}catch{return ye(this,Ae)}let f=0;const b=c?p=>i(p,u[f][1])>0:p=>i(p,u[f][1])>=0,m=l?p=>s(p,u[f][0])>0:p=>s(p,u[f][0])>=0;let y=b;const g=new this.Collection(this,()=>Fe(u[0][0],u[u.length-1][1],!l,!c));return g._ondirectionchange=p=>{p==="next"?(y=b,h=i):(y=m,h=s),u.sort(d)},g._addAlgorithm((p,w,$)=>{for(var S=p.key;y(S);)if(++f,f===u.length)return w($),!1;return!!function(P){return!b(P)&&!m(P)}(S)||(this._cmp(S,u[f][1])===0||this._cmp(S,u[f][0])===0||w(()=>{h===i?p.continue(u[f][0]):p.continue(u[f][1])}),!1)}),g}startsWithAnyOf(){const t=Te.apply(pt,arguments);return t.every(n=>typeof n=="string")?t.length===0?ft(this):this.inAnyRange(t.map(n=>[n,n+Ze])):ye(this,"startsWithAnyOf() only works with strings")}}function Ce(e){return Z(function(t){return Yt(t),e(t.target.error),!1})}function Yt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Gt="storagemutated",Ve="x-storagemutated-1",Ye=Ft(null,Gt);class uc{_lock(){return jt(!j.global),++this._reculock,this._reculock!==1||j.global||(j.lockOwnerFor=this),this}_unlock(){if(jt(!j.global),--this._reculock==0)for(j.global||(j.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Pt(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&j.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(jt(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new M.DatabaseClosed(r);case"MissingAPIError":throw new M.MissingAPI(r.message,r);default:throw new M.OpenFailed(r)}if(!this.active)throw new M.TransactionInactive;return jt(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Z(i=>{Yt(i),this._reject(t.error)}),t.onabort=Z(i=>{Yt(i),this.active&&this._reject(new M.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=Z(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Ye.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return ie(new M.ReadOnly("Transaction is readonly"));if(!this.active)return ie(new M.TransactionInactive);if(this._locked())return new L((s,o)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(s,o)},j])});if(r)return ze(()=>{var s=new L((o,a)=>{this._lock();const l=n(o,a,this);l&&l.then&&l.then(o,a)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new L((s,o)=>{var a=n(s,o,this);a&&a.then&&a.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=L.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new L((o,a)=>{r.then(l=>n._waitingQueue.push(Z(o.bind(null,l))),l=>n._waitingQueue.push(Z(a.bind(null,l)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new M.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(be(n,t))return n[t];const r=this.schema[t];if(!r)throw new M.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function qr(e,t,n,r,i,s,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+wo(t)}}function wo(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function $o(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Js(n,r=>[r.name,r])}}let Xt=e=>{try{return e.only([[]]),Xt=()=>[[]],[[]]}catch{return Xt=()=>Ze,Ze}};function Vr(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>je(r,t)}(e):t=>je(t,e)}function Wi(e){return[].slice.call(e)}let hc=0;function qt(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function dc(e,t,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:c,upper:u,lowerOpen:h,upperOpen:d}=l;return c===void 0?u===void 0?null:t.upperBound(u,!!d):u===void 0?t.lowerBound(c,!!h):t.bound(c,u,!!h,!!d)}const{schema:i,hasGetAll:s}=function(l,c){const u=Wi(l.objectStoreNames);return{schema:{name:l.name,tables:u.map(h=>c.objectStore(h)).map(h=>{const{keyPath:d,autoIncrement:f}=h,b=he(d),m=d==null,y={},g={name:h.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:b,keyPath:d,autoIncrement:f,unique:!0,extractKey:Vr(d)},indexes:Wi(h.indexNames).map(p=>h.index(p)).map(p=>{const{name:w,unique:$,multiEntry:S,keyPath:P}=p,C={name:w,compound:he(P),keyPath:P,unique:$,multiEntry:S,extractKey:Vr(P)};return y[qt(P)]=C,C}),getIndexByKeyPath:p=>y[qt(p)]};return y[":id"]=g.primaryKey,d!=null&&(y[qt(d)]=g.primaryKey),g})},hasGetAll:u.length>0&&"getAll"in c.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=i.tables.map(l=>function(c){const u=c.name;return{name:u,schema:c,mutate:function({trans:h,type:d,keys:f,values:b,range:m}){return new Promise((y,g)=>{y=Z(y);const p=h.objectStore(u),w=p.keyPath==null,$=d==="put"||d==="add";if(!$&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:S}=f||b||{length:1};if(f&&b&&f.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(S===0)return y({numFailures:0,failures:{},results:[],lastResult:void 0});let P;const C=[],I=[];let k=0;const R=E=>{++k,Yt(E)};if(d==="deleteRange"){if(m.type===4)return y({numFailures:k,failures:I,results:[],lastResult:void 0});m.type===3?C.push(P=p.clear()):C.push(P=p.delete(r(m)))}else{const[E,B]=$?w?[b,f]:[b,null]:[f,null];if($)for(let N=0;N<S;++N)C.push(P=B&&B[N]!==void 0?p[d](E[N],B[N]):p[d](E[N])),P.onerror=R;else for(let N=0;N<S;++N)C.push(P=p[d](E[N])),P.onerror=R}const T=E=>{const B=E.target.result;C.forEach((N,ae)=>N.error!=null&&(I[ae]=N.error)),y({numFailures:k,failures:I,results:d==="delete"?f:C.map(N=>N.result),lastResult:B})};P.onerror=E=>{R(E),T(E)},P.onsuccess=T})},getMany:({trans:h,keys:d})=>new Promise((f,b)=>{f=Z(f);const m=h.objectStore(u),y=d.length,g=new Array(y);let p,w=0,$=0;const S=C=>{const I=C.target;g[I._pos]=I.result,++$===w&&f(g)},P=Ce(b);for(let C=0;C<y;++C)d[C]!=null&&(p=m.get(d[C]),p._pos=C,p.onsuccess=S,p.onerror=P,++w);w===0&&f(g)}),get:({trans:h,key:d})=>new Promise((f,b)=>{f=Z(f);const m=h.objectStore(u).get(d);m.onsuccess=y=>f(y.target.result),m.onerror=Ce(b)}),query:function(h){return d=>new Promise((f,b)=>{f=Z(f);const{trans:m,values:y,limit:g,query:p}=d,w=g===1/0?void 0:g,{index:$,range:S}=p,P=m.objectStore(u),C=$.isPrimaryKey?P:P.index($.name),I=r(S);if(g===0)return f({result:[]});if(h){const k=y?C.getAll(I,w):C.getAllKeys(I,w);k.onsuccess=R=>f({result:R.target.result}),k.onerror=Ce(b)}else{let k=0;const R=y||!("openKeyCursor"in C)?C.openCursor(I):C.openKeyCursor(I),T=[];R.onsuccess=E=>{const B=R.result;return B?(T.push(y?B.value:B.primaryKey),++k===g?f({result:T}):void B.continue()):f({result:T})},R.onerror=Ce(b)}})}(s),openCursor:function({trans:h,values:d,query:f,reverse:b,unique:m}){return new Promise((y,g)=>{y=Z(y);const{index:p,range:w}=f,$=h.objectStore(u),S=p.isPrimaryKey?$:$.index(p.name),P=b?m?"prevunique":"prev":m?"nextunique":"next",C=d||!("openKeyCursor"in S)?S.openCursor(r(w),P):S.openKeyCursor(r(w),P);C.onerror=Ce(g),C.onsuccess=Z(I=>{const k=C.result;if(!k)return void y(null);k.___id=++hc,k.done=!1;const R=k.continue.bind(k);let T=k.continuePrimaryKey;T&&(T=T.bind(k));const E=k.advance.bind(k),B=()=>{throw new Error("Cursor not stopped")};k.trans=h,k.stop=k.continue=k.continuePrimaryKey=k.advance=()=>{throw new Error("Cursor not started")},k.fail=Z(g),k.next=function(){let N=1;return this.start(()=>N--?this.continue():this.stop()).then(()=>this)},k.start=N=>{const ae=new Promise((q,W)=>{q=Z(q),C.onerror=Ce(W),k.fail=W,k.stop=Q=>{k.stop=k.continue=k.continuePrimaryKey=k.advance=B,q(Q)}}),H=()=>{if(C.result)try{N()}catch(q){k.fail(q)}else k.done=!0,k.start=()=>{throw new Error("Cursor behind last entry")},k.stop()};return C.onsuccess=Z(q=>{C.onsuccess=H,H()}),k.continue=R,k.continuePrimaryKey=T,k.advance=E,H(),ae},y(k)},g)})},count({query:h,trans:d}){const{index:f,range:b}=h;return new Promise((m,y)=>{const g=d.objectStore(u),p=f.isPrimaryKey?g:g.index(f.name),w=r(b),$=w?p.count(w):p.count();$.onsuccess=Z(S=>m(S.target.result)),$.onerror=Ce(y)})}}}(l)),a={};return o.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:Xt(t),schema:i}}function Ur({_novip:e},t){const n=t.db,r=function(i,s,{IDBKeyRange:o,indexedDB:a},l){return{dbcore:function(u,h){return h.reduce((d,{create:f})=>({...d,...f(d)}),u)}(dc(s,o,l),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const s=i.name;e.core.schema.tables.some(o=>o.name===s)&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function Kn({_novip:e},t,n,r){n.forEach(i=>{const s=r[i];t.forEach(o=>{const a=hi(o,i);(!a||"value"in a&&a.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?Ie(o,i,{get(){return this.table(i)},set(l){Gs(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new e.Table(i,s))})})}function Wr({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function fc(e,t){return e._cfg.version-t._cfg.version}function pc(e,t,n,r){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);const o=s._reject.bind(s),a=j.transless||j;ze(()=>{j.trans=s,j.transless=a,t===0?(re(i).forEach(l=>{ar(n,l,i[l].primKey,i[l].indexes)}),Ur(e,n),L.follow(()=>e.on.populate.fire(s)).catch(o)):function({_novip:l},c,u,h){const d=[],f=l._versions;let b=l._dbSchema=Hr(l,l.idbdb,h),m=!1;const y=f.filter(p=>p._cfg.version>=c);function g(){return d.length?L.resolve(d.shift()(u.idbtrans)).then(g):L.resolve()}return y.forEach(p=>{d.push(()=>{const w=b,$=p._cfg.dbschema;Yr(l,w,h),Yr(l,$,h),b=l._dbSchema=$;const S=So(w,$);S.add.forEach(C=>{ar(h,C[0],C[1].primKey,C[1].indexes)}),S.change.forEach(C=>{if(C.recreate)throw new M.Upgrade("Not yet support for changing primary key");{const I=h.objectStore(C.name);C.add.forEach(k=>zr(I,k)),C.change.forEach(k=>{I.deleteIndex(k.name),zr(I,k)}),C.del.forEach(k=>I.deleteIndex(k))}});const P=p._cfg.contentUpgrade;if(P&&p._cfg.version>c){Ur(l,h),u._memoizedTables={},m=!0;let C=Zs($);S.del.forEach(T=>{C[T]=w[T]}),Wr(l,[l.Transaction.prototype]),Kn(l,[l.Transaction.prototype],re(C),C),u.schema=C;const I=di(P);let k;I&&Ct();const R=L.follow(()=>{if(k=P(u),k&&I){var T=Ke.bind(null,null);k.then(T,T)}});return k&&typeof k.then=="function"?L.resolve(k):R.then(()=>k)}}),d.push(w=>{(!m||!rc)&&function($,S){[].slice.call(S.db.objectStoreNames).forEach(P=>$[P]==null&&S.db.deleteObjectStore(P))}(p._cfg.dbschema,w),Wr(l,[l.Transaction.prototype]),Kn(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),u.schema=l._dbSchema})}),g().then(()=>{var p,w;w=h,re(p=b).forEach($=>{w.db.objectStoreNames.contains($)||ar(w,$,p[$].primKey,p[$].indexes)})})}(e,t,s,n).catch(o)})}function So(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!zn)o.recreate=!0,n.change.push(o);else{const a=i.idxByName,l=s.idxByName;let c;for(c in a)l[c]||o.del.push(c);for(c in l){const u=a[c],h=l[c];u?u.src!==h.src&&o.change.push(h):o.add.push(h)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function ar(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>zr(i,s)),i}function zr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Hr(e,t,n){const r={};return Tn(t.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let o=s.keyPath;const a=qr(wo(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),l=[];for(let u=0;u<s.indexNames.length;++u){const h=s.index(s.indexNames[u]);o=h.keyPath;var c=qr(h.name,o,!!h.unique,!!h.multiEntry,!1,o&&typeof o!="string",!1);l.push(c)}r[i]=$o(i,a,l)}),r}function Yr({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],o=n.objectStore(s);e._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const l=o.indexNames[a],c=o.index(l).keyPath,u=typeof c=="string"?c:"["+Tn(c).join("+")+"]";if(t[s]){const h=t[s].idxByName[u];h&&(h.name=l,delete t[s].idxByName[u],t[s].idxByName[l]=h)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&J.WorkerGlobalScope&&J instanceof J.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class mc{_parseStoresSpec(t,n){re(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((o,a)=>{const l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return qr(l,c||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),he(c),a===0)}),s=i.shift();if(s.multi)throw new M.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new M.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new M.Schema("Index must have a name and cannot be an empty string")}),n[r]=$o(r,s,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?me(this._cfg.storesSource,t):t;const r=n._versions,i={};let s={};return r.forEach(o=>{me(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,Wr(n,[n._allTables,n,n.Transaction.prototype]),Kn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],re(s),s),n._storeNames=re(s),this}upgrade(t){return this._cfg.contentUpgrade=mi(this._cfg.contentUpgrade||G,t),this}}function bi(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new rt(Hn,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function _i(e){return e&&typeof e.databases=="function"}function Gr(e){return ze(function(){return j.letThrough=!0,e()})}function gc(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function yc(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?ie(t.dbOpenError):e);Ee&&(t.openCanceller._stackHolder=ct()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new M.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,o=null,a=!1;return L.race([r,(typeof navigator>"u"?L.resolve():gc()).then(()=>new L((l,c)=>{if(i(),!n)throw new M.MissingAPI;const u=e.name,h=t.autoSchema?n.open(u):n.open(u,Math.round(10*e.verno));if(!h)throw new M.MissingAPI;h.onerror=Ce(c),h.onblocked=Z(e._fireOnBlocked),h.onupgradeneeded=Z(d=>{if(o=h.transaction,t.autoSchema&&!e._options.allowEmptyDB){h.onerror=Yt,o.abort(),h.result.close();const b=n.deleteDatabase(u);b.onsuccess=b.onerror=Z(()=>{c(new M.NoSuchDatabase(`Database ${u} doesnt exist`))})}else{o.onerror=Ce(c);var f=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;a=f<1,e._novip.idbdb=h.result,pc(e,f/10,o,c)}},c),h.onsuccess=Z(()=>{o=null;const d=e._novip.idbdb=h.result,f=Tn(d.objectStoreNames);if(f.length>0)try{const m=d.transaction((b=f).length===1?b[0]:b,"readonly");t.autoSchema?function({_novip:y},g,p){y.verno=g.version/10;const w=y._dbSchema=Hr(0,g,p);y._storeNames=Tn(g.objectStoreNames,0),Kn(y,[y._allTables],re(w),w)}(e,d,m):(Yr(e,e._dbSchema,m),function(y,g){const p=So(Hr(0,y.idbdb,g),y._dbSchema);return!(p.add.length||p.change.some(w=>w.add.length||w.change.length))}(e,m)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ur(e,m)}catch{}var b;Mt.push(e),d.onversionchange=Z(m=>{t.vcFired=!0,e.on("versionchange").fire(m)}),d.onclose=Z(m=>{e.on("close").fire(m)}),a&&function({indexedDB:m,IDBKeyRange:y},g){!_i(m)&&g!==Hn&&bi(m,y).put({name:g}).catch(G)}(e._deps,u),l()},c)}))]).then(()=>(i(),t.onReadyBeingFired=[],L.resolve(Gr(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let c=t.onReadyBeingFired.reduce(mi,G);return t.onReadyBeingFired=[],L.resolve(Gr(()=>c(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{o&&o.abort()}catch{}return r===t.openCanceller&&e._close(),ie(l)}).finally(()=>{t.openComplete=!0,s()})}function Xr(e){var t=s=>e.next(s),n=i(t),r=i(s=>e.throw(s));function i(s){return o=>{var a=s(o),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(n,r):he(l)?Promise.all(l).then(n,r):n(l)}}return i(t)()}function vc(e,t,n){var r=arguments.length;if(r<2)throw new M.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,eo(i),n]}function xo(e,t,n,r,i){return L.resolve().then(()=>{const s=j.transless||j,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(h){return h.name===pi.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>xo(e,t,n,null,i))):ie(h)}const l=di(i);let c;l&&Ct();const u=L.follow(()=>{if(c=i.call(o,o),c)if(l){var h=Ke.bind(null,null);c.then(h,h)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=Xr(c))},a);return(c&&typeof c.then=="function"?L.resolve(c).then(h=>o.active?h:ie(new M.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>c)).then(h=>(r&&o._resolve(),o._completion.then(()=>h))).catch(h=>(o._reject(h),ie(h)))})}function dn(e,t,n){const r=he(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const bc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function o(u,h,d){const f=qt(u),b=i[f]=i[f]||[],m=u==null?0:typeof u=="string"?1:u.length,y=h>0,g={...d,isVirtual:y,keyTail:h,keyLength:m,extractKey:Vr(u),unique:!y&&d.unique};return b.push(g),g.isPrimaryKey||s.push(g),m>1&&o(m===2?u[0]:u.slice(0,m-1),h+1,d),b.sort((p,w)=>p.keyTail-w.keyTail),g}const a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const u of r.indexes)o(u.keyPath,0,u);function l(u){const h=u.query.index;return h.isVirtual?{...u,query:{index:h,range:(d=u.query.range,f=h.keyTail,{type:d.type===1?2:d.type,lower:dn(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,f),lowerOpen:!0,upper:dn(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,f),upperOpen:!0})}}:u;var d,f}return{...n,schema:{...r,primaryKey:a,indexes:s,getIndexByKeyPath:function(u){const h=i[qt(u)];return h&&h[0]}},count:u=>n.count(l(u)),query:u=>n.query(l(u)),openCursor(u){const{keyTail:h,isVirtual:d,keyLength:f}=u.query.index;return d?n.openCursor(l(u)).then(b=>b&&function(m){return Object.create(m,{continue:{value:function(g){g!=null?m.continue(dn(g,u.reverse?e.MAX_KEY:e.MIN_KEY,h)):u.unique?m.continue(m.key.slice(0,f).concat(u.reverse?e.MIN_KEY:e.MAX_KEY,h)):m.continue()}},continuePrimaryKey:{value(g,p){m.continuePrimaryKey(dn(g,e.MAX_KEY,h),p)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const g=m.key;return f===1?g[0]:g.slice(0,f)}},value:{get:()=>m.value}})}(b)):n.openCursor(u)}}}}}};function wi(e,t,n,r){return n=n||{},r=r||"",re(e).forEach(i=>{if(be(t,i)){var s=e[i],o=t[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const a=Ar(s);a!==Ar(o)?n[r+i]=t[i]:a==="Object"?wi(s,o,n,r+i+"."):s!==o&&(n[r+i]=t[i])}else s!==o&&(n[r+i]=t[i])}else n[r+i]=void 0}),re(t).forEach(i=>{be(e,i)||(n[r+i]=t[i])}),n}const _c={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(s){const o=j.trans,{deleting:a,creating:l,updating:c}=o.table(t).hook;switch(s.type){case"add":if(l.fire===G)break;return o._promise("readwrite",()=>u(s),!0);case"put":if(l.fire===G&&c.fire===G)break;return o._promise("readwrite",()=>u(s),!0);case"delete":if(a.fire===G)break;return o._promise("readwrite",()=>u(s),!0);case"deleteRange":if(a.fire===G)break;return o._promise("readwrite",()=>function(d){return h(d.trans,d.range,1e4)}(s),!0)}return n.mutate(s);function u(d){const f=j.trans,b=d.keys||function(m,y){return y.type==="delete"?y.keys:y.keys||y.values.map(m.extractKey)}(r,d);if(!b)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:b}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(m,y,g){return y.type==="add"?Promise.resolve([]):m.getMany({trans:y.trans,keys:g,cache:"immutable"})}(n,d,b).then(m=>{const y=b.map((g,p)=>{const w=m[p],$={onerror:null,onsuccess:null};if(d.type==="delete")a.fire.call($,g,w,f);else if(d.type==="add"||w===void 0){const S=l.fire.call($,g,d.values[p],f);g==null&&S!=null&&(g=S,d.keys[p]=g,r.outbound||ke(d.values[p],r.keyPath,g))}else{const S=wi(w,d.values[p]),P=c.fire.call($,S,g,w,f);if(P){const C=d.values[p];Object.keys(P).forEach(I=>{be(C,I)?C[I]=P[I]:ke(C,I,P[I])})}}return $});return n.mutate(d).then(({failures:g,results:p,numFailures:w,lastResult:$})=>{for(let S=0;S<b.length;++S){const P=p?p[S]:b[S],C=y[S];P==null?C.onerror&&C.onerror(g[S]):C.onsuccess&&C.onsuccess(d.type==="put"&&m[S]?d.values[S]:P)}return{failures:g,results:p,numFailures:w,lastResult:$}}).catch(g=>(y.forEach(p=>p.onerror&&p.onerror(g)),Promise.reject(g)))})}function h(d,f,b){return n.query({trans:d,values:!1,query:{index:r,range:f},limit:b}).then(({result:m})=>u({type:"delete",keys:m,trans:d}).then(y=>y.numFailures>0?Promise.reject(y.failures[0]):m.length<b?{failures:[],numFailures:0,lastResult:void 0}:h(d,{...f,lower:m[m.length-1],lowerOpen:!0},b)))}}}}})};function ko(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)pe(t.keys[i],e[s])===0&&(r.push(n?en(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch{return null}}const wc={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=ko(r.keys,r.trans._cache,r.cache==="clone");return i?L.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?en(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function $i(e){return!("from"in e)}const Oe=function(e,t){if(!this){const n=new Oe;return e&&"d"in e&&me(n,e),n}me(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Qt(e,t,n){const r=pe(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if($i(e))return me(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(pe(n,e.from)<0)return i?Qt(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},zi(e);if(pe(t,e.to)>0)return s?Qt(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},zi(e);pe(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),pe(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;i&&!e.l&&Nn(e,i),s&&o&&Nn(e,s)}function Nn(e,t){$i(t)||function n(r,{from:i,to:s,l:o,r:a}){Qt(r,i,s),o&&n(r,o),a&&n(r,a)}(e,t)}function $c(e,t){const n=Qr(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=Qr(e);let o=s.next(i.from),a=o.value;for(;!r.done&&!o.done;){if(pe(a.from,i.to)<=0&&pe(a.to,i.from)>=0)return!0;pe(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function Qr(e){let t=$i(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&pe(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||pe(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function zi(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...e},a=e[i];e.from=a.from,e.to=a.to,e[i]=a[i],o[i]=a[s],e[s]=o,o.d=Hi(o)}e.d=Hi(e)}function Hi({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}St(Oe.prototype,{add(e){return Nn(this,e),this},addKey(e){return Qt(this,e,e),this},addKeys(e){return e.forEach(t=>Qt(this,t,t)),this},[Rr](){return Qr(this)}});const Sc={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Oe(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:s}=i,{primaryKey:o}=s,{extractKey:a,outbound:l}=o,c={...i,mutate:d=>{const f=d.trans,b=f.mutatedParts||(f.mutatedParts={}),m=P=>{const C=`idb://${t}/${r}/${P}`;return b[C]||(b[C]=new Oe)},y=m(""),g=m(":dels"),{type:p}=d;let[w,$]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const S=d.trans._cache;return i.mutate(d).then(P=>{if(he(w)){p!=="delete"&&(w=P.results),y.addKeys(w);const C=ko(w,S);C||p==="add"||g.addKeys(w),(C||$)&&function(I,k,R,T){function E(B){const N=I(B.name||"");function ae(q){return q!=null?B.extractKey(q):null}const H=q=>B.multiEntry&&he(q)?q.forEach(W=>N.addKey(W)):N.addKey(q);(R||T).forEach((q,W)=>{const Q=R&&ae(R[W]),oe=T&&ae(T[W]);pe(Q,oe)!==0&&(Q!=null&&H(Q),oe!=null&&H(oe))})}k.indexes.forEach(E)}(m,s,C,$)}else if(w){const C={from:w.lower,to:w.upper};g.add(C),y.add(C)}else y.add(n),g.add(n),s.indexes.forEach(C=>m(C.name).add(n));return P})}},u=({query:{index:d,range:f}})=>{var b,m;return[d,new Oe((b=f.lower)!==null&&b!==void 0?b:e.MIN_KEY,(m=f.upper)!==null&&m!==void 0?m:e.MAX_KEY)]},h={get:d=>[o,new Oe(d.key)],getMany:d=>[o,new Oe().addKeys(d.keys)],count:u,query:u,openCursor:u};return re(h).forEach(d=>{c[d]=function(f){const{subscr:b}=j;if(b){const m=$=>{const S=`idb://${t}/${r}/${$}`;return b[S]||(b[S]=new Oe)},y=m(""),g=m(":dels"),[p,w]=h[d](f);if(m(p.name||"").add(w),!p.isPrimaryKey){if(d!=="count"){const $=d==="query"&&l&&f.values&&i.query({...f,values:!1});return i[d].apply(this,arguments).then(S=>{if(d==="query"){if(l&&f.values)return $.then(({result:C})=>(y.addKeys(C),S));const P=f.values?S.result.map(a):S.result;f.values?y.addKeys(P):g.addKeys(P)}else if(d==="openCursor"){const P=S,C=f.values;return P&&Object.create(P,{key:{get:()=>(g.addKey(P.primaryKey),P.key)},primaryKey:{get(){const I=P.primaryKey;return g.addKey(I),I}},value:{get:()=>(C&&y.addKey(P.primaryKey),P.value)}})}return S})}g.add(n)}}return i[d].apply(this,arguments)}}),c}}}};class rt{constructor(t,n){this._middlewares={},this.verno=0;const r=rt.dependencies;this._options=n={addons:rt.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:G,dbReadyPromise:null,cancelOpen:G,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new L(a=>{s.dbReadyResolve=a}),s.openCanceller=new L((a,l)=>{s.cancelOpen=l}),this._state=s,this.name=t,this.on=Ft(this,"populate","blocked","versionchange","close",{ready:[mi,G]}),this.on.ready.subscribe=Xs(this.on.ready.subscribe,a=>(l,c)=>{rt.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||L.resolve().then(l),c&&a(l);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(l),c&&a(l);else{a(l);const h=this;c||a(function d(){h.on.ready.unsubscribe(l),h.on.ready.unsubscribe(d)})}})}),this.Collection=(o=this,Et(oc.prototype,function(a,l){this.db=o;let c=vo,u=null;if(l)try{c=l()}catch(b){u=b}const h=a._ctx,d=h.table,f=d.hook.reading.fire;this._ctx={table:d,index:h.index,isPrimKey:!h.index||d.schema.primKey.keyPath&&h.index===d.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:h.or,valueMapper:f!==zt?f:null}})),this.Table=function(a){return Et(sc.prototype,function(l,c,u){this.db=a,this._tx=u,this.name=l,this.schema=c,this.hook=a._allTables[l]?a._allTables[l].hook:Ft(null,{creating:[Hl,G],reading:[zl,zt],updating:[Gl,G],deleting:[Yl,G]})})}(this),this.Transaction=function(a){return Et(uc.prototype,function(l,c,u,h,d){this.db=a,this.mode=l,this.storeNames=c,this.schema=u,this.chromeTransactionDurability=h,this.idbtrans=null,this.on=Ft(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new L((f,b)=>{this._resolve=f,this._reject=b}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},f=>{var b=this.active;return this.active=!1,this.on.error.fire(f),this.parent?this.parent._reject(f):b&&this.idbtrans&&this.idbtrans.abort(),ie(f)})})}(this),this.Version=function(a){return Et(mc.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return Et(_o.prototype,function(l,c,u){this.db=a,this._ctx={table:l,index:c===":id"?null:c,or:u};const h=a._deps.indexedDB;if(!h)throw new M.MissingAPI;this._cmp=this._ascending=h.cmp.bind(h),this._descending=(d,f)=>h.cmp(f,d),this._max=(d,f)=>h.cmp(d,f)>0?d:f,this._min=(d,f)=>h.cmp(d,f)<0?d:f,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=Xt(n.IDBKeyRange),this._createTransaction=(a,l,c,u)=>new this.Transaction(a,l,c,this._options.chromeTransactionDurability,u),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Mt.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(bc),this.use(_c),this.use(Sc),this.use(wc),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new M.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new M.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(fc),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||j.letThrough||this._vip)?t():new L((n,r)=>{if(this._state.openComplete)return r(new M.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new M.DatabaseClosed);this.open().catch(G)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:r??10,name:i}),s.sort((o,a)=>o.level-a.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return yc(this)}_close(){const t=this._state,n=Mt.indexOf(this);if(n>=0&&Mt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new L(r=>{t.dbReadyResolve=r}),t.openCanceller=new L((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new M.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new L((r,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=Z(()=>{(function({indexedDB:a,IDBKeyRange:l},c){!_i(a)&&c!==Hn&&bi(a,l).delete(c).catch(G)})(this._deps,this.name),r()}),o.onerror=Ce(i),o.onblocked=this._fireOnBlocked};if(t)throw new M.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return re(this._allTables).map(t=>this._allTables[t])}transaction(){const t=vc.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=j.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const s=t.indexOf("?")!==-1;let o,a;t=t.replace("!","").replace("?","");try{if(a=n.map(c=>{var u=c instanceof this.Table?c.name:c;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===nr)o=nr;else{if(t!="rw"&&t!=rr)throw new M.InvalidArgument("Invalid transaction mode: "+t);o=rr}if(i){if(i.mode===nr&&o===rr){if(!s)throw new M.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(c=>{if(i&&i.storeNames.indexOf(c)===-1){if(!s)throw new M.SubTransaction("Table "+c+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,(u,h)=>{h(c)}):ie(c)}const l=xo.bind(null,this,o,a,i,r);return i?i._promise(o,l,"lock"):j.trans?Pt(j.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!be(this._allTables,t))throw new M.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const xc=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class kc{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[xc](){return this}}function Co(e,t){return re(t).forEach(n=>{Nn(e[n]||(e[n]=new Oe),t[n])}),e}function Cc(e){let t,n=!1;const r=new kc(i=>{const s=di(e);let o=!1,a={},l={};const c={get closed(){return o},unsubscribe:()=>{o=!0,Ye.storagemutated.unsubscribe(f)}};i.start&&i.start(c);let u=!1,h=!1;function d(){return re(l).some(m=>a[m]&&$c(a[m],l[m]))}const f=m=>{Co(a,m),d()&&b()},b=()=>{if(u||o)return;a={};const m={},y=function(g){s&&Ct();const p=()=>ze(e,{subscr:g,trans:null}),w=j.trans?Pt(j.transless,p):p();return s&&w.then(Ke,Ke),w}(m);h||(Ye(Gt,f),h=!0),u=!0,Promise.resolve(y).then(g=>{n=!0,t=g,u=!1,o||(d()?b():(a={},l=m,i.next&&i.next(g)))},g=>{u=!1,n=!1,i.error&&i.error(g),c.unsubscribe()})};return b(),c});return r.hasValue=()=>n,r.getValue=()=>t,r}let Jr;try{Jr={indexedDB:J.indexedDB||J.mozIndexedDB||J.webkitIndexedDB||J.msIndexedDB,IDBKeyRange:J.IDBKeyRange||J.webkitIDBKeyRange}}catch{Jr={indexedDB:null,IDBKeyRange:null}}const Ge=rt;function Sn(e){let t=Be;try{Be=!0,Ye.storagemutated.fire(e)}finally{Be=t}}St(Ge,{...yn,delete:e=>new Ge(e,{addons:[]}).delete(),exists:e=>new Ge(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return _i(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==Hn)):bi(t,n).toCollection().primaryKeys()}(Ge.dependencies).then(e)}catch{return ie(new M.MissingAPI)}},defineClass:()=>function(e){me(this,e)},ignoreTransaction:e=>j.trans?Pt(j.transless,e):e(),vip:Gr,async:function(e){return function(){try{var t=Xr(e.apply(this,arguments));return t&&typeof t.then=="function"?t:L.resolve(t)}catch(n){return ie(n)}}},spawn:function(e,t,n){try{var r=Xr(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:L.resolve(r)}catch(i){return ie(i)}},currentTransaction:{get:()=>j.trans||null},waitFor:function(e,t){const n=L.resolve(typeof e=="function"?Ge.ignoreTransaction(e):e).timeout(t||6e4);return j.trans?j.trans.waitFor(n):n},Promise:L,debug:{get:()=>Ee,set:e=>{no(e,e==="dexie"?()=>!0:yo)}},derive:vt,extend:me,props:St,override:Xs,Events:Ft,on:Ye,liveQuery:Cc,extendObservabilitySet:Co,getByKeyPath:je,setByKeyPath:ke,delByKeyPath:function(e,t){typeof t=="string"?ke(e,t,void 0):"length"in t&&[].map.call(t,function(n){ke(e,n,void 0)})},shallowClone:Zs,deepClone:en,getObjectDiff:wi,cmp:pe,asap:Qs,minKey:Fr,addons:[],connections:Mt,errnames:pi,dependencies:Jr,semVer:Mi,version:Mi.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Ge.maxKey=Xt(Ge.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ye(Gt,e=>{if(!Be){let t;zn?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Ve,!0,!0,e)):t=new CustomEvent(Ve,{detail:e}),Be=!0,dispatchEvent(t),Be=!1}}),addEventListener(Ve,({detail:e})=>{Be||Sn(e)}));let Be=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(Ve);typeof e.unref=="function"&&e.unref(),Ye(Gt,t=>{Be||e.postMessage(t)}),e.onmessage=t=>{t.data&&Sn(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Ye(Gt,t=>{try{Be||(typeof localStorage<"u"&&localStorage.setItem(Ve,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Ve,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===Ve){const n=JSON.parse(t.newValue);n&&Sn(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===Ve&&Sn(t.changedParts)})}L.rejectionMapper=function(e,t){if(!e||e instanceof bt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!ji[e.name])return e;var n=new ji[e.name](t||e.message,e);return"stack"in e&&Ie(n,"stack",{get:function(){return this.inner.stack}}),n},no(Ee,yo);class Pc extends rt{spells;classes;races;backgrounds;items;feats;constructor(t){super(t),this.version(1).stores({spells:"name",classes:"name",races:"name",backgrounds:"name",items:"name",feats:"name"})}}const xe=new Pc("dndSrd"),[Yi,Ec]=D([]);function Po(){const e=Se.toObservable(xe.classes.toArray());return Yi().length===0&&e.pipe(we(1),_e(t=>t.length>0?ee(t):ee([])),_e(t=>t.length===0?Se.post("/api/DnDInfo/Classes",{}).pipe(we(1),lt(n=>(console.error("Error: ",n),ee(null))),$e(n=>{n&&xe.classes.bulkAdd(n)})):ee(t)),$e(t=>t&&t.length>0?Ec(t):null)).subscribe(),Yi}const Ac="_primary_1a8rj_1",Rc="_accent_1a8rj_12",Oc="_tertiary_1a8rj_65",Tc="_warn_1a8rj_70",Bc="_hover_1a8rj_74",Lc="_popup_1a8rj_88",Ic="_table_1a8rj_100",Xe={primary:Ac,accent:Rc,tertiary:Oc,warn:Tc,hover:Bc,popup:Lc,table:Ic},jc="_primary_hhp2e_1",Dc="_accent_hhp2e_7",Kc="_warn_hhp2e_13",Nc="_hover_hhp2e_17",Mc="_popup_hhp2e_28",Fc="_table_hhp2e_41",qc="_tBody_hhp2e_55",Vc="_THead_hhp2e_60",Qe={primary:jc,accent:Dc,warn:Kc,hover:Nc,popup:Mc,table:Fc,tBody:qc,THead:Vc},Uc={primary:Qe.primary,accent:Qe.accent,tertiary:Qe.tertiary,warn:Qe.warn,hover:Qe.hover,popup:Qe.popup,table:Qe.table},Gi={primary:Xe.primary,accent:Xe.accent,tertiary:Xe.tertiary,warn:Xe.warn,hover:Xe.hover,popup:Xe.popup,table:Xe.table};function X(e="dark"){switch(e.toLowerCase()){case"light":return Uc;case"dark":return document.body.style.backgroundColor="#212121",Gi;default:return Gi}}const[Xi,Wc]=D([]);function Eo(){const e=Se.toObservable(xe.spells.toArray());return Xi().length===0&&e.pipe(we(1),_e(t=>t.length>0?ee(t):ee([])),_e(t=>t.length===0?Se.post("/api/DnDInfo/Spells",{}).pipe(we(1),lt(n=>(console.error("Error: ",n),ee(null))),$e(n=>{n&&xe.spells.bulkAdd(n)})):ee(t)),$e(t=>t&&t.length>0?Wc(t):null)).subscribe(),Xi}const[Qi,zc]=D([]);function Ao(){const e=Se.toObservable(xe.feats.toArray());return Qi().length===0&&e.pipe(we(1),_e(t=>t.length>0?ee(t):ee([])),_e(t=>t.length===0?Se.post("/api/DnDInfo/Feats",{}).pipe(we(1),lt(n=>(console.error("Error: ",n),ee(null))),$e(n=>{n&&xe.feats.bulkAdd(n)})):ee(t)),$e(t=>t&&t.length>0?zc(t):null)).subscribe(),Qi}const[Ji,Hc]=D([]);function Ro(){const e=Se.toObservable(xe.races.toArray());return Ji().length===0&&e.pipe(we(1),_e(t=>t.length>0?ee(t):ee([])),_e(t=>t.length===0?Se.post("/api/DnDInfo/Races",{}).pipe(we(1),lt(n=>(console.error("Error: ",n),ee(null))),$e(n=>{n&&xe.races.bulkAdd(n)})):ee(t)),$e(t=>t&&t.length>0?Hc(t):null)).subscribe(),Ji}const[Zi,Yc]=D([]);function Oo(){const e=Se.toObservable(xe.backgrounds.toArray());return Zi().length===0&&e.pipe(we(1),_e(t=>t.length>0?ee(t):ee([])),_e(t=>t.length===0?Se.post("/api/DnDInfo/Backgrounds",{}).pipe(we(1),lt(n=>(console.error("Error: ",n),ee(null))),$e(n=>{n&&xe.backgrounds.bulkAdd(n)})):ee(t)),$e(t=>t&&t.length>0?Yc(t):null)).subscribe(),Zi}const[es,Gc]=D([]);function Xc(){const e=Se.toObservable(xe.items.toArray());return es().length===0&&e.pipe(we(1),_e(t=>t.length>0?ee(t):ee([])),_e(t=>t.length===0?Se.post("/api/DnDInfo/Items",{}).pipe(we(1),lt(n=>(console.error("Error: ",n),ee(null))),$e(n=>{n&&xe.items.bulkAdd(n)})):ee(t)),$e(t=>t&&t.length>0?Gc(t):null)).subscribe(),es}const Qc="_AppBody_1ckpc_1",Jc={AppBody:Qc};function Zc(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e;let a,l;const c=async(h=!0)=>{await l};async function u(){if("serviceWorker"in navigator){if(a=await Mn(()=>import("./workbox-window.prod.es5-HOwwy-x7.js"),__vite__mapDeps([])).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o?.(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r?.()}),a.register({immediate:t}).then(h=>{s?s("/sw.js",h):i?.(h)}).catch(h=>{o?.(h)})}}return l=u(),c}function To(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e,[a,l]=D(!1),[c,u]=D(!1),h=Zc({immediate:t,onOfflineReady(){u(!0),r?.()},onNeedRefresh(){l(!0),n?.()},onRegistered:i,onRegisteredSW:s,onRegisterError:o});return{needRefresh:[a,l],offlineReady:[c,u],updateServiceWorker:h}}const eu="_Container_8liaz_1",tu="_Toast_8liaz_15",nu="_ToastMessage_8liaz_43",ru="_ToastButton_8liaz_51",At={Container:eu,Toast:tu,ToastMessage:nu,ToastButton:ru};var iu=x("<span>App ready to work offline"),su=x("<button>Reload"),ou=x("<div><div></div><button>Close"),au=x("<div>"),lu=x("<span>New content available, click on reload button to update.");const cu=()=>{const{offlineReady:[e,t],needRefresh:[n,r],updateServiceWorker:i}=To({onRegistered(o){console.log("SW Registered: ",o)},onRegisterError(o){console.log("SW registration error",o)}}),s=()=>{t(!1),r(!1)};return(()=>{var o=au();return v(o,_(K,{get when(){return e()||n()},get children(){var a=ou(),l=a.firstChild,c=l.nextSibling;return v(l,_(K,{get fallback(){return lu()},get when(){return e()},get children(){return iu()}})),v(a,_(K,{get when(){return n()},get children(){var u=su();return u.$$click=()=>i(!0),A(()=>O(u,At.ToastButton)),u}}),c),c.$$click=()=>s(),A(u=>{var h=At.Toast,d=At.Message,f=At.ToastButton;return h!==u.e&&O(a,u.e=h),d!==u.t&&O(l,u.t=d),f!==u.a&&O(c,u.a=f),u},{e:void 0,t:void 0,a:void 0}),a}})),A(()=>O(o,At.Container)),o})()};ge(["click"]);const uu="_header_q7g3p_1",hu="_body_q7g3p_17",du="_totalPanel_q7g3p_22",lr={header:uu,body:hu,totalPanel:du};var fu=x("<div>"),pu=x("<div><div><span></span><span>");const Jt=e=>{const[t,n]=D(!1),r=X();return(()=>{var i=pu(),s=i.firstChild,o=s.firstChild,a=o.nextSibling;return ii(i,Vt({get class(){return`${lr.totalPanel} ${e.styles}`}},e),!1,!0),v(o,()=>e.children[0]),a.$$click=()=>n(l=>!l),v(a,_(K,{get when(){return t()},children:"↓"}),null),v(a,_(K,{get when(){return!t()},children:"↑"}),null),v(i,_(K,{get when(){return t()},get children(){var l=fu();return v(l,()=>e.children[1]),A(()=>O(l,`${r.accent} ${lr.body}`)),l}}),null),A(l=>{var c=`${r.accent} ${lr.header}`,u=`${r.hover}`;return c!==l.e&&O(s,l.e=c),u!==l.t&&O(a,l.t=u),l},{e:void 0,t:void 0}),i})()};ge(["click"]);var mu=x("<div>Welcome to my app. This is a work in progress."),gu=x("<div>It'll be great eventually."),yu=x("<div><h1>Home</h1><div>");const vu=()=>{const e=X();return Po(),Eo(),Ao(),Ro(),Xc(),Oo(),(()=>{var t=yu(),n=t.firstChild,r=n.nextSibling;return r.style.setProperty("width","30%"),v(r,_(Jt,{get children(){return[mu(),(()=>{var i=gu();return i.style.setProperty("padding","15px"),i})()]}})),v(t,_(cu,{}),null),A(()=>O(t,`${e.accent} ${Jc.AppBody}`)),t})()},bu="_active_8eb29_1",_u="_inactive_8eb29_6",wu="_navbar_8eb29_11",Rt={active:bu,inactive:_u,navbar:wu};var xn=(e=>(e[e.DnD5e=0]="DnD5e",e[e.TOValient=1]="TOValient",e))(xn||{});function $u(e){const[t,n]=D([]),r=xn.DnD5e;return A(()=>{switch(!0){case e().startsWith("/info"):const i=[{Name:"All",Link:"/info"},{Name:"Races",Link:"/info/races"},{Name:"Items",Link:"/info/items"},{Name:"Spells",Link:"/info/spells"},{Name:"Feats",Link:"/info/feats"},{Name:"Classes",Link:"/info/classes"}];r===xn.DnD5e?i.push({Name:"Backgrounds",Link:"/info/backgrounds"}):r===xn.TOValient&&i.push({Name:"Heritages",Link:"/info/heritages"}),n(i);break;case e().startsWith("/characters"):n([{Name:"All",Link:"/characters"},{Name:"View",Link:"/characters/view"},{Name:"Create",Link:"/characters/create"}]);break;case e().startsWith("/homebrew"):n([{Name:"All",Link:"/homebrew"},{Name:"View",Link:"/homebrew/view"},{Name:"Create",Link:"/homebrew/create"}]);break;default:n([]);break}}),t}function Su(e,t){const n=document.getElementById("root"),r=i=>!e.contains(i.target)&&t()?.();n.addEventListener("click",r),wt(()=>{n.removeEventListener("click",r)})}var xu=x("<div>");const ku=e=>{const t=X(),[n,r]=e.backgroundClick??D(!0);return _($a,{get children(){var i=xu();return ma(Su,i,()=>()=>r(!n())),v(i,()=>e.children),A(s=>{var o=e.width,a=e.height,l=`translate(${e.translate.x??"-50%"},${e.translate.y??"-50%"})`,c=`${t.popup} ${t.primary}`;return o!==s.e&&((s.e=o)!=null?i.style.setProperty("width",o):i.style.removeProperty("width")),a!==s.t&&((s.t=a)!=null?i.style.setProperty("height",a):i.style.removeProperty("height")),l!==s.a&&((s.a=l)!=null?i.style.setProperty("transform",l):i.style.removeProperty("transform")),c!==s.o&&O(i,s.o=c),s},{e:void 0,t:void 0,a:void 0,o:void 0}),i}})},Cu="_menuButton_frhu5_1",Pu="_menuButtons_frhu5_10",ts={menuButton:Cu,menuButtons:Pu};var Eu=x('<button type=button><svg width=32pt height=32pt version=1.1 viewBox="0 0 128 128"xmlns=http://www.w3.org/2000/svg><path d="m113.15 40.062c4.9922 0 8.5742-3.5859 8.5742-8.4492s-3.5859-8.7031-8.5742-8.7031h-98.176c-4.8633 0-8.7031 3.8398-8.7031 8.7031s3.8398 8.4492 8.7031 8.4492zm-98.176 47.875c-4.8633 0-8.7031 3.8398-8.7031 8.5742s3.8398 8.7031 8.7031 8.7031h98.305c4.9922 0 8.5742-3.9688 8.5742-8.7031s-3.5859-8.5742-8.5742-8.5742zm0-32.641c-4.8633 0-8.7031 3.8398-8.7031 8.7031s3.8398 8.7031 8.7031 8.7031h98.305c4.9922 0 8.5742-3.8398 8.5742-8.7031s-3.5859-8.7031-8.5742-8.7031z"></path></svg>'),Au=x("<ul>"),Ru=x("<li><button>");const Ou=()=>{const[e,t]=D(!1),n=X(),[r,i]=D(!1),s=[{name:"Login",condition:()=>!r(),action:()=>{i(!0)}},{name:"Register",condition:()=>!r(),action:()=>{}},{name:"Logout",condition:r,action:()=>{i(!1)}},{name:"Profile",condition:r,action:()=>{}},{name:"Settings",condition:()=>!0,action:()=>{}}];return[(()=>{var o=Eu();return o.$$click=()=>t(!e()),A(()=>O(o,`${n.accent} ${n.hover}`)),o})(),_(K,{get when(){return e()},get children(){return _(ku,{width:"10%",height:"25%",translate:{x:"36vw",y:"-40vh"},backgroundClick:[e,t],get children(){var o=Au();return v(o,_(F,{each:s,children:a=>_(K,{get when(){return a.condition()},get children(){var l=Ru(),c=l.firstChild;return Wn(c,"click",a.action,!0),v(c,()=>a.name),A(u=>{var h=`${100/s.filter(b=>b.condition()).length}%`,d=`${n.hover}`,f=`${n.accent} ${ts.menuButton}`;return h!==u.e&&((u.e=h)!=null?l.style.setProperty("height",h):l.style.removeProperty("height")),d!==u.t&&O(l,u.t=d),f!==u.a&&O(c,u.a=f),u},{e:void 0,t:void 0,a:void 0}),l}})})),A(()=>O(o,`${ts.menuButtons}`)),o}})}})]};ge(["click"]);var Tu=x("<span>MySite"),Bu=x("<li><div>MySite"),Lu=x("<div><ul>"),Iu=x("<div><div><ul>"),ju=x("<button>"),ns=x("<li>");const Du=e=>{const t=X();D(!1);const[n,r]=D(window.location.pathname),i=[{Name:"Home",Link:"/"},{Name:"Characters",Link:"/characters"},{Name:"Info",Link:"/info"},{Name:"Homebrew",Link:"/homebrew"}];let s=$u(n);const[o,a]=e.list,[l,c]=D(!1);return A(()=>{c(!o())}),(()=>{var u=Iu(),h=u.firstChild,d=h.firstChild;return v(h,_(K,{get when(){return!o()},get children(){return Tu()}}),d),v(d,_(K,{get when(){return o()},get children(){return Bu()}}),null),v(d,_(F,{each:i,children:(f,b)=>_(K,{get when(){return!o()||b()===0||l()},get children(){var m=ns();return v(m,_(Oi,{onClick:()=>r(f.Link),get href(){return f.Link},get children(){return f.Name}}),null),v(m,_(K,{get when(){return U(()=>!!o())()&&b()===0},get children(){var y=ju();return y.$$click=()=>c(!l()),y.style.setProperty("background","none"),y.style.setProperty("color","white"),y.style.setProperty("font-size","1.5rem"),y.style.setProperty("padding","0 10px"),y.style.setProperty("width","min-content"),y.style.setProperty("margin-right","0"),v(y,()=>l()?"↑":"↓"),y}}),null),A(()=>O(m,`${t.hover} ${n()==="/"&&f.Link==="/"||n().startsWith(f.Link)&&n()!=="/"&&f.Link!=="/"?Rt.active:Rt.inactive}`)),m}})}),null),v(h,_(Ou,{}),null),v(u,_(K,{get when(){return s().length>0},get children(){var f=Lu(),b=f.firstChild;return v(b,_(F,{get each(){return s()},children:m=>(()=>{var y=ns();return v(y,_(Oi,{onClick:()=>r(m.Link),get href(){return m.Link},get children(){return m.Name}})),A(()=>O(y,`${t.hover} ${n()===m.Link?Rt.active:Rt.inactive}`)),y})()})),A(()=>O(f,e.style)),f}}),null),A(f=>{var b=Rt.navbar,m=o()?{margin:"0 auto",width:"100%"}:{},y=`${e.style}`,g=o()?{margin:"0 auto",width:"min-content"}:{};return b!==f.e&&O(u,f.e=b),f.t=_r(h,m,f.t),y!==f.a&&O(h,f.a=y),f.o=_r(d,g,f.o),f},{e:void 0,t:void 0,a:void 0,o:void 0}),u})()};ge(["click"]);var Ku=x("<div><h1>Homebrew");const Nu=()=>{const e=X();return(()=>{var t=Ku();return A(()=>O(t,`${e.accent}`)),t})()},Mu="_sidebar_kzjue_1",Fu="_body_kzjue_27",qu="_bodyMenu_kzjue_48",Zr={sidebar:Mu,body:Fu,bodyMenu:qu};var Vu=x("<div><ul>"),Uu=x("<li><a>");const ut=()=>{const e=X(),[t,n]=D([]);return n([{Name:"Classes",Link:"/homebrew/create/classes"},{Name:"Race",Link:"/homebrew/create/races"},{Name:"Backgrounds",Link:"/homebrew/create/backgrounds"},{Name:"Feats",Link:"/homebrew/create/feats"},{Name:"Spell",Link:"/homebrew/create/spells"},{Name:"Items",Link:"/homebrew/create/items"}]),(()=>{var r=Vu(),i=r.firstChild;return v(i,_(F,{get each(){return t()},children:s=>(()=>{var o=Uu(),a=o.firstChild;return v(a,()=>s.Name),A(l=>{var c=`${e.hover}`,u=s.Link;return c!==l.e&&O(o,l.e=c),u!==l.t&&We(a,"href",l.t=u),l},{e:void 0,t:void 0}),o})()})),A(()=>O(r,`${e.accent} ${Zr.sidebar}`)),r})()};var Wu=x("<div><h1>Create</h1><div>"),zu=x("<a><div><p>"),Hu=x("<div>");const Yu=()=>{const e=X(),t=[{name:"Classes"},{name:"Races"},{name:"Backgrounds"},{name:"Feats"},{name:"Spells"},{name:"Items"}],[n,r]=D(t);return[_(ut,{}),(()=>{var i=Wu(),s=i.firstChild,o=s.nextSibling;return v(o,_(F,{get each(){return n()},children:(a,l)=>[(()=>{var c=zu(),u=c.firstChild,h=u.firstChild;return v(h,()=>a.name),A(d=>{var f=`${e.accent}`,b=`/homebrew/create/${a.name.toLowerCase()}`,m=`${e.hover}`;return f!==d.e&&O(c,d.e=f),b!==d.t&&We(c,"href",d.t=b),m!==d.a&&O(u,d.a=m),d},{e:void 0,t:void 0,a:void 0}),c})(),_(K,{get when(){return l()===2},get children(){var c=Hu();return c.style.setProperty("height","0"),c.style.setProperty("flex-basis","100%"),c}})]})),A(a=>{var l=`${e.accent} ${Zr.body}`,c=`${Zr.bodyMenu} `;return l!==a.e&&O(i,a.e=l),c!==a.t&&O(o,a.t=c),a},{e:void 0,t:void 0}),i})()]};var Gu=x("<div><h1>View");const Xu=()=>{const e=X();return(()=>{var t=Gu();return A(()=>O(t,`${e.accent}`)),t})()},Qu="_body_p2t3d_1",Ju={body:Qu};var Zu=x("<div><h1>classes");const eh=()=>{const e=X();return[_(ut,{}),(()=>{var t=Zu();return A(()=>O(t,`${e.accent} ${Ju.body}`)),t})()]},th="_body_p2t3d_1",nh={body:th};var rh=x("<div><h1>items");const ih=()=>{const e=X();return[_(ut,{}),(()=>{var t=rh();return A(()=>O(t,`${e.accent} ${nh.body}`)),t})()]},sh="_body_1kqz9_1",oh="_name_1kqz9_22",ah="_preRequisites_1kqz9_26",lh="_Description_1kqz9_45",fn={body:sh,name:oh,preRequisites:ah,Description:lh},Bo=()=>{const e=Po();return U(()=>[...e()])},Lo=()=>{const e=Ao();return U(()=>[...e()])};var ch=x("<div><h1>Feats</h1><div><div><h2>Add Name</h2><input type=text id=featName></div><div><h2>Add Pre-Requisites</h2><div><select><option>Ability Score</option><option>Class</option><option>Class Level</option><option>Classes</option></select><button>Add</button></div><div></div></div><div><h2>Description</h2><textarea id=featDescription name=featDescription>"),rs=x("<div>"),mt=(e=>(e[e.AbilityScore=0]="AbilityScore",e[e.Class=1]="Class",e[e.CharacterLevel=2]="CharacterLevel",e[e.ClassArray=3]="ClassArray",e))(mt||{});const uh=()=>{const e=X();Bo(),Lo();const[t,n]=D([]),[r,i]=D(0);D("");const s=o=>{n(a=>[...a,{info:{className:"",subclassName:"",level:0,type:mt[r()],other:""},name:"",value:""}])};return A(()=>{console.log("preReqs: ",t())}),[_(ut,{}),(()=>{var o=ch(),a=o.firstChild,l=a.nextSibling,c=l.firstChild,u=c.nextSibling,h=u.firstChild,d=h.nextSibling,f=d.firstChild,b=f.firstChild,m=b.nextSibling,y=m.nextSibling,g=y.nextSibling,p=f.nextSibling,w=d.nextSibling,$=u.nextSibling;return f.addEventListener("change",S=>i(()=>+S.currentTarget.value)),p.$$click=s,v(w,_(F,{get each(){return t()},children:(S,P)=>(()=>{var C=rs();return v(C,_(On,{get children(){return _(Pe,{when:!0,get children(){return rs()}})}})),C})()})),A(S=>{var P=`${e.accent} ${fn.body}`,C=`${fn.name}`,I=`${fn.preRequisites}`,k=`${fn.Description}`;return P!==S.e&&O(o,S.e=P),C!==S.t&&O(c,S.t=C),I!==S.a&&O(u,S.a=I),k!==S.o&&O($,S.o=k),S},{e:void 0,t:void 0,a:void 0,o:void 0}),A(()=>b.value=0),A(()=>m.value=1),A(()=>y.value=2),A(()=>g.value=3),o})()]};ge(["click"]);const hh="_body_p2t3d_1",dh={body:hh};var fh=x("<div><h1>backgrounds");const ph=()=>{const e=X();return[_(ut,{}),(()=>{var t=fh();return A(()=>O(t,`${e.accent} ${dh.body}`)),t})()]},mh="_body_p2t3d_1",gh={body:mh};var yh=x("<div><h1>spells");const vh=()=>{const e=X();return[_(ut,{}),(()=>{var t=yh();return A(()=>O(t,`${e.accent} ${gh.body}`)),t})()]},bh="_body_p2t3d_1",_h={body:bh};var wh=x("<div><h1>races");const $h=()=>{const e=X();return[_(ut,{}),(()=>{var t=wh();return A(()=>O(t,`${e.accent} ${_h.body}`)),t})()]},Sh="_SpellsBody_ump1u_1",xh="_materials_needed_ump1u_1",kh="_TableRow_ump1u_32",Ch="_headerBar_ump1u_64",cr={SpellsBody:Sh,materials_needed:xh,TableRow:kh,headerBar:Ch},Ph="_TableRow_41syk_1",Eh={TableRow:Ph};var Ah=x("<td><strong>Materials:</strong> "),Rh=x("<td><strong>higher levels:"),Oh=x("<td><textarea></textarea>"),Th=x("<tr><td><h2><strong></strong></h2></td><td><strong>Level:</strong> </td><td><strong>School:</strong> </td><td><strong>Casting time:</strong> </td><td><strong>Range:</strong> </td><td><strong>Components:</strong> </td><td><strong>Duration:</strong> </td><td><strong>Classes:</strong> </td><td><strong>Subclasses:</strong> </td><td><strong>Description:</strong></td><td><textarea name=spell_desc>");const Bh=e=>{const t=e.spell.isMaterial,n=e.spell.isSomatic,r=e.spell.isVerbal;function i(){let o=[],a=[];return r&&o.push("V"),n&&o.push("S"),t&&o.push("M"),a.push(o.join(", ")),t&&a.push(e.spell.materials_Needed),a}let s=i();return(()=>{var o=Th(),a=o.firstChild,l=a.firstChild,c=l.firstChild,u=a.nextSibling,h=u.firstChild;h.nextSibling;var d=u.nextSibling,f=d.firstChild;f.nextSibling;var b=d.nextSibling,m=b.firstChild;m.nextSibling;var y=b.nextSibling,g=y.firstChild;g.nextSibling;var p=y.nextSibling,w=p.firstChild;w.nextSibling;var $=p.nextSibling,S=$.firstChild;S.nextSibling;var P=$.nextSibling,C=P.firstChild;C.nextSibling;var I=P.nextSibling,k=I.firstChild;k.nextSibling;var R=I.nextSibling,T=R.nextSibling,E=T.firstChild;return v(c,()=>e.spell.name),v(u,()=>e.spell.level,null),v(d,()=>e.spell.school,null),v(b,()=>e.spell.castingTime,null),v(y,()=>e.spell.range,null),v(p,()=>s[0],null),v(o,_(K,{when:t,get children(){var B=Ah(),N=B.firstChild;return N.nextSibling,v(B,()=>s[1],null),B}}),$),v($,()=>e.spell.duration,null),v(P,()=>e.spell.classes.join(", "),null),v(I,()=>e.spell.subClasses.join(", "),null),v(E,()=>e.spell.desc),v(o,_(K,{get when(){return!!e.spell.higherLevel},get children(){return Rh()}}),null),v(o,_(K,{get when(){return!!e.spell.higherLevel},get children(){var B=Oh(),N=B.firstChild;return v(N,()=>e.spell.higherLevel),B}}),null),A(()=>O(o,`${Eh.TableRow}`)),o})()};var Lh=x("<div><button>←←</button><button>←</button><select></select><span> / </span><button>→</button><button>→→"),Ih=x("<option>");const Io=e=>{const[t,n]=D(1),[r,i]=D(10),s=e.setPaginatedItems,o=X(),a=U(()=>e.items().slice((t()-1)*r(),t()*r())),l=U(()=>Math.ceil(e.items().length/r())),c=[10,20,50,100];return A(()=>{s(a())}),(()=>{var u=Lh(),h=u.firstChild,d=h.nextSibling,f=d.nextSibling,b=f.nextSibling,m=b.firstChild,y=b.nextSibling,g=y.nextSibling;return h.$$click=()=>n(1),d.$$click=()=>n(t()-1),f.addEventListener("change",p=>i(+p.currentTarget.value)),v(f,_(F,{each:c,children:p=>(()=>{var w=Ih();return w.value=p,v(w,p),w})()})),v(b,t,m),v(b,l,null),y.$$click=()=>n(t()+1),g.$$click=()=>n(l()),A(p=>{var w=`${o.accent} `,$=t()===1,S=t()===1,P=t()===l(),C=t()===l();return w!==p.e&&O(u,p.e=w),$!==p.t&&(h.disabled=p.t=$),S!==p.a&&(d.disabled=p.a=S),P!==p.o&&(y.disabled=p.o=P),C!==p.i&&(g.disabled=p.i=C),p},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),u})()};ge(["click"]);const jh="_chip_1bifh_1",Dh={chip:jh};var Kh=x("<span> : <!> <button>x");const Nh=e=>{const t=X();return(()=>{var n=Kh(),r=n.firstChild,i=r.nextSibling,s=i.nextSibling,o=s.nextSibling;return v(n,()=>e.key,r),v(n,()=>e.value,i),Wn(o,"click",e.clear,!0),A(()=>O(n,`${t.tertiary} ${Dh.chip}`)),n})()};ge(["click"]);const Mh="_searchBar_176b5_1",Fh="_booleanSelect_176b5_39",qh="_chipBar_176b5_67",ur={searchBar:Mh,booleanSelect:Fh,chipBar:qh};var Vh=x("<button>Clear All");const Uh=e=>{const t=X();return(()=>{var n=Vh();return Wn(n,"click",e.clear,!0),A(()=>O(n,`${t.accent}`)),n})()};ge(["click"]);function hr(e){return e.replace(/[_-]/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}var Wh=x("<select>"),zh=x("<select><option value=0>0</option><option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option><option value=7>7</option><option value=8>8</option><option value=9>9"),is=x('<input id=searchBar placeholder="Search Spells..."type=text>'),Hh=x("<div id=booleanBar><span><label for=falsebox></label><input type=checkbox id=booleanCheckbox>"),Yh=x("<div>"),Gh=x("<div><div><span><select id=chipDropdown>"),ss=x("<option>"),Xh=x('<svg><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z">');const Qh=e=>{const[t,n]=D({key:"",value:""}),[r,i]=D("name"),[s,o]=D(""),[a,l]=D(!1),[c,u]=D([]);D(!1),X(),document.getElementById("booleanCheckbox");const h=["Abjuration","Conjuration","Divination","Enchantment","Evocation","Illusion","Necromancy","Transmutation"];A(()=>{e.setSearchResults(e.spellsSrd().filter(f=>f&&c().length>0?!c().map(m=>{const y=f[m.key];if(y)switch(!0){case typeof y=="string":return y.toLowerCase().includes(m.value.toLowerCase());case Array.isArray(y):return y.join(" ").toLowerCase().includes(m.value.toLowerCase());case typeof y=="boolean":return` ${y} `.toLowerCase().includes(m.value.toLowerCase())}return!1}).includes(!1):!0))}),A(()=>{typeof e.spellsSrd()[0][r()]=="boolean"&&o(`${a()}`)}),A(()=>{u(f=>t().key?[...f,t()]:f),o(""),document.getElementById("searchBar")&&(document.getElementById("searchBar").value="")});const d=f=>{switch(f){case"name":return"Name";case"level":return"Level";case"school":return"School";case"castingTime":return"Casting Time";case"range":return"Range";case"duration":return"Duration";case"concentration":return"Conc";case"ritual":return"Ritual";case"damageType":return"Dmg Type";case"isMaterial":return"Material";case"isSomatic":return"Somatic";case"isVerbal":return"Verbal";case"classes":return"Classes";case"desc":return"Desc";case"subClasses":return"Subclasses"}};return(()=>{var f=Gh(),b=f.firstChild,m=b.firstChild,y=m.firstChild;return v(b,_(Jh,{onClick:()=>n(g=>({key:r(),value:hr(s())}))}),m),y.addEventListener("change",g=>i(g.target.value)),v(y,_(F,{get each(){return Object.keys(e.spellsSrd()[0]).filter(g=>!["materials_Needed","higherLevel","page"].includes(g))},children:g=>(()=>{var p=ss();return p.value=g,v(p,()=>d(g)),p})()})),v(b,_(On,{get children(){return[_(Pe,{get when(){return typeof e.spellsSrd()[0][r()]=="string"},get children(){return _(On,{get fallback(){return(()=>{var g=is();return g.$$keydown=p=>{p.key==="Enter"&&n(w=>({key:r(),value:hr(p.currentTarget.value)}))},g.addEventListener("change",p=>o(p.currentTarget.value)),A(()=>g.value=s()),g})()},get children(){return[_(Pe,{get when(){return r()==="school"},get children(){var g=Wh();return g.addEventListener("change",p=>o(p.currentTarget.value)),v(g,_(F,{each:h,children:p=>(()=>{var w=ss();return w.value=p,v(w,p),w})()})),g}}),_(Pe,{get when(){return r()==="level"},get children(){var g=zh();return g.addEventListener("change",p=>o(p.currentTarget.value)),g}})]}})}}),_(Pe,{get when(){return Array.isArray(e.spellsSrd()[0][r()])},get children(){var g=is();return g.$$keydown=p=>{p.key==="Enter"&&n(w=>({key:r(),value:hr(p.currentTarget.value)}))},g.addEventListener("change",p=>o(p.currentTarget.value)),A(()=>g.value=s()),g}}),_(Pe,{get when(){return typeof e.spellsSrd()[0][r()]=="boolean"},get children(){var g=Hh(),p=g.firstChild,w=p.firstChild,$=w.nextSibling;return v(w,_(K,{get when(){return a()===!1},children:"false"}),null),v(w,_(K,{get when(){return a()===!0},children:"true"}),null),$.addEventListener("change",()=>{l(!a()),o(`${a()}`)}),A(()=>O(g,`${ur.booleanSelect}`)),A(()=>$.checked=a()),g}})]}}),null),v(f,_(K,{get when(){return c().length>0},get children(){var g=Yh();return v(g,_(Uh,{clear:()=>u([])}),null),v(g,_(F,{get each(){return c()},children:(p,w)=>_(Nh,{get key(){return d(p.key)??""},get value(){return p.value},clear:()=>u($=>$.filter((S,P)=>P!==w()))})}),null),A(()=>O(g,`${ur.chipBar}`)),g}}),null),A(()=>O(b,`${ur.searchBar}`)),f})()},Jh=e=>(()=>{var t=Xh();return ii(t,Vt(e,{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 50 50"}),!0,!0),t})();ge(["keydown"]);const Zh=()=>{const e=Eo();return U(()=>[...e()])};var ed=x("<div><h1>Spells</h1><table><tbody></tbody></table><div>"),td=x("<span><i>"),nd=x("<tr><td><span><span></span><span><i></i></span></span><span></span></td><td><button>"),rd=x("<hr>");const id=()=>{const e=X(),t=Zh(),[n,r]=D([]),[i,s]=D([]),[o,a]=D([]),l=h=>c(h)?r(n().filter(d=>d!==h)):r([...n(),h]),c=h=>n().includes(h),u=h=>{switch(h){case"0":return"Cantrip";case"1":return"1st";case"2":return"2nd";case"3":return"3rd";default:return`${h}th`}};return(()=>{var h=ed(),d=h.firstChild,f=d.nextSibling,b=f.firstChild,m=f.nextSibling;return v(h,_(Qh,{searchResults:o,setSearchResults:a,spellsSrd:t}),f),v(b,_(F,{get each(){return i()},children:(y,g)=>[(()=>{var p=nd(),w=p.firstChild,$=w.firstChild,S=$.firstChild,P=S.nextSibling,C=P.firstChild,I=$.nextSibling,k=w.nextSibling,R=k.firstChild;return v(S,()=>y.name),v(C,()=>y.school),v($,_(K,{get when(){return y.concentration},get children(){var T=td(),E=T.firstChild;return v(E,()=>y.duration),T}}),null),v(I,()=>u(y.level)),R.$$click=()=>l(g()),v(R,()=>c(g())?"↑":"↓"),A(T=>{var E=`${cr.TableRow}`,B=cr.headerBar;return E!==T.e&&O(p,T.e=E),B!==T.t&&O(w,T.t=B),T},{e:void 0,t:void 0}),p})(),_(K,{get when(){return c(g())},get children(){return _(Bh,{spell:y})}}),rd()]})),v(m,_(Io,{items:o,setPaginatedItems:s})),A(y=>{var g=`${e.accent} ${cr.SpellsBody}`,p=`${e.table}`;return g!==y.e&&O(h,y.e=g),p!==y.t&&O(f,y.t=p),y},{e:void 0,t:void 0}),h})()};ge(["click"]);const sd="_featsList_1hcnd_1",od="_PreReqsBar_1hcnd_17",ad="_body_1hcnd_29",dr={featsList:sd,PreReqsBar:od,body:ad},ld="_featSearch_qhpg9_1",cd={featSearch:ld};var ud=x('<div><input id=FeatSearchBar type=text placeholder="Search Feats...">');const hd=e=>{const[t,n]=D("");return A(()=>{e.setSearchRes(e.items().filter(r=>{if(r)return r.name.toLowerCase().includes(t().toLowerCase())}))}),(()=>{var r=ud(),i=r.firstChild;return i.addEventListener("change",s=>n(s.currentTarget.value)),A(()=>O(r,cd.featSearch)),A(()=>i.value=t()),r})()};var dd=x("<div><div><h1>Feats</h1><ol>"),fd=x("<li> <button></button>"),os=x("<div>"),as=x("<br>"),pd=x("<div>Description:"),fr=x("<span>"),md=x("<div>Ability Score Requirement: "),gd=x("<span> of "),yd=x("<div>Class Requirement:"),vd=x("<div>class level Requirement:"),bd=x("<span> "),_d=x("<div>classes Requirement:");const wd=()=>{const[e,t]=D([]),[n,r]=D([]),[i,s]=D([]),o=u=>i().includes(u),a=u=>o(u)?s(i().filter(h=>h!==u)):s([...i(),u]),l=X(),c=Lo();return(()=>{var u=dd(),h=u.firstChild,d=h.firstChild,f=d.nextSibling;return v(h,_(hd,{items:c,setSearchRes:r}),f),v(f,_(F,{get each(){return n()},children:(b,m)=>[(()=>{var y=fd(),g=y.firstChild,p=g.nextSibling;return v(y,()=>b.name,g),p.$$click=()=>a(m()),v(p,()=>o(m())?"↑":"↓"),y})(),_(K,{get when(){return o(m())},get children(){return[(()=>{var y=os();return v(y,_(F,{get each(){return b.preReqs},children:g=>(()=>{var p=os();return v(p,_(On,{get children(){return[_(Pe,{get when(){return g.info.type===mt[0]},get children(){return[md(),(()=>{var w=gd(),$=w.firstChild;return v(w,()=>g.name,$),v(w,()=>g.value,null),w})()]}}),_(Pe,{get when(){return g.info.type===mt[1]},get children(){return[yd(),(()=>{var w=fr();return v(w,()=>g.value),w})()]}}),_(Pe,{get when(){return g.info.type===mt[2]},get children(){return[vd(),(()=>{var w=bd(),$=w.firstChild;return v(w,()=>g.name,$),v(w,()=>g.value,null),w})()]}}),_(Pe,{get when(){return g.info.type===mt[3]},get children(){return[_d(),(()=>{var w=fr();return v(w,()=>g.name),w})()]}})]}})),p})()})),A(()=>O(y,`${dr.PreReqsBar}`)),y})(),as(),pd(),(()=>{var y=fr();return v(y,_(F,{get each(){return b.desc},children:(g,p)=>[g,as()]})),y})()]}})]})),v(h,_(Io,{items:c,setPaginatedItems:t}),null),A(b=>{var m=`${l.accent} ${dr.featsList}`,y=`${dr.body}`;return m!==b.e&&O(u,b.e=m),y!==b.t&&O(h,b.t=y),b},{e:void 0,t:void 0}),u})()};ge(["click"]);const $d=()=>{const e=Ro();return U(()=>[...e()])},Sd="_sidebar_u5l8d_9",xd="_sidebar_shown_u5l8d_37",kd="_wrapper_u5l8d_43",Cd="_thePage_u5l8d_48",Pd="_outerStyles_u5l8d_59",Ed="_fixed_u5l8d_68",Ad="_flexrow_u5l8d_82",Rd="_wrap_u5l8d_43",Od="_abilityscore_u5l8d_92",Td="_sideBarBtn_u5l8d_99",Bd="_animate_u5l8d_113",Ld="_slidein_u5l8d_1",pn={sidebar:Sd,sidebar_shown:xd,wrapper:kd,thePage:Cd,outerStyles:Pd,fixed:Ed,flexrow:Ad,wrap:Rd,abilityscore:Od,sideBarBtn:Td,animate:Bd,slidein:Ld};var Id=x('<svg width=50 height=40 viewBox="0 0 50 50"xmlns=http://www.w3.org/2000/svg><path d="M 15 5 L 35 5 L 35 45 L 25 35 L 15 45 Z"fill=none stroke=white stroke-width=2>');const jd=e=>{let t=e.styles;return(()=>{var n=Id();return A(()=>We(n,"class",`${t.banner}`)),n})()};var Dd=x("<div> "),Kd=x("<button>→"),Nd=x("<button>subraces"),Md=x("<div>"),Fd=x("<div id=raceSideBar><div><span></span> <span></span><br>");const qd=e=>{const[t,n]=D(!1),r=X();let i=e.dndSrdRaces,s=e.styles,o=e.toggleRow,a=e.hasIndex;const l=async c=>{const u=document.getElementById(c);u?u.scrollIntoView({behavior:"smooth"}):(console.log("element not found"),console.log(` found : ${u}`))};return[_(K,{get when(){return t()===!0},get children(){var c=Dd();return c.firstChild,v(c,_(F,{get each(){return i()},children:(u,h)=>(()=>{var d=Fd(),f=d.firstChild,b=f.firstChild,m=b.nextSibling,y=m.nextSibling;return b.$$click=()=>o(h()),v(b,_(jd,{styles:s})),y.$$click=()=>l(u.name),v(y,()=>u.name),v(d,_(K,{get when(){return a(h())},get children(){return[" ",(()=>{var g=Md();return v(g,_(K,{get when(){return u.subRaces.length>0},get children(){return[(()=>{var p=Nd();return p.$$click=()=>l(u.subRaces[0].name),p})()," "]}})),A(()=>O(g,`${s.sidebar_shown}`)),g})()]}}),null),A(g=>{var p=`${s.sidebar}`,w=`${s.flexrow}`;return p!==g.e&&O(d,g.e=p),w!==g.t&&O(f,g.t=w),g},{e:void 0,t:void 0}),d})()}),null),A(()=>O(c,`${r.accent} ${s.fixed}`)),c}}),(()=>{var c=Kd();return c.$$click=()=>n(!t()),A(()=>O(c,`${s.sideBarBtn}`)),c})()]};ge(["click"]);const Vd="_subrace_1t2pp_1",Ud={subrace:Vd};var Wd=x("<div><h3>Sub Races"),Je=x("<br>"),ls=x("<div>"),zd=x("<span>languages:"),pr=x("<span>"),Hd=x("<h3>languages to choose from"),Yd=x("<div><span>name: </span><br><br><span>Ability Score increases:</span><br>"),Gd=x("<span><br><span></span> <span></span><br>"),Xd=x("<span>: ");const Qd=e=>{X();let t=e.race;return _(K,{get when(){return t.subRaces.length>0},get children(){return _(Jt,{get children(){return[Wd(),(()=>{var n=ls();return v(n,_(K,{get when(){return t.subRaces.length>0},get children(){return[Je(),(()=>{var r=ls();return v(r,_(F,{get each(){return t.subRaces},children:i=>[(()=>{var s=Yd(),o=s.firstChild;o.firstChild;var a=o.nextSibling,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling;return v(o,()=>i.name,null),v(s,_(K,{get when(){return i.abilityBonuses.length>0},get children(){return _(F,{get each(){return i.abilityBonuses},children:h=>(()=>{var d=Gd(),f=d.firstChild,b=f.nextSibling,m=b.nextSibling,y=m.nextSibling;return v(b,()=>h.name),v(y,()=>h.value),d})()})}}),u),v(s,_(K,{get when(){return i.traits.length>0},get children(){return _(F,{get each(){return i.traits},children:h=>[Je(),(()=>{var d=Xd(),f=d.firstChild;return v(d,()=>h.name,f),d})(),Je(),(()=>{var d=pr();return v(d,()=>h.value),d})(),Je()]})}}),u),v(s,_(K,{get when(){return i.languages.length>0},get children(){return[zd(),Je(),(()=>{var h=pr();return v(h,()=>i.languages.join(", ")),h})()]}}),null),v(s,_(K,{get when(){return i.languageChoice.choices.length>0},get children(){return[Hd(),_(F,{get each(){return i.languageChoice.choices},children:h=>[(()=>{var d=pr();return v(d,h),d})(),Je()]})]}}),null),A(h=>{var d=`${i.name}`,f=`${Ud.subrace}`;return d!==h.e&&We(s,"id",h.e=d),f!==h.t&&O(s,h.t=f),h},{e:void 0,t:void 0}),s})(),Je()]})),r})()]}})),n})()]}})}})};var Jd=x("<div>"),Zd=x("<div><h1></h1><h2> traits</h2><div><h3>Ability Score Increases: </h3><div></div><h3>Age:</h3><span></span><h3>Alignment:</h3><span></span><h3>Size:</h3><span></span><h3>Speed:</h3><span>ft</span><h3>Race Specific Traits:</h3><span></span><h3>Proficiencies</h3><div></div><h3>Languages:</h3><br>"),ef=x("<hr>"),mr=x("<br>"),gr=x("<span>"),tf=x("<div>: ");const nf=e=>{let t=e.styles,n=e.dndSrdRaces;return(()=>{var r=Jd();return v(r,_(F,{get each(){return n()},children:(i,s)=>[(()=>{var o=Zd(),a=o.firstChild,l=a.nextSibling,c=l.firstChild,u=l.nextSibling,h=u.firstChild,d=h.nextSibling,f=d.nextSibling,b=f.nextSibling,m=b.nextSibling,y=m.nextSibling,g=y.nextSibling,p=g.nextSibling,w=p.nextSibling,$=w.nextSibling,S=$.firstChild,P=$.nextSibling,C=P.nextSibling,I=C.nextSibling,k=I.nextSibling,R=k.nextSibling,T=R.nextSibling;return v(a,()=>i.name),v(l,()=>i.name,c),v(d,_(F,{get each(){return i.abilityBonuses},children:E=>[mr(),(()=>{var B=gr();return v(B,()=>E.name),B})()," ",(()=>{var B=gr();return v(B,()=>E.value),B})(),mr()]})),v(b,()=>i.age),v(y,()=>i.alignment),v(p,()=>i.sizeDescription),v($,()=>i.speed,S),v(C,_(F,{get each(){return i.traits},children:E=>[(()=>{var B=tf(),N=B.firstChild;return v(B,()=>E.name,N),v(B,_(F,{get each(){return E.value},children:ae=>(()=>{var H=gr();return v(H,ae),A(()=>O(H,`${t.wrap}`)),H})()}),null),B})(),mr()]})),v(k,()=>i.startingProficencies.map(E=>E.value).join(`
`)),v(u,()=>i.languageDesc,T),v(u,_(Qd,{styles:t,race:i}),null),A(E=>{var B=`${i.name}`,N=`${t.abilityscore}`,ae=`${t.wrap}`,H=`${t.wrap}`,q=`${t.wrap}`;return B!==E.e&&We(a,"id",E.e=B),N!==E.t&&O(d,E.t=N),ae!==E.a&&O(b,E.a=ae),H!==E.o&&O(y,E.o=H),q!==E.i&&O(p,E.i=q),E},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),o})(),_(K,{get when(){return s()!==n().length-1},get children(){var o=ef();return o.style.setProperty("width","100%"),o}})]})),A(()=>O(r,`${t.thePage}`)),r})()};var rf=x("<div id=racesComp><h1>Races</h1><div>");const sf=()=>{const e=$d(),t=X(),[n,r]=D([]),i=o=>s(o)?r(n().filter(a=>a!==o)):r([...n(),o]),s=o=>n().includes(o);return A(()=>{console.log(e())}),[_(qd,{dndSrdRaces:e,styles:pn,toggleRow:i,hasIndex:s}),(()=>{var o=rf(),a=o.firstChild,l=a.nextSibling;return v(l,_(nf,{styles:pn,dndSrdRaces:e})),A(c=>{var u=`${t.accent} ${pn.outerStyles}`,h=`${pn.wrapper}`;return u!==c.e&&O(o,c.e=u),h!==c.t&&O(l,c.t=h),c},{e:void 0,t:void 0}),o})()]},of=()=>{const e=Oo();return U(()=>[...e()])},af="_allBackgrounds_sz14l_1",lf="_backgrounds_sz14l_12",cf="_feature_sz14l_17",uf="_totalPanel_sz14l_21",hf="_body_sz14l_25",Ot={allBackgrounds:af,backgrounds:lf,feature:cf,totalPanel:uf,body:hf};var df=x("<div><h1>Backgrounds</h1><div></div>"),ff=x("<div>"),pf=x("<div><h2></h2><div></div><h3></h3><h3>choose: </h3><div></div><br><h3>Starting Equipment</h3><div></div><br><div></div><h3>Skill Proficiencies</h3><div>"),mf=x("<span><h3></h3><br><span>"),Tt=x("<br>"),yr=x("<span>"),gf=x("<h3>Choose: "),yf=x("<span> ");const vf=()=>{const e=X(),t=of();return(()=>{var n=df(),r=n.firstChild,i=r.nextSibling;return i.style.setProperty("width","50%"),v(i,_(F,{get each(){return t()},children:s=>_(Jt,{styles:Ot,get children(){return[(()=>{var o=ff();return v(o,()=>s.name),o})(),(()=>{var o=pf(),a=o.firstChild,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling;u.firstChild;var h=u.nextSibling,d=h.nextSibling,f=d.nextSibling,b=f.nextSibling,m=b.nextSibling,y=m.nextSibling,g=y.nextSibling,p=g.nextSibling;return v(a,()=>s.name),v(l,_(F,{get each(){return s.feature},children:w=>[(()=>{var $=mf(),S=$.firstChild,P=S.nextSibling,C=P.nextSibling;return v(S,()=>w.name),v(C,()=>w.value),A(()=>O(C,`${Ot.feature}`)),$})(),Tt()]})),v(c,()=>s.languageChoice.type),v(u,()=>s.languageChoice.choose,null),v(h,_(F,{get each(){return s.languageChoice.choices},children:w=>[(()=>{var $=yr();return v($,w),$})(),Tt()]})),v(b,_(F,{get each(){return s.startingEquipment},children:w=>[(()=>{var $=yr();return v($,()=>w.item),$})(),Tt()]})),v(y,_(F,{get each(){return s.startingEquipmentChoices},children:w=>[(()=>{var $=gf();return $.firstChild,v($,()=>w.choose,null),$})(),_(F,{get each(){return w.choices},children:$=>[(()=>{var S=yf(),P=S.firstChild;return v(S,()=>$.quantity,P),v(S,()=>$.item,null),S})(),Tt()]})]})),v(p,_(F,{get each(){return s.startingProficiencies},children:w=>[(()=>{var $=yr();return v($,()=>w.value),$})(),Tt()]})),A(()=>O(o,`${Ot.body}`)),o})()]}})})),A(s=>{var o=`${e.accent} ${Ot.allBackgrounds}`,a=`${Ot.backgrounds}`;return o!==s.e&&O(n,s.e=o),a!==s.t&&O(i,s.t=a),s},{e:void 0,t:void 0}),n})()};var bf=x("<table><thead><tr><th>Level</th><th>Proficiency Bonus</th><th>Features</th></tr></thead><tbody>"),_f=x("<th>"),wf=x("<tr><td></td><td></td><td>"),$f=x("<td><span>");const Sf=e=>{const t=e.Class;return(()=>{var n=bf(),r=n.firstChild,i=r.firstChild,s=i.firstChild,o=s.nextSibling;o.nextSibling;var a=r.nextSibling;return n.style.setProperty("width","100%"),v(i,_(F,{get each(){return Object.keys(t.classLevels[0].classSpecific)},children:l=>(()=>{var c=_f();return v(c,l),c})()}),null),v(a,_(F,{get each(){return t.classLevels.sort((l,c)=>l.info.level-c.info.level)},children:l=>(()=>{var c=wf(),u=c.firstChild,h=u.nextSibling,d=h.nextSibling;return c.style.setProperty("text-align","center"),v(u,()=>l.info.level),v(h,()=>l.profBonus),v(d,()=>l.features.map(f=>f.name).join(", ")),v(c,_(F,{get each(){return Object.keys(l.classSpecific)},children:f=>(()=>{var b=$f(),m=b.firstChild;return v(m,()=>l.classSpecific[f]),b})()}),null),c})()})),n})()},xf="_CenterPage_111dj_1",kf="_eachPage_111dj_8",Cf="_Center_111dj_1",Pf="_CenterTable_111dj_17",Bt={CenterPage:xf,eachPage:kf,Center:Cf,CenterTable:Pf};var Ef=x("<div>"),Af=x("<div><h2>Skills"),Rf=x("<div><br>"),Of=x("<div><h2>Starting Equipment"),Tf=x("<div><br><br><br><br><br>"),Bf=x("<div><h1></h1><div></div><h2>Proficiencies</h2><span>Armor: <!> </span> <span></span><br><span>Weapons: <!> </span><br><span>Tools:</span><br><br><span>Saving Throws: </span><br><br><br><hr>"),ce=x("<br>"),Lf=x("<span>Choose: "),Lt=x("<span>"),If=x("<h3>choice 1"),mn=x("<span>choose: "),cs=x("<div><br><span>"),jf=x("<h3>choice 2"),us=x("<div><br><br><span>"),Df=x("<h3>choice 3"),Kf=x("<h3>choice 4");const Nf=()=>{const e=X(),t=Bo();return A(()=>{console.log(t())}),(()=>{var n=Ef();return v(n,_(F,{get each(){return t()},children:r=>(()=>{var i=Bf(),s=i.firstChild,o=s.nextSibling,a=o.nextSibling,l=a.nextSibling,c=l.firstChild,u=c.nextSibling;u.nextSibling;var h=l.nextSibling,d=h.nextSibling,f=d.nextSibling,b=f.nextSibling,m=b.firstChild,y=m.nextSibling;y.nextSibling;var g=b.nextSibling,p=g.nextSibling;p.firstChild;var w=p.nextSibling,$=w.nextSibling,S=$.nextSibling;S.firstChild;var P=S.nextSibling,C=P.nextSibling,I=C.nextSibling,k=I.nextSibling;return v(s,()=>r.name),v(o,_(Sf,{Class:r})),v(l,()=>r.proficiencies.filter(R=>R.includes("armor")).join(", "),u),v(d,_(K,{get when(){return r.proficiencies.filter(R=>R==="Shields")},children:"& Shields"})),v(b,()=>r.proficiencies.filter(R=>R.includes("weapons")).join(", "),y),v(p,_(K,{get when(){return U(()=>!r.proficiencies.includes("Thieves' Tools"))()&&!r.proficiencies.includes("Herbalism Kit")},children:"None"}),null),v(p,_(K,{get when(){return!r.proficiencies.includes("Kit")},get children(){return r.proficiencies.filter(R=>R.includes("Kit"))}}),null),v(p,_(K,{get when(){return!r.proficiencies.includes("Tools")},get children(){return r.proficiencies.filter(R=>R.includes("Tools")).join(", ")}}),null),v(S,()=>r.savingThrows.join(", "),null),v(i,_(Jt,{get class(){return`${Bt.Center}`},style:{width:"50%"},get children(){return[Af(),(()=>{var R=Rf(),T=R.firstChild;return v(R,_(K,{get when(){return r.proficiencyChoices.length>0},get children(){return _(F,{get each(){return r.proficiencyChoices},children:E=>[ce(),(()=>{var B=Lf();return B.firstChild,v(B,()=>E.choose,null),B})(),ce(),ce(),_(F,{get each(){return E.choices},children:B=>[(()=>{var N=Lt();return v(N,B),N})(),ce()]})]})}}),T),R})()]}}),I),v(i,_(Jt,{get class(){return`${Bt.Center}`},style:{width:"50%"},get children(){return[Of(),(()=>{var R=Tf(),T=R.firstChild,E=T.nextSibling,B=E.nextSibling,N=B.nextSibling,ae=N.nextSibling;return v(R,_(K,{get when(){return r.startingEquipment.choice1.length>=1},get children(){return _(F,{get each(){return r.startingEquipment.choice1},children:(H,q)=>(()=>{var W=cs(),Q=W.firstChild,oe=Q.nextSibling;return v(W,_(K,{get when(){return q()<1},get children(){return If()}}),Q),v(W,_(K,{get when(){return q()<1},get children(){var le=mn();return le.firstChild,v(le,()=>H.choose,null),le}}),oe),v(oe,_(F,{get each(){return H.choices},children:(le,fe)=>[ce(),(()=>{var Me=Lt();return v(Me,()=>le.item),Me})(),ce(),ce()]})),W})()})}}),E),v(R,_(K,{get when(){return r.startingEquipment.choice2},get children(){return _(F,{get each(){return r.startingEquipment.choice2},children:(H,q)=>(()=>{var W=us(),Q=W.firstChild,oe=Q.nextSibling,le=oe.nextSibling;return v(W,_(K,{get when(){return q()<1},get children(){return jf()}}),Q),v(W,_(K,{get when(){return q()<1},get children(){var fe=mn();return fe.firstChild,v(fe,()=>H.choose,null),fe}}),oe),v(le,_(F,{get each(){return H.choices},children:fe=>[ce(),(()=>{var Me=Lt();return v(Me,()=>fe.item),Me})(),ce(),ce()]})),W})()})}}),N),v(R,_(K,{get when(){return r.startingEquipment.choice3},get children(){return _(F,{get each(){return r.startingEquipment.choice3},children:(H,q)=>(()=>{var W=us(),Q=W.firstChild,oe=Q.nextSibling,le=oe.nextSibling;return v(W,_(K,{get when(){return q()<1},get children(){return Df()}}),Q),v(W,_(K,{get when(){return q()<1},get children(){var fe=mn();return fe.firstChild,v(fe,()=>H.choose,null),fe}}),oe),v(le,_(F,{get each(){return H.choices},children:fe=>[ce(),(()=>{var Me=Lt();return v(Me,()=>fe.item),Me})(),ce(),ce()]})),W})()})}}),ae),v(R,_(K,{get when(){return r.startingEquipment.choice4},get children(){return _(F,{get each(){return r.startingEquipment.choice4},children:(H,q)=>(()=>{var W=cs(),Q=W.firstChild,oe=Q.nextSibling;return v(W,_(K,{get when(){return q()<1},get children(){return Kf()}}),Q),v(W,_(K,{get when(){return q()<1},get children(){var le=mn();return le.firstChild,v(le,()=>H.choose,null),le}}),oe),v(oe,_(F,{get each(){return H.choices},children:le=>[ce(),(()=>{var fe=Lt();return v(fe,()=>le.item),fe})(),ce(),ce()]})),W})()})}}),null),R})()]}}),k),k.style.setProperty("width","100%"),A(R=>{var T=`${Bt.eachPage}`,E=`${Bt.CenterTable}`;return T!==R.e&&O(i,R.e=T),E!==R.t&&O(o,R.t=E),R},{e:void 0,t:void 0}),i})()})),A(()=>O(n,`${Bt.CenterPage} ${e.accent}`)),n})()};var Mf=x("<div>");const jo=ri(()=>Mn(()=>import("./characters-pWlsL3lg.js"),__vite__mapDeps([0,1,2]))),Do=ri(()=>Mn(()=>import("./create-ceQNYAN5.js"),__vite__mapDeps([3,2]))),Ko=ri(()=>Mn(()=>import("./view-1C2YZLGm.js"),__vite__mapDeps([4,1,5]))),Ff=document.getElementById("root"),qf=60*1e3,{needRefresh:Vf,offlineReady:Uf,updateServiceWorker:Yf}=To({onRegisteredSW(e,t){t&&setInterval(()=>{jo.preload(),Do.preload(),Ko.preload(),t.update()},qf)},onRegisterError(e){console.log("SW registration error",e)},onNeedRefresh(){console.log("onNeedRefresh")},onOfflineReady(){console.log("onOfflineReady")}}),Wf=e=>{const t=X(),n=function(){let o=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(o=!0)}(navigator.userAgent||navigator.vendor),o},r=()=>s(window.matchMedia("only screen and (max-width: 768px)").matches);window.addEventListener("resize",r),A(()=>{console.log("updateServiceWorker.needRefresh: ",Vf[0]())}),A(()=>{console.log("updateServiceWorker.offlineReady: ",Uf[0]())});const[i,s]=D(n());return A(()=>{const o=!!(n()||window.innerWidth<=768);s(o)}),(()=>{var o=Mf();return o.style.setProperty("height","100vh"),v(o,_(Du,{list:[i,s],get style(){return t.accent}}),null),v(o,()=>e.children,null),A(()=>O(o,t.primary)),o})()};da(()=>_(Za,{root:Wf,get children(){return[_(te,{path:"/",component:vu}),_(te,{path:"/characters",get children(){return[_(te,{path:"/",component:jo}),_(te,{path:"/view",component:Ko}),_(te,{path:"/create",component:Do})]}}),_(te,{path:"/info",get children(){return[_(te,{path:"/races",component:sf}),_(te,{path:"/spells",component:id}),_(te,{path:"/feats",component:wd}),_(te,{path:"/classes",component:Nf}),_(te,{path:"/backgrounds",component:vf})]}}),_(te,{path:"/homebrew",get children(){return[_(te,{path:"/",component:Nu}),_(te,{path:"/view",component:Xu}),_(te,{path:"/create",get children(){return[_(te,{path:"/",component:Yu}),_(te,{path:"/classes",component:eh}),_(te,{path:"/items",component:ih}),_(te,{path:"/feats",component:uh}),_(te,{path:"/backgrounds",component:ph}),_(te,{path:"/spells",component:vh}),_(te,{path:"/races",component:$h})]}})]}})]}}),Ff);export{F,A as a,O as b,_ as c,D as d,U as e,Xc as f,Bo as g,Zh as h,v as i,Lo as j,$d as k,of as l,zf as m,Hf as n,We as s,x as t,X as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/characters-pWlsL3lg.js","assets/useCharacters-WW0J8HcS.js","assets/characters-i2fzY9Kk.css","assets/create-ceQNYAN5.js","assets/view-1C2YZLGm.js","assets/view-aa-IgBHj.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
