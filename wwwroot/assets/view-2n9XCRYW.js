import{u as D,d as H,a as d,i as r,c as o,e as v,s as K,F as N,b as _,t as m,f as Q,g as U,h as X,j as R,k as O,l as F,m as Y,n as Z}from"./index-HOxiprDp.js";import{u as ee}from"./useCharacters-nF8zqeAO.js";const te="_mainBody_1x0kc_1",ae={mainBody:te},se="_statBlocks_1g289_1",re={statBlocks:se},ne="_statStyle_1qcla_1",ie="_stat_1qcla_1",le="_secondBox_1qcla_51",P={statStyle:ne,stat:ie,secondBox:le};var ce=m("<div><div><span><span></span><ul><li></li><li></li></ul></span></div><div><ul><li> Saving Throw: "),oe=m("<li><span></span><label> <!> </label><span><u>_<!>_"),ue=m("<u>✓✓ "),fe=m("<u>✓_ "),de=m("<u>__");const G=[{name:"Acrobatics",proficient:!0,expertise:!1},{name:"Animal Handling",proficient:!1,expertise:!1},{name:"Arcana",proficient:!1,expertise:!1},{name:"Athletics",proficient:!1,expertise:!1},{name:"Deception",proficient:!1,expertise:!1},{name:"History",proficient:!1,expertise:!1},{name:"Insight",proficient:!1,expertise:!1},{name:"Intimidation",proficient:!1,expertise:!1},{name:"Investigation",proficient:!1,expertise:!1},{name:"Medicine",proficient:!1,expertise:!1},{name:"Nature",proficient:!1,expertise:!1},{name:"Perception",proficient:!1,expertise:!1},{name:"Performance",proficient:!1,expertise:!1},{name:"Persuasion",proficient:!1,expertise:!1},{name:"Religion",proficient:!1,expertise:!1},{name:"Sleight of Hand",proficient:!1,expertise:!1},{name:"Stealth",proficient:!1,expertise:!1},{name:"Survival",proficient:!1,expertise:!1}],x=e=>{const n=t=>Math.floor((t-10)/2),a=D(),[l,u]=H(G);d(()=>{u(G.map(t=>(e.skills.includes(t.name)&&(t={...t,proficient:!0}),e.expertise?.includes(t.name)&&(t={...t,proficient:!0,expertise:!0}),t)))});const f=t=>{switch(t){case"Strength":return["Athletics"];case"Dexterity":return["Acrobatics","Sleight of Hand","Stealth"];case"Constitution":return[];case"Intelligence":return["Arcana","History","Investigation","Nature","Religion"];case"Wisdom":return["Animal Handling","Insight","Medicine","Perception","Survival"];case"Charisma":return["Deception","Intimidation","Performance","Persuasion"];default:return[]}},i=t=>{let c=n(e.stat);return t.proficient&&(c+=e.proficientMod),t.expertise&&(c+=e.proficientMod),c};return(()=>{var t=ce(),c=t.firstChild,h=c.firstChild,C=h.firstChild,I=C.nextSibling,$=I.firstChild,p=$.nextSibling,w=c.nextSibling,k=w.firstChild,g=k.firstChild,y=g.firstChild;return r(C,()=>n(e.stat)),r($,()=>e.stat),r(p,()=>e.name),r(g,()=>e.name,y),r(k,o(N,{get each(){return l().filter(s=>f(e.name).includes(s.name))},children:s=>(()=>{var b=oe(),B=b.firstChild,S=B.nextSibling,M=S.firstChild,A=M.nextSibling;A.nextSibling;var V=S.nextSibling,L=V.firstChild,W=L.firstChild,E=W.nextSibling;return E.nextSibling,r(B,(()=>{var T=v(()=>!!s.proficient);return()=>T()?(()=>{var z=v(()=>!!s.expertise);return()=>z()?ue():fe()})():de()})()),r(S,()=>s.name,A),r(L,()=>i(s),E),d(()=>K(S,"for",s.name)),b})()}),null),d(s=>{var b=`${P.statStyle}`,B=`${P.stat}`,S=`${a.accent}`,M=`${P.secondBox}`;return b!==s.e&&_(t,s.e=b),B!==s.t&&_(c,s.t=B),S!==s.a&&_(C,s.a=S),M!==s.o&&_(w,s.o=M),s},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()};var me=m("<div>");const he=e=>{D();const n=a=>Math.ceil(a/4)+1;return(()=>{var a=me();return r(a,o(x,{get stat(){return e.fullStats().str},name:"Strength",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),r(a,o(x,{get stat(){return e.fullStats().dex},name:"Dexterity",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),r(a,o(x,{get stat(){return e.fullStats().con},name:"Constitution",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),r(a,o(x,{get stat(){return e.fullStats().int},name:"Intelligence",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),r(a,o(x,{get stat(){return e.fullStats().wis},name:"Wisdom",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),r(a,o(x,{get stat(){return e.fullStats().cha},name:"Charisma",get proficientMod(){return n(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),d(()=>_(a,`${re.statBlocks}`)),a})()},j=()=>{const e=Q();return v(()=>[...e()])},q=()=>{const e=U();return v(()=>[...e()])},J=()=>{const e=X();return v(()=>[...e()])},ge=e=>v(()=>{R(),j(),O();const a=F();q(),J();const l=a().filter(f=>f.name.toLowerCase()===e()?.race.toLowerCase())[0];let u={str:e()?.stats.str,dex:e()?.stats.dex,con:e()?.stats.con,int:e()?.stats.int,wis:e()?.stats.wis,cha:e()?.stats.cha};if(l&&l.abilityBonuses.length>0){l.abilityBonuses.forEach(i=>{Object.keys(u).forEach(t=>{i.name.toLowerCase()===t&&(u[t]+=i.value)})});const f=l.subRaces?.filter(i=>i.name.toLowerCase()===e()?.subrace?.toLowerCase())[0];f&&f.abilityBonuses.forEach(i=>{Object.keys(u).forEach(t=>{i.name.toLowerCase()===t&&(u[t]+=i.value)})})}return u});var Se=m("<div><h1>Characters View</h1><div><div><select></select></div><div><div><h2>Stats"),xe=m("<option>");const Ce=()=>{const e=D();Y();const[n,a]=Z(),[l,u]=ee();n.name||a({name:l()[0].name});const f=l().filter(h=>h.name.toLowerCase()===(n.name||l()[0].name).toLowerCase())[0],[i,t]=H(f),c=ge(i);return R(),j(),O(),F(),q(),J(),d(()=>{a({name:i().name})}),(()=>{var h=Se(),C=h.firstChild,I=C.nextSibling,$=I.firstChild,p=$.firstChild,w=$.nextSibling,k=w.firstChild;return k.firstChild,p.addEventListener("change",g=>t(()=>JSON.parse(g.target.value))),r(p,o(N,{get each(){return l()},children:g=>(()=>{var y=xe();return r(y,()=>g.name),d(()=>y.value=JSON.stringify(g)),y})()})),r(k,o(he,{fullStats:c,currentCharacter:i}),null),d(()=>_(h,`${e.accent} ${ae.mainBody}`)),d(()=>p.value=JSON.stringify(i())),h})()};export{Ce as default};
