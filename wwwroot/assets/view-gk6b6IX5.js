import{f as X,c as $,h as R,j as O,k as F,l as j,m as q,g as J,u as E,n as U,b as d,i as a,a as f,s as Y,F as V,d as C,t as h,o as Z,p as ee,e as te}from"./index-RIiUy_gs.js";const W=()=>{const e=X();return $(()=>[...e()])},se=e=>$(()=>{R(),O(),F();const r=j();W(),q();const m=r().filter(n=>n.name.toLowerCase()===e()?.race.toLowerCase())[0];let l={str:e()?.stats.str,dex:e()?.stats.dex,con:e()?.stats.con,int:e()?.stats.int,wis:e()?.stats.wis,cha:e()?.stats.cha};if(m&&m.abilityBonuses.length>0){m.abilityBonuses.forEach(c=>{Object.keys(l).forEach(o=>{c.name.toLowerCase()===o&&(l[o]+=c.value)})});const n=m.subRaces?.filter(c=>c.name.toLowerCase()===e()?.subrace?.toLowerCase())[0];n&&n.abilityBonuses.forEach(c=>{Object.keys(l).forEach(o=>{c.name.toLowerCase()===o&&(l[o]+=c.value)})})}return l}),ae="_mainBody_1x0kc_1",re={mainBody:ae},ie="_statBlocks_1g289_1",ne={statBlocks:ie},le="_statStyle_1qcla_1",ce="_stat_1qcla_1",oe="_secondBox_1qcla_51",L={statStyle:le,stat:ce,secondBox:oe};var ue=h("<div><div><span><span></span><ul><li></li><li></li></ul></span></div><div><ul><li> Saving Throw: "),fe=h("<li><span></span><label> <!> </label><span><u>_<!>_"),me=h("<u>✓✓ "),de=h("<u>✓_ "),he=h("<u>__");const N=[{name:"Acrobatics",proficient:!0,expertise:!1},{name:"Animal Handling",proficient:!1,expertise:!1},{name:"Arcana",proficient:!1,expertise:!1},{name:"Athletics",proficient:!1,expertise:!1},{name:"Deception",proficient:!1,expertise:!1},{name:"History",proficient:!1,expertise:!1},{name:"Insight",proficient:!1,expertise:!1},{name:"Intimidation",proficient:!1,expertise:!1},{name:"Investigation",proficient:!1,expertise:!1},{name:"Medicine",proficient:!1,expertise:!1},{name:"Nature",proficient:!1,expertise:!1},{name:"Perception",proficient:!1,expertise:!1},{name:"Performance",proficient:!1,expertise:!1},{name:"Persuasion",proficient:!1,expertise:!1},{name:"Religion",proficient:!1,expertise:!1},{name:"Sleight of Hand",proficient:!1,expertise:!1},{name:"Stealth",proficient:!1,expertise:!1},{name:"Survival",proficient:!1,expertise:!1}],v=e=>{const i=t=>Math.floor((t-10)/2),[r,m]=J(),l=$(()=>E(r().theme)),[n,c]=U(N);d(()=>{c(N.map(t=>(e.skills.includes(t.name)&&(t={...t,proficient:!0}),e.expertise?.includes(t.name)&&(t={...t,proficient:!0,expertise:!0}),t)))});const o=t=>{switch(t){case"Strength":return["Athletics"];case"Dexterity":return["Acrobatics","Sleight of Hand","Stealth"];case"Constitution":return[];case"Intelligence":return["Arcana","History","Investigation","Nature","Religion"];case"Wisdom":return["Animal Handling","Insight","Medicine","Perception","Survival"];case"Charisma":return["Deception","Intimidation","Performance","Persuasion"];default:return[]}},_=t=>{let u=i(e.stat);return t.proficient&&(u+=e.proficientMod),t.expertise&&(u+=e.proficientMod),u};return(()=>{var t=ue(),u=t.firstChild,g=u.firstChild,p=g.firstChild,A=p.nextSibling,y=A.firstChild,b=y.nextSibling,I=u.nextSibling,k=I.firstChild,S=k.firstChild,B=S.firstChild;return a(p,()=>i(e.stat)),a(y,()=>e.stat),a(b,()=>e.name),a(S,()=>e.name,B),a(k,f(V,{get each(){return n().filter(s=>o(e.name).includes(s.name))},children:s=>(()=>{var w=fe(),M=w.firstChild,x=M.nextSibling,P=x.firstChild,D=P.nextSibling;D.nextSibling;var T=x.nextSibling,G=T.firstChild,z=G.firstChild,H=z.nextSibling;return H.nextSibling,a(M,(()=>{var K=$(()=>!!s.proficient);return()=>K()?(()=>{var Q=$(()=>!!s.expertise);return()=>Q()?me():de()})():he()})()),a(x,()=>s.name,D),a(G,()=>_(s),H),d(()=>Y(x,"for",s.name)),w})()}),null),d(s=>{var w=`${L.statStyle}`,M=`${L.stat}`,x=`${l().accent}`,P=`${L.secondBox}`;return w!==s.e&&C(t,s.e=w),M!==s.t&&C(u,s.t=M),x!==s.a&&C(p,s.a=x),P!==s.o&&C(I,s.o=P),s},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()};var ge=h("<div>");const Se=e=>{E();const i=r=>Math.ceil(r/4)+1;return(()=>{var r=ge();return a(r,f(v,{get stat(){return e.fullStats().str},name:"Strength",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),a(r,f(v,{get stat(){return e.fullStats().dex},name:"Dexterity",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),a(r,f(v,{get stat(){return e.fullStats().con},name:"Constitution",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),a(r,f(v,{get stat(){return e.fullStats().int},name:"Intelligence",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),a(r,f(v,{get stat(){return e.fullStats().wis},name:"Wisdom",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),a(r,f(v,{get stat(){return e.fullStats().cha},name:"Charisma",get proficientMod(){return i(e.currentCharacter().level)},get skills(){return e.currentCharacter().skills?.proficient??[]},get expertise(){return e.currentCharacter().skills?.expertise}}),null),d(()=>C(r,`${ne.statBlocks}`)),r})()};var xe=h("<div><h1>Characters View</h1><div><div><select></select></div><div><div><h2>Stats"),_e=h("<option>");const Ce=()=>{const[e,i]=J(),r=$(()=>E(e().theme));Z();const[m,l]=ee(),[n,c]=te();m.name||l({name:n()[0].name});const o=n().filter(g=>g.name.toLowerCase()===(m.name||n()[0].name).toLowerCase())[0],[_,t]=U(o),u=se(_);return R(),O(),F(),j(),W(),q(),d(()=>{l({name:_().name})}),(()=>{var g=xe(),p=g.firstChild,A=p.nextSibling,y=A.firstChild,b=y.firstChild,I=y.nextSibling,k=I.firstChild;return k.firstChild,b.addEventListener("change",S=>t(()=>JSON.parse(S.target.value))),a(b,f(V,{get each(){return n()},children:S=>(()=>{var B=_e();return a(B,()=>S.name),d(()=>B.value=JSON.stringify(S)),B})()})),a(k,f(Se,{fullStats:u,currentCharacter:_}),null),d(()=>C(g,`${r().accent} ${re.mainBody}`)),d(()=>b.value=JSON.stringify(_())),g})()};export{Ce as default};
